var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,e,v){c!=Array.prototype&&c!=Object.prototype&&(c[e]=v.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var e=0;return $jscomp.iteratorPrototype(function(){return e<c.length?{done:!1,value:c[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};
!function(c,e,v,K){XF.THHolidaysFireworks=XF.Element.newHandler({init:function(){function w(b){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return w(b)}function A(b,a){if(a&&("object"===w(a)||"function"===
typeof a))return a;if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function r(b,a,d){r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,b,d){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=g(a),null!==a););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(d):b.value};return r(b,a,d||b)}function g(b){g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};
return g(b)}function B(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}});a&&y(b,a)}function y(b,a){y=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return y(b,a)}function C(b,a){$jscomp.initSymbol();$jscomp.initSymbol();return null!=a&&"undefined"!==typeof Symbol&&a[Symbol.hasInstance]?($jscomp.initSymbol(),!!a[Symbol.hasInstance](b)):
b instanceof a}function l(b,a){if(!C(b,a))throw new TypeError("Cannot call a class as a function");}function D(b,a){for(var d=0;d<a.length;d++){var f=a[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}function m(b,a,d){a&&D(b.prototype,a);d&&D(b,d);return b}var n={rocketInterval:1E3,maxRadius:2,minRadius:1,trails:64};try{var p=c.parseJSON(c(".js-thHolidaysFireworksOptions").first().html())||{};for(q in p)n[q]=parseFloat(p[q])}catch(b){console.error(b)}var k=
function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;l(this,b);this.x=a;this.y=d}m(b,[{key:"add",value:function(a){this.x+=a.x;this.y+=a.y;return this}},{key:"multiplyScalar",value:function(a){this.x*=a;this.y*=a;return this}},{key:"clone",value:function(){return new b(this.x,this.y)}}]);return b}(),z=function(){function b(){l(this,b);var a=b.now();this.elapsed=this.delta=0;this.previous=this.start=a}m(b,
[{key:"update",value:function(){var a=b.now();this.delta=a-this.previous;this.elapsed=a-this.start;this.previous=a}}],[{key:"now",value:function(){return Date.now()/1E3}}]);return b}(),t=function(){function b(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new k,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"white",x=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,e=5<arguments.length&&void 0!==arguments[5]?
arguments[5]:1;l(this,b);this.position=a;this.velocity=d;this.color=f;this.radius=x;this.lifetime=c;this.mass=e;this.isInCanvas=!0;this.createdOn=z.now()}m(b,[{key:"update",value:function(a){this.getRemainingLifetime()&&(this.velocity.add(b.GRAVITATION.clone().multiplyScalar(this.mass)),this.position.add(this.velocity.clone().multiplyScalar(a.delta)))}},{key:"render",value:function(a,b){if(a=this.getRemainingLifetime()){var f=this.radius*a;b.globalAlpha=a;b.globalCompositeOperation="lighter";b.fillStyle=
this.color;b.beginPath();b.arc(this.position.x,this.position.y,f,0,2*Math.PI);b.fill()}}},{key:"getRemainingLifetime",value:function(){var a=z.now()-this.createdOn;return Math.max(0,this.lifetime-a)/this.lifetime}}]);return b}();t.GRAVITATION=new k(0,9.81);var E=function(b){function a(b,f){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new k;var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1;l(this,a);d=A(this,g(a).call(this,
f,d));d.childFactory=b;d.children=[];d.lifetime=c;d.mass=e;d.isAlive=!0;return d}B(a,b);m(a,[{key:"update",value:function(b){r(g(a.prototype),"update",this).call(this,b);this.isAlive&&this.getRemainingLifetime()&&this.children.push(this.childFactory(this));this.children=this.children.filter(function(b){return C(b,a)?b.isAlive:b.getRemainingLifetime()});this.children.length||(this.isAlive=!1);this.children.forEach(function(a){a.update(b)})}},{key:"render",value:function(a,b){this.children.forEach(function(d){d.render(a,
b)})}}]);return a}(t),H=function(b){function a(b,c,x){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new k;l(this,a);d=A(this,g(a).call(this,b,x,d));d.explosionFactory=c;d.lifetime=10;return d}B(a,b);m(a,[{key:"update",value:function(b){this.getRemainingLifetime()&&0<this.velocity.y&&(this.explosionFactory(this),this.lifetime=0);r(g(a.prototype),"update",this).call(this,b)}}]);return a}(E),h=this.$target[0],F=h.getContext("2d"),G=new z,u=[],I=function(b){return function(a){a=this.position.clone();
var b=this.velocity.clone().multiplyScalar(-.1);b.x+=8*(Math.random()-.5);var c="hsl(".concat(Math.floor(15*Math.random()+30),", 100%, 75%");return new t(a,b,c,n.minRadius+Math.random()*n.maxRadius,.5+.5*Math.random(),.01)}},J=function(b){function a(){return function(a){var d=Math.random()*Math.PI*2;d=new k(8*Math.cos(d),8*Math.sin(d));var c=Math.floor(50*Math.pow(Math.random(),2)+50);c="hsl(".concat(Math.floor(b+15*Math.random())%360,", 100%, ").concat(c,"%");var f=1+Math.random();return new t(a.position.clone(),
d,c,f,1,.1)}}function d(b){var d=Math.random()*Math.PI*2,c=128*Math.random();d=new k(Math.cos(d)*c,Math.sin(d)*c);c=.5+Math.random();return new E(a(),b,d,c,.075)}return function(a){for(var b=n.trails;b--;)a.children.push(d(a.position.clone()))}};p=function(){var b=I(),a=J(360*Math.random()),d=new k(Math.random()*h.width,h.height),c=.75*e.innerHeight,g=Math.PI/-2+(Math.random()-.5)*Math.PI/8;c=new k(Math.cos(g)*c,Math.sin(g)*c);u.push(new H(b,a,d,c,3));u=u.filter(function(a){return a.isAlive})};var q=
function(){h.height=e.innerHeight;h.width=e.innerWidth};h.onclick=p;v.body.appendChild(h);e.onresize=q;q();setInterval(p,n.rocketInterval);(function a(){requestAnimationFrame(a);G.update();F.clearRect(0,0,h.width,h.height);u.forEach(function(a){a.update(G);a.render(h,F)})})()}});XF.Element.register("th-holidays-fireworks","XF.THHolidaysFireworks")}(jQuery,window,document);
