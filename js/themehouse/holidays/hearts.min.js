!function(n,e,r,t){XF.THHolidaysHearts=XF.Element.newHandler({init:function(){function f(){this.x=Math.random()*c;this.y=Math.random()*d;this.opacity=Math.random()*a.maxOpacity+a.minOpacity;this.vel={x:(Math.random()-.5)*a.maxVelocity+a.minVelocity,y:(Math.random()-.5)*a.maxVelocity+a.minVelocity};this.targetScale=Math.random()*a.maxSize+a.minSize;this.scale=this.targetScale*Math.random()}function p(){g.clearRect(0,0,c,d);for(var b=0;b<a.hearts;b++)h[b].update(),h[b].draw();requestAnimationFrame(p)}
var a={maxOpacity:.7,minOpacity:.3,maxVelocity:1,minVelocity:0,maxSize:.05,minSize:.02,hearts:50};try{var q=n.parseJSON(n(".js-thHolidaysHeartsOptions").first().html())||{},k;for(k in q)a[k]=parseFloat(q[k])}catch(b){console.error(b)}console.log(a);var l=this.$target[0],g=l.getContext("2d"),c=e.innerWidth,d=e.innerHeight,h=[];f.prototype.update=function(){this.x+=this.vel.x;this.y+=this.vel.y;this.scale+=.01*(this.targetScale-this.scale);if(this.x-this.width>c||0>this.x+this.width)this.scale=0,this.x=
Math.random()*c;if(this.y-this.height>d||0>this.y+this.height)this.scale=0,this.y=Math.random()*d;this.width=473.8*this.scale;this.height=408.6*this.scale};f.prototype.draw=function(){g.globalAlpha=this.opacity;g.drawImage(m,this.x-.5*this.width,this.y-.5*this.height,this.width,this.height)};var m=new Image;m.onload=function(){requestAnimationFrame(p);l.width=c;l.height=d;for(var b=0;b<a.hearts;b++)h.push(new f)};m.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NzMuOHB4IiBoZWlnaHQ9IjQwOC42cHgiIHZpZXdCb3g9IjAgMCA0NzMuOCA0MDguNiI+PHBhdGggZmlsbD0iI2QzMjkzMiIgZD0iTTQwNC42LDE2LjZDMzg1LjQsNi4xLDM2My41LDAsMzQwLDBjLTQxLjUsMC03OC41LDE4LjktMTAzLDQ4LjVDMjEyLjMsMTguOSwxNzUuMywwLDEzMy44LDAgYy0yMy4zLDAtNDUuMyw2LjEtNjQuNSwxNi42QzI3LjksMzkuNSwwLDgzLjQsMCwxMzMuOWMwLDE0LjQsMi40LDI4LjMsNi42LDQxLjJDMjkuNiwyNzguNCwyMzcsNDA4LjYsMjM3LDQwOC42IHMyMDcuMi0xMzAuMiwyMzAuMi0yMzMuNWM0LjMtMTIuOSw2LjYtMjYuOCw2LjYtNDEuMkM0NzMuOCw4My40LDQ0NS45LDM5LjYsNDA0LjYsMTYuNnoiLz48L3N2Zz4=";
e.addEventListener("resize",function(){c=e.innerWidth;d=e.innerHeight})}});XF.Element.register("th-holidays-hearts","XF.THHolidaysHearts")}(jQuery,window,document);
