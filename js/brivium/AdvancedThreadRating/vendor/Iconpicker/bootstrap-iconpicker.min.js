/*
 ========================================================================
 File: bootstrap-iconpicker.js v1.9.0 by @victor-valencia
 https://victor-valencia.github.com/bootstrap-iconpicker
 ========================================================================
 Copyright 2013-2017 Victor Valencia Rico.
 Licensed under MIT license.
 https://github.com/victor-valencia/bootstrap-iconpicker/blob/master/LICENSE
 ========================================================================
*/
(function(d){var b=function(a,c){this.$element=d(a);this.options=d.extend({},b.DEFAULTS,this.$element.data());this.options=d.extend({},this.options,c)};b.VERSION="1.9.0";b.ICONSET_EMPTY={iconClass:"",iconClassFix:"",icons:[]};b.ICONSET={_custom:null,elusiveicon:d.iconset_elusiveicon||b.ICONSET_EMPTY,flagicon:d.iconset_flagicon||b.ICONSET_EMPTY,fontawesome:d.iconset_fontawesome||b.ICONSET_EMPTY,glyphicon:d.iconset_glyphicon||b.ICONSET_EMPTY,ionicon:d.iconset_ionicon||b.ICONSET_EMPTY,mapicon:d.iconset_mapicon||
b.ICONSET_EMPTY,materialdesign:d.iconset_materialdesign||b.ICONSET_EMPTY,octicon:d.iconset_octicon||b.ICONSET_EMPTY,typicon:d.iconset_typicon||b.ICONSET_EMPTY,weathericon:d.iconset_weathericon||b.ICONSET_EMPTY};b.DEFAULTS={align:"center",arrowClass:"btn-primary",arrowNextIconClass:"glyphicon glyphicon-arrow-right",arrowPrevIconClass:"glyphicon glyphicon-arrow-left",cols:4,icon:"",iconset:"glyphicon",iconsetVersion:"lastest",header:!0,labelHeader:"{0} / {1}",footer:!0,labelFooter:"{0} - {1} of {2}",
placement:"bottom",rows:4,search:!0,searchText:"Search icon",selectedClass:"btn-warning",unselectedClass:"btn-default"};b.prototype.bindEvents=function(){var a=this.options,c=this;a.table.find(".btn-previous, .btn-next").off("click").on("click",function(b){b.preventDefault();d(this).hasClass("disabled")||(b=parseInt(d(this).val(),10),c.changeList(a.page+b))});a.table.find(".btn-icon").off("click").on("click",function(b){b.preventDefault();c.select(d(this).val());!1===a.inline?c.$element.popover("destroy"):
a.table.find("i."+d(this).val()).parent().addClass(a.selectedClass)});a.table.find(".search-control").off("keyup").on("keyup",function(){c.changeList(1)})};b.prototype.changeList=function(a){this.filterIcons();this.updateLabels(a);this.updateIcons(a);this.options.page=a;this.bindEvents()};b.prototype.filterIcons=function(){var a=this.options,c=a.table.find(".search-control").val(),f=[];"lastest"!=a.iconsetVersion&&"undefined"!=typeof b.ICONSET[a.iconset].allVersions?d.each(b.ICONSET[a.iconset].allVersions,
function(c,b){a.iconsetVersion==b.version&&(f=b.icons)}):f=b.ICONSET[a.iconset].icons;if(""===c)a.icons=f;else{var e=[];d.each(f,function(a,b){-1<b.toLowerCase().indexOf(c)&&e.push(b)});a.icons=e}};b.prototype.removeAddClass=function(a,c,b){this.options.table.find(a).removeClass(c).addClass(b);return b};b.prototype.reset=function(){this.updatePicker();this.changeList(1)};b.prototype.select=function(a){var c=this.options,b=this.$element;c.selected=d.inArray(a.replace(c.iconClassFix,""),c.icons);-1===
c.selected&&(c.selected=0,a=c.iconClassFix+c.icons[c.selected]);""!==a&&0<=c.selected&&(c.icon=a,!1===c.inline&&(b.find("input").val(a),b.find("i").attr("class","").addClass(c.iconClass).addClass(a)),a===c.iconClassFix?b.trigger({type:"change",icon:"empty"}):(b.trigger({type:"change",icon:a}),b.find("input").val(a)),c.table.find("button."+c.selectedClass).removeClass(c.selectedClass))};b.prototype.switchPage=function(a){var c=this.options;c.selected=d.inArray(a.replace(c.iconClassFix,""),c.icons);
if(0<=c.selected){var b=Math.ceil((c.selected+1)/this.totalIconsPerPage());this.changeList(b)}""===a?c.table.find("i."+c.iconClassFix).parent().addClass(c.selectedClass):c.table.find("i."+a).parent().addClass(c.selectedClass)};b.prototype.totalPages=function(){return Math.ceil(this.totalIcons()/this.totalIconsPerPage())};b.prototype.totalIcons=function(){return this.options.icons.length};b.prototype.totalIconsPerPage=function(){return 0===this.options.rows?this.options.icons.length:this.options.cols*
this.options.rows};b.prototype.updateArrows=function(a){var c=this.options,b=this.totalPages();1===a?c.table.find(".btn-previous").addClass("disabled"):c.table.find(".btn-previous").removeClass("disabled");a===b||0===b?c.table.find(".btn-next").addClass("disabled"):c.table.find(".btn-next").removeClass("disabled")};b.prototype.updateIcons=function(a){var c=this.options,b=c.table.find("tbody").empty();a=(a-1)*this.totalIconsPerPage();var e=c.rows;0===c.rows&&(e=c.icons.length);for(var h=0;h<e;h++){for(var g=
d("<tr></tr>"),l=0;l<c.cols;l++){var k=a+h*c.cols+l,m=d('<button class="btn '+c.unselectedClass+' btn-icon"></button>').hide();k<c.icons.length&&(k=c.iconClassFix+c.icons[k],m.val(k).attr("title",k).append('<i class="'+c.iconClass+" "+k+'"></i>').show(),c.icon===k&&m.addClass(c.selectedClass).addClass("btn-icon-selected"));g.append(d("<td></td>").append(m))}b.append(g)}};b.prototype.updateIconsCount=function(){var a=this.options;if(!0===a.footer){var c=["<tr>",'   <td colspan="'+a.cols+'" class="text-center">',
'       <span class="icons-count"></span>',"   </td>","</tr>"];a.table.find("tfoot").empty().append(c.join(""))}};b.prototype.updateLabels=function(a){var c=this.options,b=this.totalIcons(),d=this.totalPages();c.table.find(".page-count").html(c.labelHeader.replace("{0}",0===d?0:a).replace("{1}",d));d=(a-1)*this.totalIconsPerPage();var h=a*this.totalIconsPerPage();c.table.find(".icons-count").html(c.labelFooter.replace("{0}",b?d+1:0).replace("{1}",h<b?h:b).replace("{2}",b));this.updateArrows(a)};b.prototype.updatePagesCount=
function(){var a=this.options;if(!0===a.header){for(var c=d("<tr></tr>"),b=0;b<a.cols;b++){var e=d('<td class="text-center"></td>');0===b||b===a.cols-1?(e.append(['<button class="btn btn-arrow '+(0===b?"btn-previous":"btn-next")+" "+a.arrowClass+'" value="'+(0===b?-1:1)+'">','<span class="'+(0===b?a.arrowPrevIconClass:a.arrowNextIconClass)+'"></span>',"</button>"].join("")),c.append(e)):0===c.find(".page-count").length&&(e.attr("colspan",a.cols-2).append('<span class="page-count"></span>'),c.append(e))}a.table.find("thead").empty().append(c)}};
b.prototype.updatePicker=function(){var a=this.options;if(4>a.cols)throw"Iconpicker => The number of columns must be greater than or equal to 4. [option.cols = "+a.cols+"]";if(0>a.rows)throw"Iconpicker => The number of rows must be greater than or equal to 0. [option.rows = "+a.rows+"]";this.updatePagesCount();this.updateSearch();this.updateIconsCount()};b.prototype.updateSearch=function(){var a=this.options,b=["<tr>",'   <td colspan="'+a.cols+'">','       <input type="text" class="form-control search-control" style="width: '+
39*a.cols+'px;" placeholder="'+a.searchText+'">',"   </td>","</tr>"];b=d(b.join(""));!0===a.search?b.show():b.hide();a.table.find("thead").append(b)};b.prototype.setAlign=function(a){this.$element.removeClass(this.options.align).addClass(a);this.options.align=a};b.prototype.setArrowClass=function(a){this.options.arrowClass=this.removeAddClass(".btn-arrow",this.options.arrowClass,a)};b.prototype.setArrowNextIconClass=function(a){this.options.arrowNextIconClass=this.removeAddClass(".btn-next > span",
this.options.arrowNextIconClass,a)};b.prototype.setArrowPrevIconClass=function(a){this.options.arrowPrevIconClass=this.removeAddClass(".btn-previous > span",this.options.arrowPrevIconClass,a)};b.prototype.setCols=function(a){this.options.cols=a;this.reset()};b.prototype.setFooter=function(a){var b=this.options.table.find("tfoot");!0===a?b.show():b.hide();this.options.footer=a};b.prototype.setHeader=function(a){var b=this.options.table.find("thead");!0===a?b.show():b.hide();this.options.header=a};
b.prototype.setIcon=function(a){this.select(a)};b.prototype.setIconset=function(a){var c=this.options;d.isPlainObject(a)?(b.ICONSET._custom=d.extend(b.ICONSET_EMPTY,a),c.iconset="_custom"):b.ICONSET.hasOwnProperty(a)?c.iconset=a:c.iconset=b.DEFAULTS.iconset;c=d.extend(c,b.ICONSET[c.iconset]);this.reset();this.select(c.icon)};b.prototype.setLabelHeader=function(a){this.options.labelHeader=a;this.updateLabels(this.options.page)};b.prototype.setLabelFooter=function(a){this.options.labelFooter=a;this.updateLabels(this.options.page)};
b.prototype.setPlacement=function(a){this.options.placement=a};b.prototype.setRows=function(a){this.options.rows=a;this.reset()};b.prototype.setSearch=function(a){var b=this.options.table.find(".search-control");!0===a?b.show():b.hide();b.val("");this.changeList(1);this.options.search=a};b.prototype.setSearchText=function(a){this.options.table.find(".search-control").attr("placeholder",a);this.options.searchText=a};b.prototype.setSelectedClass=function(a){this.options.selectedClass=this.removeAddClass(".btn-icon-selected",
this.options.selectedClass,a)};b.prototype.setUnselectedClass=function(a){this.options.unselectedClass=this.removeAddClass(".btn-icon",this.options.unselectedClass,a)};var n=d.fn.iconpicker;d.fn.iconpicker=function(a,c){return this.each(function(){var f=d(this),e=f.data("bs.iconpicker"),h="object"===typeof a&&a;e||f.data("bs.iconpicker",e=new b(this,h));if("string"===typeof a){if("undefined"===typeof e[a])throw'Iconpicker => The "'+a+'" method does not exists.';e[a](c)}else{var g=e.options;g=d.extend(g,
{inline:!1,page:1,selected:-1,table:d('<table class="table-icons"><thead></thead><tbody></tbody><tfoot></tfoot></table>')});h="undefined"!==typeof f.attr("name")?'name="'+f.attr("name")+'"':"";"BUTTON"===f.prop("tagName")?(f.empty().append("<i></i>").append('<input type="hidden" '+h+"></input>").append('<span class="caret"></span>').addClass("iconpicker"),e.setIconset(g.iconset),f.on("click",function(a){a.preventDefault();f.popover({animation:!1,trigger:"manual",html:!0,content:g.table,container:"body",
placement:g.placement}).on("shown.bs.popover",function(){e.switchPage(g.icon);e.bindEvents()});f.data("bs.popover").tip().addClass("iconpicker-popover");f.popover("show")})):(g.inline=!0,e.setIconset(g.iconset),f.empty().append('<input type="hidden" '+h+"></input>").append(g.table).addClass("iconpicker").addClass(g.align),e.switchPage(g.icon),e.bindEvents())}})};d.fn.iconpicker.Constructor=b;d.fn.iconpicker.noConflict=function(){d.fn.iconpicker=n;return this};d(document).on("click","body",function(a){d(".iconpicker").each(function(){d(this).is(a.target)||
0!==d(this).has(a.target).length||0!==d(".popover").has(a.target).length||d(this).popover("destroy")})});d('button[role="iconpicker"],div[role="iconpicker"]').iconpicker()})(jQuery);