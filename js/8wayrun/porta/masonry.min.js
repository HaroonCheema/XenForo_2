/*
 Masonry PACKAGED v4.2.2
 Cascading grid layout library
 https://masonry.desandro.com
 MIT License
 by David DeSandro
 getSize v2.0.3
 measure size of elements
 MIT license
 Outlayer v2.1.1
 the brains and guts of a layout library
 MIT license
 Masonry v4.2.2
 Cascading grid layout library
 https://masonry.desandro.com
 MIT License
 by David DeSandro
*/
(function(n,q){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(m){return q(n,m)}):"object"==typeof module&&module.exports?module.exports=q(n,require("jquery")):n.jQueryBridget=q(n,n.jQuery)})(window,function(n,q){function m(g,u,t){function r(b,p,a){var c,h="$()."+g+'("'+p+'")';b.each(function(v,w){var x=t.data(w,g);if(x){var y=x[p];y&&"_"!=p.charAt(0)?(x=y.apply(x,a),c=void 0===c?x:c):k(h+" is not a valid method")}else k(g+" not initialized. Cannot call methods, i.e. "+
h)});return void 0!==c?c:b}function d(b,p){b.each(function(a,c){var h=t.data(c,g);h?(h.option(p),h._init()):(h=new u(c,p),t.data(c,g,h))})}if(t=t||q||n.jQuery)u.prototype.option||(u.prototype.option=function(b){t.isPlainObject(b)&&(this.options=t.extend(!0,this.options,b))}),t.fn[g]=function(b){if("string"==typeof b){var p=e.call(arguments,1);return r(this,b,p)}d(this,b);return this},l(t)}function l(g){!g||g&&g.bridget||(g.bridget=m)}var e=Array.prototype.slice,f=n.console,k="undefined"==typeof f?
function(){}:function(g){f.error(g)};l(q||n.jQuery);return m});
(function(n,q){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",q):"object"==typeof module&&module.exports?module.exports=q():n.EvEmitter=q()})("undefined"!=typeof window?window:this,function(){function n(){}var q=n.prototype;q.on=function(m,l){if(m&&l){var e=this._events=this._events||{};e=e[m]=e[m]||[];-1==e.indexOf(l)&&e.push(l);return this}};q.once=function(m,l){if(m&&l){this.on(m,l);var e=this._onceEvents=this._onceEvents||{};(e[m]=e[m]||{})[l]=!0;return this}};q.off=function(m,
l){var e=this._events&&this._events[m];if(e&&e.length){var f=e.indexOf(l);-1!=f&&e.splice(f,1);return this}};q.emitEvent=function(m,l){var e=this._events&&this._events[m];if(e&&e.length){e=e.slice(0);l=l||[];for(var f=this._onceEvents&&this._onceEvents[m],k=0;k<e.length;k++){var g=e[k];f&&f[g]&&(this.off(m,g),delete f[g]);g.apply(this,l)}return this}};q.allOff=function(){delete this._events;delete this._onceEvents};return n});
(function(n,q){"function"==typeof define&&define.amd?define("get-size/get-size",q):"object"==typeof module&&module.exports?module.exports=q():n.getSize=q()})(window,function(){function n(t){var r=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(r)&&r}function q(){}function m(t){(t=getComputedStyle(t))||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1");return t}function l(t){if(!g){g=!0;var r=document.createElement("div");r.style.width=
"200px";r.style.padding="1px 2px 3px 4px";r.style.borderStyle="solid";r.style.borderWidth="1px 2px 3px 4px";r.style.boxSizing="border-box";var d=document.body||document.documentElement;d.appendChild(r);var b=m(r);u=200==Math.round(n(b.width));l.isBoxSizeOuter=u;d.removeChild(r)}"string"==typeof t&&(t=document.querySelector(t));if(t&&"object"==typeof t&&t.nodeType){d=m(t);if("none"==d.display){r={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(d=0;d<k;d++)r[f[d]]=0;return r}r=
{};r.width=t.offsetWidth;r.height=t.offsetHeight;t=r.isBorderBox="border-box"==d.boxSizing;for(b=0;b<k;b++){var p=f[b],a=parseFloat(d[p]);r[p]=isNaN(a)?0:a}b=r.paddingLeft+r.paddingRight;p=r.paddingTop+r.paddingBottom;a=r.marginLeft+r.marginRight;var c=r.marginTop+r.marginBottom,h=r.borderLeftWidth+r.borderRightWidth,v=r.borderTopWidth+r.borderBottomWidth;t=t&&u;var w=n(d.width);!1!==w&&(r.width=w+(t?0:b+h));d=n(d.height);!1!==d&&(r.height=d+(t?0:p+v));r.innerWidth=r.width-(b+h);r.innerHeight=r.height-
(p+v);r.outerWidth=r.width+a;r.outerHeight=r.height+c;return r}}var e="undefined"==typeof console?q:function(t){console.error(t)},f="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" "),k=f.length,g=!1,u;return l});
(function(n,q){"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",q):"object"==typeof module&&module.exports?module.exports=q():n.matchesSelector=q()})(window,function(){var n=function(){var q=window.Element.prototype;if(q.matches)return"matches";if(q.matchesSelector)return"matchesSelector";for(var m=["webkit","moz","ms","o"],l=0;l<m.length;l++){var e=m[l]+"MatchesSelector";if(q[e])return e}}();return function(q,m){return q[n](m)}});
(function(n,q){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(m){return q(n,m)}):"object"==typeof module&&module.exports?module.exports=q(n,require("desandro-matches-selector")):n.fizzyUIUtils=q(n,n.matchesSelector)})(window,function(n,q){var m={extend:function(f,k){for(var g in k)f[g]=k[g];return f},modulo:function(f,k){return(f%k+k)%k}},l=Array.prototype.slice;m.makeArray=function(f){return Array.isArray(f)?f:null===f||
void 0===f?[]:"object"==typeof f&&"number"==typeof f.length?l.call(f):[f]};m.removeFrom=function(f,k){var g=f.indexOf(k);-1!=g&&f.splice(g,1)};m.getParent=function(f,k){for(;f.parentNode&&f!=document.body;)if(f=f.parentNode,q(f,k))return f};m.getQueryElement=function(f){return"string"==typeof f?document.querySelector(f):f};m.handleEvent=function(f){var k="on"+f.type;if(this[k])this[k](f)};m.filterFindElements=function(f,k){f=m.makeArray(f);var g=[];f.forEach(function(u){if(u instanceof HTMLElement)if(k){q(u,
k)&&g.push(u);u=u.querySelectorAll(k);for(var t=0;t<u.length;t++)g.push(u[t])}else g.push(u)});return g};m.debounceMethod=function(f,k,g){g=g||100;var u=f.prototype[k],t=k+"Timeout";f.prototype[k]=function(){clearTimeout(this[t]);var r=arguments,d=this;this[t]=setTimeout(function(){u.apply(d,r);delete d[t]},g)}};m.docReady=function(f){var k=document.readyState;"complete"==k||"interactive"==k?setTimeout(f):document.addEventListener("DOMContentLoaded",f)};m.toDashed=function(f){return f.replace(/(.)([A-Z])/g,
function(k,g,u){return g+"-"+u}).toLowerCase()};var e=n.console;m.htmlInit=function(f,k){m.docReady(function(){var g=m.toDashed(k),u="data-"+g,t=document.querySelectorAll("["+u+"]");g=document.querySelectorAll(".js-"+g);t=m.makeArray(t).concat(m.makeArray(g));var r=u+"-options",d=n.jQuery;t.forEach(function(b){var p=b.getAttribute(u)||b.getAttribute(r);try{var a=p&&JSON.parse(p)}catch(c){e&&e.error("Error parsing "+u+" on "+b.className+": "+c);return}p=new f(b,a);d&&d.data(b,k,p)})})};return m});
(function(n,q){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],q):"object"==typeof module&&module.exports?module.exports=q(require("ev-emitter"),require("get-size")):(n.Outlayer={},n.Outlayer.Item=q(n.EvEmitter,n.getSize))})(window,function(n,q){function m(d,b){d&&(this.element=d,this.layout=b,this.position={x:0,y:0},this._create())}var l=document.documentElement.style,e="string"==typeof l.transition?"transition":"WebkitTransition";l="string"==
typeof l.transform?"transform":"WebkitTransform";var f={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[e],k={transform:l,transition:e,transitionDuration:e+"Duration",transitionProperty:e+"Property",transitionDelay:e+"Delay"},g=m.prototype=Object.create(n.prototype);g.constructor=m;g._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};g.handleEvent=function(d){var b="on"+d.type;if(this[b])this[b](d)};g.getSize=function(){this.size=
q(this.element)};g.css=function(d){var b=this.element.style,p;for(p in d)b[k[p]||p]=d[p]};g.getPosition=function(){var d=getComputedStyle(this.element),b=this.layout._getOption("originLeft"),p=this.layout._getOption("originTop"),a=d[b?"left":"right"];d=d[p?"top":"bottom"];var c=parseFloat(a),h=parseFloat(d),v=this.layout.size;-1!=a.indexOf("%")&&(c=c/100*v.width);-1!=d.indexOf("%")&&(h=h/100*v.height);c=isNaN(c)?0:c;h=isNaN(h)?0:h;c-=b?v.paddingLeft:v.paddingRight;h-=p?v.paddingTop:v.paddingBottom;
this.position.x=c;this.position.y=h};g.layoutPosition=function(){var d=this.layout.size,b={},p=this.layout._getOption("originLeft"),a=this.layout._getOption("originTop"),c=p?"right":"left";b[p?"left":"right"]=this.getXValue(this.position.x+d[p?"paddingLeft":"paddingRight"]);b[c]="";p=a?"bottom":"top";b[a?"top":"bottom"]=this.getYValue(this.position.y+d[a?"paddingTop":"paddingBottom"]);b[p]="";this.css(b);this.emitEvent("layout",[this])};g.getXValue=function(d){var b=this.layout._getOption("horizontal");
return this.layout.options.percentPosition&&!b?d/this.layout.size.width*100+"%":d+"px"};g.getYValue=function(d){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&b?d/this.layout.size.height*100+"%":d+"px"};g._transitionTo=function(d,b){this.getPosition();var p=this.position.x,a=this.position.y,c=d==this.position.x&&b==this.position.y;this.setPosition(d,b);c&&!this.isTransitioning?this.layoutPosition():(c={},c.transform=this.getTranslate(d-p,b-a),this.transition({to:c,
onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}))};g.getTranslate=function(d,b){var p=this.layout._getOption("originLeft"),a=this.layout._getOption("originTop");return"translate3d("+(p?d:-d)+"px, "+(a?b:-b)+"px, 0)"};g.goTo=function(d,b){this.setPosition(d,b);this.layoutPosition()};g.moveTo=g._transitionTo;g.setPosition=function(d,b){this.position.x=parseFloat(d);this.position.y=parseFloat(b)};g._nonTransition=function(d){this.css(d.to);d.isCleaning&&this._removeStyles(d.to);for(var b in d.onTransitionEnd)d.onTransitionEnd[b].call(this)};
g.transition=function(d){if(parseFloat(this.layout.options.transitionDuration)){var b=this._transn,p;for(p in d.onTransitionEnd)b.onEnd[p]=d.onTransitionEnd[p];for(p in d.to)b.ingProperties[p]=!0,d.isCleaning&&(b.clean[p]=!0);d.from&&this.css(d.from);this.enableTransition(d.to);this.css(d.to);this.isTransitioning=!0}else this._nonTransition(d)};var u="opacity,"+function(d){return d.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})}(l);g.enableTransition=function(){if(!this.isTransitioning){var d=
this.layout.options.transitionDuration;this.css({transitionProperty:u,transitionDuration:"number"==typeof d?d+"ms":d,transitionDelay:this.staggerDelay||0});this.element.addEventListener(f,this,!1)}};g.onwebkitTransitionEnd=function(d){this.ontransitionend(d)};g.onotransitionend=function(d){this.ontransitionend(d)};var t={"-webkit-transform":"transform"};g.ontransitionend=function(d){if(d.target===this.element){var b=this._transn,p=t[d.propertyName]||d.propertyName;delete b.ingProperties[p];a:{for(a in b.ingProperties){var a=
!1;break a}a=!0}a&&this.disableTransition();p in b.clean&&(this.element.style[d.propertyName]="",delete b.clean[p]);p in b.onEnd&&(b.onEnd[p].call(this),delete b.onEnd[p]);this.emitEvent("transitionEnd",[this])}};g.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(f,this,!1);this.isTransitioning=!1};g._removeStyles=function(d){var b={},p;for(p in d)b[p]="";this.css(b)};var r={transitionProperty:"",transitionDuration:"",transitionDelay:""};g.removeTransitionStyles=
function(){this.css(r)};g.stagger=function(d){d=isNaN(d)?0:d;this.staggerDelay=d+"ms"};g.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};g.remove=function(){e&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()};g.reveal=function(){delete this.isHidden;this.css({display:""});var d=this.layout.options,b={},p=this.getHideRevealTransitionEndProperty("visibleStyle");
b[p]=this.onRevealTransitionEnd;this.transition({from:d.hiddenStyle,to:d.visibleStyle,isCleaning:!0,onTransitionEnd:b})};g.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")};g.getHideRevealTransitionEndProperty=function(d){d=this.layout.options[d];if(d.opacity)return"opacity";for(var b in d)return b};g.hide=function(){this.isHidden=!0;this.css({display:""});var d=this.layout.options,b={},p=this.getHideRevealTransitionEndProperty("hiddenStyle");b[p]=this.onHideTransitionEnd;
this.transition({from:d.visibleStyle,to:d.hiddenStyle,isCleaning:!0,onTransitionEnd:b})};g.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))};g.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return m});
(function(n,q){"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(m,l,e,f){return q(n,m,l,e,f)}):"object"==typeof module&&module.exports?module.exports=q(n,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):n.Outlayer=q(n,n.EvEmitter,n.getSize,n.fizzyUIUtils,n.Outlayer.Item)})(window,function(n,q,m,l,e){function f(a,c){var h=l.getQueryElement(a);h?(this.element=
h,u&&(this.$element=u(this.element)),this.options=l.extend({},this.constructor.defaults),this.option(c),h=++r,this.element.outlayerGUID=h,d[h]=this,this._create(),this._getOption("initLayout")&&this.layout()):g&&g.error("Bad element for "+this.constructor.namespace+": "+(h||a))}function k(a){function c(){a.apply(this,arguments)}c.prototype=Object.create(a.prototype);return c.prototype.constructor=c}var g=n.console,u=n.jQuery,t=function(){},r=0,d={};f.namespace="outlayer";f.Item=e;f.defaults={containerStyle:{position:"relative"},
initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var b=f.prototype;l.extend(b,q.prototype);b.option=function(a){l.extend(this.options,a)};b._getOption=function(a){var c=this.constructor.compatOptions[a];return c&&void 0!==this.options[c]?this.options[c]:this.options[a]};f.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",
originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"};b._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);l.extend(this.element.style,this.options.containerStyle);this._getOption("resize")&&this.bindResize()};b.reloadItems=function(){this.items=this._itemize(this.element.children)};b._itemize=function(a){a=this._filterFindItemElements(a);for(var c=this.constructor.Item,h=[],v=0;v<a.length;v++){var w=new c(a[v],
this);h.push(w)}return h};b._filterFindItemElements=function(a){return l.filterFindElements(a,this.options.itemSelector)};b.getItemElements=function(){return this.items.map(function(a){return a.element})};b.layout=function(){this._resetLayout();this._manageStamps();var a=this._getOption("layoutInstant");this.layoutItems(this.items,void 0!==a?a:!this._isLayoutInited);this._isLayoutInited=!0};b._init=b.layout;b._resetLayout=function(){this.getSize()};b.getSize=function(){this.size=m(this.element)};
b._getMeasurement=function(a,c){var h=this.options[a],v;h?("string"==typeof h?v=this.element.querySelector(h):h instanceof HTMLElement&&(v=h),this[a]=v?m(v)[c]:h):this[a]=0};b.layoutItems=function(a,c){a=this._getItemsForLayout(a);this._layoutItems(a,c);this._postLayout()};b._getItemsForLayout=function(a){return a.filter(function(c){return!c.isIgnored})};b._layoutItems=function(a,c){this._emitCompleteOnItems("layout",a);if(a&&a.length){var h=[];a.forEach(function(v){var w=this._getItemLayoutPosition(v);
w.item=v;w.isInstant=c||v.isLayoutInstant;h.push(w)},this);this._processLayoutQueue(h)}};b._getItemLayoutPosition=function(){return{x:0,y:0}};b._processLayoutQueue=function(a){this.updateStagger();a.forEach(function(c,h){this._positionItem(c.item,c.x,c.y,c.isInstant,h)},this)};b.updateStagger=function(){var a=this.options.stagger;if(null===a||void 0===a)this.stagger=0;else{if("number"!=typeof a){var c=a.match(/(^\d*\.?\d*)(\w*)/);a=c&&c[1];c=c&&c[2];a.length?(a=parseFloat(a),a*=p[c]||1):a=0}return this.stagger=
a}};b._positionItem=function(a,c,h,v,w){v?a.goTo(c,h):(a.stagger(w*this.stagger),a.moveTo(c,h))};b._postLayout=function(){this.resizeContainer()};b.resizeContainer=function(){if(this._getOption("resizeContainer")){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}};b._getContainerSize=t;b._setContainerMeasure=function(a,c){if(void 0!==a){var h=this.size;h.isBorderBox&&(a+=c?h.paddingLeft+h.paddingRight+h.borderLeftWidth+h.borderRightWidth:
h.paddingBottom+h.paddingTop+h.borderTopWidth+h.borderBottomWidth);a=Math.max(a,0);this.element.style[c?"width":"height"]=a+"px"}};b._emitCompleteOnItems=function(a,c){function h(){w.dispatchEvent(a+"Complete",null,[c])}function v(){y++;y==x&&h()}var w=this,x=c.length;if(c&&x){var y=0;c.forEach(function(z){z.once(a,v)})}else h()};b.dispatchEvent=function(a,c,h){var v=c?[c].concat(h):h;this.emitEvent(a,v);u&&(this.$element=this.$element||u(this.element),c?(c=u.Event(c),c.type=a,this.$element.trigger(c,
h)):this.$element.trigger(a,h))};b.ignore=function(a){if(a=this.getItem(a))a.isIgnored=!0};b.unignore=function(a){(a=this.getItem(a))&&delete a.isIgnored};b.stamp=function(a){if(a=this._find(a))this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this)};b.unstamp=function(a){(a=this._find(a))&&a.forEach(function(c){l.removeFrom(this.stamps,c);this.unignore(c)},this)};b._find=function(a){if(a)return"string"==typeof a&&(a=this.element.querySelectorAll(a)),a=l.makeArray(a)};b._manageStamps=function(){this.stamps&&
this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))};b._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),c=this.size;this._boundingRect={left:a.left+c.paddingLeft+c.borderLeftWidth,top:a.top+c.paddingTop+c.borderTopWidth,right:a.right-(c.paddingRight+c.borderRightWidth),bottom:a.bottom-(c.paddingBottom+c.borderBottomWidth)}};b._manageStamp=t;b._getElementOffset=function(a){var c=a.getBoundingClientRect(),h=this._boundingRect;a=m(a);return{left:c.left-
h.left-a.marginLeft,top:c.top-h.top-a.marginTop,right:h.right-c.right-a.marginRight,bottom:h.bottom-c.bottom-a.marginBottom}};b.handleEvent=l.handleEvent;b.bindResize=function(){n.addEventListener("resize",this);this.isResizeBound=!0};b.unbindResize=function(){n.removeEventListener("resize",this);this.isResizeBound=!1};b.onresize=function(){this.resize()};l.debounceMethod(f,"onresize",100);b.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()};b.needsResizeLayout=function(){var a=
m(this.element);return this.size&&a&&a.innerWidth!==this.size.innerWidth};b.addItems=function(a){a=this._itemize(a);a.length&&(this.items=this.items.concat(a));return a};b.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))};b.prepended=function(a){a=this._itemize(a);if(a.length){var c=this.items.slice(0);this.items=a.concat(c);this._resetLayout();this._manageStamps();this.layoutItems(a,!0);this.reveal(a);this.layoutItems(c)}};b.reveal=function(a){this._emitCompleteOnItems("reveal",
a);if(a&&a.length){var c=this.updateStagger();a.forEach(function(h,v){h.stagger(v*c);h.reveal()})}};b.hide=function(a){this._emitCompleteOnItems("hide",a);if(a&&a.length){var c=this.updateStagger();a.forEach(function(h,v){h.stagger(v*c);h.hide()})}};b.revealItemElements=function(a){a=this.getItems(a);this.reveal(a)};b.hideItemElements=function(a){a=this.getItems(a);this.hide(a)};b.getItem=function(a){for(var c=0;c<this.items.length;c++){var h=this.items[c];if(h.element==a)return h}};b.getItems=function(a){a=
l.makeArray(a);var c=[];a.forEach(function(h){(h=this.getItem(h))&&c.push(h)},this);return c};b.remove=function(a){a=this.getItems(a);this._emitCompleteOnItems("remove",a);a&&a.length&&a.forEach(function(c){c.remove();l.removeFrom(this.items,c)},this)};b.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";this.items.forEach(function(c){c.destroy()});this.unbindResize();delete d[this.element.outlayerGUID];delete this.element.outlayerGUID;u&&u.removeData(this.element,this.constructor.namespace)};
f.data=function(a){return(a=(a=l.getQueryElement(a))&&a.outlayerGUID)&&d[a]};f.create=function(a,c){var h=k(f);h.defaults=l.extend({},f.defaults);l.extend(h.defaults,c);h.compatOptions=l.extend({},f.compatOptions);h.namespace=a;h.data=f.data;h.Item=k(e);l.htmlInit(h,a);u&&u.bridget&&u.bridget(a,h);return h};var p={ms:1,s:1E3};f.Item=e;return f});
(function(n,q){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],q):"object"==typeof module&&module.exports?module.exports=q(require("outlayer"),require("get-size")):n.Masonry=q(n.Outlayer,n.getSize)})(window,function(n,q){var m=n.create("masonry");m.compatOptions.fitWidth="isFitWidth";var l=m.prototype;l._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=
[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.horizontalColIndex=this.maxY=0};l.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var e=this.items[0];this.columnWidth=(e=e&&e.element)&&q(e).outerWidth||this.containerWidth}e=this.columnWidth+=this.gutter;var f=this.containerWidth+this.gutter,k=e-f%e;e=Math[k&&1>k?"round":"floor"](f/e);this.cols=Math.max(e,1)};l.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element;this.containerWidth=
(e=q(e))&&e.innerWidth};l._getItemLayoutPosition=function(e){e.getSize();var f=e.size.outerWidth%this.columnWidth,k=Math[f&&1>f?"round":"ceil"](e.size.outerWidth/this.columnWidth);k=Math.min(k,this.cols);var g=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](k,e);f={x:this.columnWidth*g.col,y:g.y};e=g.y+e.size.outerHeight;k+=g.col;for(g=g.col;g<k;g++)this.colYs[g]=e;return f};l._getTopColPosition=function(e){e=this._getTopColGroup(e);var f=Math.min.apply(Math,e);
return{col:e.indexOf(f),y:f}};l._getTopColGroup=function(e){if(2>e)return this.colYs;for(var f=[],k=this.cols+1-e,g=0;g<k;g++)f[g]=this._getColGroupY(g,e);return f};l._getColGroupY=function(e,f){if(2>f)return this.colYs[e];var k=this.colYs.slice(e,e+f);return Math.max.apply(Math,k)};l._getHorizontalColPosition=function(e,f){var k=this.horizontalColIndex%this.cols;k=1<e&&k+e>this.cols?0:k;this.horizontalColIndex=f.size.outerWidth&&f.size.outerHeight?k+e:this.horizontalColIndex;return{col:k,y:this._getColGroupY(k,
e)}};l._manageStamp=function(e){var f=q(e),k=this._getElementOffset(e);e=this._getOption("originLeft")?k.left:k.right;var g=e+f.outerWidth,u=Math.floor(e/this.columnWidth);u=Math.max(0,u);e=Math.floor(g/this.columnWidth);e-=g%this.columnWidth?0:1;e=Math.min(this.cols-1,e);f=(this._getOption("originTop")?k.top:k.bottom)+f.outerHeight;for(k=u;k<=e;k++)this.colYs[k]=Math.max(f,this.colYs[k])};l._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};this._getOption("fitWidth")&&
(e.width=this._getContainerFitWidth());return e};l._getContainerFitWidth=function(){for(var e=0,f=this.cols;--f&&0===this.colYs[f];)e++;return(this.cols-e)*this.columnWidth-this.gutter};l.needsResizeLayout=function(){var e=this.containerWidth;this.getContainerWidth();return e!=this.containerWidth};return m});