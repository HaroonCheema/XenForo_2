{
    "template": "welcome_banner_thread_list_macros",
    "description": "fs_welcome_banner_replace_title_with_thumbnail_title",
    "execution_order": 10,
    "enabled": true,
    "action": "preg_replace",
    "find": "/<a href=\"{{ link\\('threads' \\. \\(\\(\\$thread\\.isUnread\\(\\) AND !\\$forceRead\\) \\? '\\/unread' : ''\\), \\$thread\\) }}\" class=\"\" data-tp-primary=\"on\" data-xf-init=\"{{ \\$canPreview \\? 'preview-tooltip' : '' }}\" data-preview-url=\"{{ \\$canPreview \\? link\\('threads\\/preview', \\$thread\\) : '' }}\">.*?<\\/a>/is",
    "replace": "<xf:if is=\"$forum And in_array($thread.thread_id,$xf.options.fs_welcome_banner_applicable_threads|split)\">\n\t<xf:if is=\"$thread.thumbnail_title\">\n\t\t<a href=\"{{ link('threads' . (($thread.isUnread() AND !$forceRead) ? '/unread' : ''), $thread) }}\" class=\"\" data-tp-primary=\"on\" data-xf-init=\"{{ $canPreview ? 'preview-tooltip' : '' }}\" data-preview-url=\"{{ $canPreview ? link('threads/preview', $thread) : '' }}\" style=\"font-family: 'Apple System', sans-serif; font-size: 15px; font-weight: 600;\">{{ strlen($thread.thumbnail_title) > 40 ? snippet($thread.thumbnail_title, 40, {'stripBbCode': true}) : $thread.thumbnail_title}}</a>\n\t\t<xf:else />\n\t\t<a href=\"{{ link('threads' . (($thread.isUnread() AND !$forceRead) ? '/unread' : ''), $thread) }}\" class=\"\" data-tp-primary=\"on\" data-xf-init=\"{{ $canPreview ? 'preview-tooltip' : '' }}\" data-preview-url=\"{{ $canPreview ? link('threads/preview', $thread) : '' }}\" style=\"font-family: 'Apple System', sans-serif; font-size: 15px; font-weight: 600;\">{{ strlen($thread.title) > 40 ? snippet($thread.title, 40, {'stripBbCode': true}) : $thread.title}}</a>\n\t</xf:if>\n\t<xf:else />\n\t$0\n</xf:if>"
}