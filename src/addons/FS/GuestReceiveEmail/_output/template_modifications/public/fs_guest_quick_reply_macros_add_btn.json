{
    "template": "quick_reply_macros",
    "description": "fs_guest_quick_reply_macros_add_btn",
    "execution_order": 10,
    "enabled": true,
    "action": "str_replace",
    "find": "<xf:button type=\"submit\" class=\"button--primary\" icon=\"reply\">\n\t\t\t\t{{ $submitText ?: phrase('post_reply') }}\n\t\t\t</xf:button>",
    "replace": "<xf:if is=\"!$xf.visitor.user_id\">\n\t<xf:if is=\"$thread.getGuestEmailExist()\">\n\t\t<xf:button href=\"{{ link('threads/guest-remove-email', $thread) }}\" overlay=\"true\" type=\"submit\" class=\"button--primary\" icon=\"delete\">\n\t\t\t{{ phrase('fs_guest_remove_email') }}\n\t\t</xf:button>\n\t\t<xf:else/>\n\t\t<xf:button href=\"{{ link('threads/guest-email', $thread) }}\" overlay=\"true\" type=\"submit\" class=\"button--primary\" icon=\"export\">\n\t\t\t{{ phrase('fs_guest_receive_email_updates') }}\n\t\t</xf:button>\n\t</xf:if>\n</xf:if>\n\n$0"
}