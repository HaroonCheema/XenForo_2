<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="fs_thread_option_template_date" version_id="1010100" version_string="1.1.1 Alpha"><![CDATA[<xf:dateinputrow name="{$inputName}" value="{$option.option_value}"
     label="{$option.title}"
     hint="{$hintHtml}"
     explain="{$explainHtml}"
     html="{$listedHtml}" />]]></template>
  <template type="public" title="fs_thread_scoring_all_score_custom" version_id="1010100" version_string="1.1.1 Alpha"><![CDATA[<xf:title>{{ phrase('fs_thread_scoring_system_custom') }}</xf:title>

<div class="block">

	<div class="block-container">
		<xf:if is="$data is not empty">

			<div class="block-body">

				<xf:datalist data-xf-init="responsive-data-list">

					<xf:macro name="record_table_list" arg-data="{$data}" />

				</xf:datalist>
				<div class="block-footer">
					<span class="block-footer-counter"
						  >{{ display_totals(count($data), count($data)) }}</span
						>
				</div>

			</div>
			<xf:else />
			<div class="blockMessage">
				{{ phrase('no_items_have_been_created_yet') }}
			</div>
		</xf:if>

	</div>
</div>

<xf:macro name="record_table_list" arg-data="!">
	<xf:datarow rowtype="header">
		<xf:cell> {{ phrase('user') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_threads') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_replies') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_word') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_reaction') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_solutions') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_total_points') }} </xf:cell>
	</xf:datarow>

	<xf:foreach loop="{$data}" value="$val">
		<xf:datarow>
			<xf:cell> <xf:username user="$val.User" rich="true" defaultname="{$val.User.username}" itemprop="name" /> </xf:cell>
			<xf:cell> {{$val.threads_score ? number($val.threads_score, $xf.options.fs_thread_scoring_system_decimals) : phrase('n_a') }} </xf:cell>
			<xf:cell> {{$val.reply_score ? number($val.reply_score, $xf.options.fs_thread_scoring_system_decimals) : phrase('n_a') }} </xf:cell>
			<xf:cell> {{$val.worlds_score ? number($val.worlds_score, $xf.options.fs_thread_scoring_system_decimals) : phrase('n_a') }} </xf:cell>
			<xf:cell> {{$val.reactions_score ? number($val.reactions_score, $xf.options.fs_thread_scoring_system_decimals) : phrase('n_a') }} </xf:cell>
			<xf:cell> {{$val.solutions_score ? number($val.solutions_score, $xf.options.fs_thread_scoring_system_decimals) : phrase('n_a') }} </xf:cell>
			<xf:cell> {{$val.total_score ? number($val.total_score, $xf.options.fs_thread_scoring_system_decimals) : phrase('n_a') }} </xf:cell>
		</xf:datarow>
	</xf:foreach>

</xf:macro>]]></template>
  <template type="public" title="fs_thread_scoring_all_score_notable" version_id="1010500" version_string="1.1.5 Alpha"><![CDATA[<xf:title>{{ phrase('fs_thread_scoring_system') }}</xf:title>

<div class="block">

	<div class="block-container">
		<xf:if is="$data is not empty">

			<div class="block-body">

				<xf:datalist data-xf-init="responsive-data-list">

					<xf:macro name="record_table_list" arg-data="{$data}" />

				</xf:datalist>
				<div class="block-footer">
					<span class="block-footer-counter"
						  >{{ display_totals(count($data), count($data)) }}</span
						>
				</div>

			</div>
			<xf:else />
			<div class="blockMessage">
				{{ phrase('no_items_have_been_created_yet') }}
			</div>
		</xf:if>

	</div>
</div>

<xf:macro name="record_table_list" arg-data="!">
	<xf:datarow rowtype="header">
		<xf:cell> {{ phrase('user') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_threads') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_replies') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_word') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_reaction') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_solutions') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_total_points') }} </xf:cell>
	</xf:datarow>

	<xf:set var="$afterDot" value="{{ $xf.options.fs_thread_scoring_system_decimals }}" />

	<xf:foreach loop="{$data}" value="$val">
		<xf:datarow>
			<xf:cell> <xf:username user="$val" rich="true" defaultname="{$val.username}" itemprop="name" /> </xf:cell>
			<xf:cell> {{number($val.threads_score, $afterDot) }} </xf:cell>
			<xf:cell> {{number($val.reply_score, $afterDot) }} </xf:cell>
			<xf:cell> {{number($val.worlds_score, $afterDot) }} </xf:cell>
			<xf:cell> {{number($val.reactions_score, $afterDot) }} </xf:cell>
			<xf:cell> {{number($val.solutions_score, $afterDot) }} </xf:cell>
			<xf:cell> {{number($val.total_score, $afterDot) }} </xf:cell>
		</xf:datarow>
	</xf:foreach>

</xf:macro>]]></template>
  <template type="public" title="fs_thread_scoring_my_score" version_id="1010500" version_string="1.1.5 Alpha"><![CDATA[<div class="block">

	<div class="block-container">

		<div class="block-body">

			<xf:datalist data-xf-init="responsive-data-list">
				<xf:if is="$user is not empty">

					<xf:macro name="record_table_list" arg-user="{$user}" />

					<xf:else />
					<div class="blockMessage">
						{{ phrase('no_items_have_been_created_yet') }}
					</div>
				</xf:if>
			</xf:datalist>
		</div>

	</div>
</div>

<xf:macro name="record_table_list" arg-user="!">
	<xf:datarow rowtype="header">
		<xf:cell> {{ phrase('fs_thread_scoring_system_threads') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_replies') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_word') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_reaction') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_solutions') }} </xf:cell>
	</xf:datarow>

	<xf:set var="$afterDot" value="{{ $xf.options.fs_thread_scoring_system_decimals }}" />

	<xf:datarow>
		<xf:cell> {{ number($user.threads_score, $afterDot) }} </xf:cell>
		<xf:cell> {{ number($user.reply_score, $afterDot) }} </xf:cell>
		<xf:cell> {{ number($user.worlds_score, $afterDot) }} </xf:cell>
		<xf:cell> {{ number($user.reactions_score, $afterDot) }} </xf:cell>
		<xf:cell> {{ number($user.solutions_score, $afterDot) }} </xf:cell>
	</xf:datarow>

</xf:macro>]]></template>
  <template type="public" title="fs_thread_scoring_system_notable_member" version_id="1010500" version_string="1.1.5 Alpha"><![CDATA[<xf:if is="{{ $xf.visitor.hasPermission('fs_thread_scoring_system', 'can_view') }}">

	<xf:if is="count($data)">

		<xf:if contentcheck="true">
			<li class="memberOverviewBlock">
				<h3 class="block-textHeader">
					<a href="{{ link('members/all-users-points') }}"
					   class="memberOverViewBlock-title">{{ phrase('fs_thread_scores') }}</a>
				</h3>
				<ol class="memberOverviewBlock-list">
					<xf:contentcheck>

						<xf:foreach loop="$data" value="$value" key="$key" i="$i">
							<li>
								<div class="contentRow contentRow--alignMiddle">
									<div class="contentRow-figure">
										<xf:avatar user="$value" size="xs" />
									</div>
									<div class="contentRow-main">
										<xf:if is="{$value.total_score}">
											<div class="contentRow-extra contentRow-extra--large" data-xf-init="tooltip" title="{{$value.threads_score ? phrase('fs_thread_scoring_system_thread') . ' ' . number($value.threads_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}
																																{{$value.reply_score ? phrase('fs_thread_scoring_system_reply') . ' ' . number($value.reply_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}
																																{{$value.worlds_score ? phrase('fs_thread_scoring_system_words') . ' ' . number($value.worlds_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}
																																{{$value.reactions_score ? phrase('fs_thread_scoring_system_reactions') . ' ' . number($value.reactions_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}
																																{{$value.solutions_score ? phrase('fs_thread_scoring_system_solution') . ' ' . number($value.solutions_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}">{{number($value.total_score, $xf.options.fs_thread_scoring_system_decimals)}}</div>
										</xf:if>
										<h3 class="contentRow-title"><xf:username user="$value" rich="true" /></h3>
									</div>
								</div>
							</li>

						</xf:foreach>
					</xf:contentcheck>
				</ol>
				<div class="memberOverviewBlock-seeMore">
					<a href="{{ link('members/all-users-points') }}">{{ phrase('see_more...') }}</a>
				</div>
			</li>
		</xf:if>
	</xf:if>

</xf:if>]]></template>
  <template type="public" title="fs_thread_scoring_system_side_widget" version_id="1010500" version_string="1.1.5 Alpha"><![CDATA[<xf:sidebar key="conversationInfo">

	<xf:if is="{{ $xf.visitor.hasPermission('fs_thread_scoring_system', 'can_view') }} && !in_array($thread.Forum.node_id, $xf.options.fs_thread_scoring_system_exc_forms)">
		<xf:set var="$data" value="{{ $xf.options.fs_thread_scoring_list_format == 'percentage' ? $thread->getPercentageSums() : $thread->getPointsSums() }}" />

		<xf:if is="count($data)">

			<div class="block">
				<div class="block-container">

					<h3 class="block-minorHeader">{{ phrase('fs_thread_scores') }}</h3>
					<xf:set var="$replyPhrase" value="{{ phrase('fs_thread_scores') }}" />
					<xf:set var="$afterDot" value="{{ $xf.options.fs_thread_scoring_system_decimals }}" />

					<div class="block-body block-row">

						<dl class="pairs pairs--justified">										
							<dt>{{ phrase('fs_thread_scores_users') }}</dt>
							<dd>{{ $xf.options.fs_thread_scoring_list_format == 'percentage' ? phrase('fs_thread_scores_users_total_percentage') : phrase('fs_thread_scores_users_total_points') }}</dd>
						</dl>

						<br/>

						<xf:foreach loop="$data" value="$value">

							<dl class="pairs pairs--justified">										
								<dt><xf:username user="$value.User" rich="true" defaultname="{$value.User.username}" itemprop="name" /></dt>
								<xf:if is="$xf.options.fs_thread_scoring_list_format == 'percentage'">
									<xf:set var="$percentageThread" value="{{ $value.thread_points != 0 ? 100 : 0 }}" />
									<xf:set var="$percentageSolution" value="{{ $value.solution_points != 0 ? 100 : 0 }}" />

									<dd data-xf-init="tooltip" title="{{phrase('fs_thread_scoring_system_thread') . ' ' . number($percentageThread, $afterDot) . ' % '}}
																	  {{phrase('fs_thread_scoring_system_reply') . ' ' . number($value.reply_percentage, $afterDot) . ' % '}}
																	  {{phrase('fs_thread_scoring_system_words') . ' ' . number($value.word_percentage, $afterDot) . ' % '}}
																	  {{phrase('fs_thread_scoring_system_reactions') . ' ' . number($value.reaction_percentage, $afterDot) . ' % '}}
																	  {{phrase('fs_thread_scoring_system_solution') . ' ' . number($percentageSolution, $afterDot) . ' % '}}">{{number($value.total_percentage, $xf.options.fs_thread_scoring_system_decimals)}}</dd>

									<xf:else />
									<dd data-xf-init="tooltip" title="{{phrase('fs_thread_scoring_system_thread') . ' ' . number($value.thread_points, $afterDot) . ' (' . phrase('points') . ')'}}
																	  {{phrase('fs_thread_scoring_system_reply') . ' ' . number($value.reply_points, $afterDot) . ' (' . phrase('points') . ')'}}
																	  {{phrase('fs_thread_scoring_system_words') . ' ' . number($value.word_points, $afterDot) . ' (' . phrase('points') . ')'}}
																	  {{phrase('fs_thread_scoring_system_reactions') . ' ' . number($value.reaction_points, $afterDot) . ' (' . phrase('points') . ')'}}
																	  {{phrase('fs_thread_scoring_system_solution') . ' ' . number($value.solution_points, $afterDot) . ' (' . phrase('points') . ')'}}">{{number($value.total_points, $xf.options.fs_thread_scoring_system_decimals)}}</dd>

								</xf:if>

							</dl>

						</xf:foreach>

					</div>
				</div>
			</div>

		</xf:if>
	</xf:if>

</xf:sidebar>]]></template>
  <template type="public" title="widget_fs_thread_scoring_monthly_score" version_id="1010200" version_string="1.1.2 Alpha"><![CDATA[<xf:if is="{{ $xf.visitor.hasPermission('fs_thread_scoring_system', 'can_view') }}">

	<xf:if is="count($data)">

		<xf:css src="member.less" />

		<div class="block">
			<div class="block-container">
				<div class="block-body" style="margin: 10px;">

					<xf:if contentcheck="true">
						<h3 class="block-textHeader">
							<a href="{{ link('members/custom-users-points') }}"
							   class="memberOverViewBlock-title">{{ phrase('fs_thread_scores_custom') }}</a>
						</h3>
						<xf:contentcheck>

							<xf:foreach loop="$data" value="$value" key="$key" i="$i">
								<li style="margin: 5px 0px;">
									<div class="contentRow contentRow--alignMiddle">
										<div class="contentRow-figure">
											<xf:avatar user="$value.User" size="xs" />
										</div>
										<div class="contentRow-main">
											<xf:if is="{$value.total_score}">
												<div class="contentRow-extra contentRow-extra--large" data-xf-init="tooltip" title="{{$value.threads_score ? phrase('fs_thread_scoring_system_thread') . ' ' . number($value.threads_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}
																																	{{$value.reply_score ? phrase('fs_thread_scoring_system_reply') . ' ' . number($value.reply_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}
																																	{{$value.worlds_score ? phrase('fs_thread_scoring_system_words') . ' ' . number($value.worlds_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}
																																	{{$value.reactions_score ? phrase('fs_thread_scoring_system_reactions') . ' ' . number($value.reactions_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}
																																	{{$value.solutions_score ? phrase('fs_thread_scoring_system_solution') . ' ' . number($value.solutions_score, $xf.options.fs_thread_scoring_system_decimals) . ' (' . phrase('points') . ')' : ' '}}">{{number($value.total_score, $xf.options.fs_thread_scoring_system_decimals)}}</div>
											</xf:if>
											<h3 class="contentRow-title"><xf:username user="$value.User" rich="true" /></h3>
										</div>
									</div>
								</li>
							</xf:foreach>
						</xf:contentcheck>
						<div class="memberOverviewBlock-seeMore">
							<a href="{{ link('members/custom-users-points') }}">{{ phrase('see_more...') }}</a>
						</div>
					</xf:if>
				</div>
			</div>
		</div>
	</xf:if>

</xf:if>]]></template>
</templates>
