<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="public" title="fs_thread_scoring_my_score" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<div class="block">

	<div class="block-container">

		<div class="block-body">

			<xf:datalist data-xf-init="responsive-data-list">
				<xf:if is="$totalCounts is not empty">

					<xf:macro name="record_table_list" arg-totalCounts="{$totalCounts}" />

					<xf:else />
					<div class="blockMessage">
						{{ phrase('no_items_have_been_created_yet') }}
					</div>
				</xf:if>
			</xf:datalist>
		</div>

	</div>
</div>

<xf:macro name="record_table_list" arg-totalCounts="!">
	<xf:datarow rowtype="header">
		<xf:cell> {{ phrase('fs_thread_scoring_system_threads') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_replies') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_word') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_reaction') }} </xf:cell>
		<xf:cell> {{ phrase('fs_thread_scoring_system_solutions') }} </xf:cell>
	</xf:datarow>

	<xf:datarow>
		<xf:foreach loop="{$totalCounts}" value="$val">
			<xf:cell> {{$val.thread ?: phrase('n_a') }} </xf:cell>
			<xf:cell> {{$val.reply ?: phrase('n_a') }} </xf:cell>
			<xf:cell> {{$val.words ?: phrase('n_a') }} </xf:cell>
			<xf:cell> {{$val.reactions ?: phrase('n_a') }} </xf:cell>
			<xf:cell> {{$val.solution ?: phrase('n_a') }} </xf:cell>
		</xf:foreach>
	</xf:datarow>

</xf:macro>]]></template>
  <template type="public" title="fs_thread_scoring_system_side_widget" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:sidebar key="conversationInfo">

	<xf:if is="{{ $xf.visitor.hasPermission('fs_thread_scoring_system', 'can_view') }}">
		<xf:set var="$data" value="{{ $thread->getPointsSums() }}" />

		<xf:if is="count($data.records)">

			<div class="block">
				<div class="block-container">

					<h3 class="block-minorHeader">{{ phrase('fs_thread_scores') }}</h3>
					<xf:set var="$replyPhrase" value="{{ phrase('fs_thread_scores') }}" />

					<div class="block-body block-row">

						<dl class="pairs pairs--justified">										
							<dt>{{ phrase('fs_thread_scores_users') }}</dt>
							<dd>{{ phrase('fs_thread_scores_users_total_points') }}</dd>
						</dl>

						<br/>

						<xf:foreach loop="$data.records" value="$value">

							<dl class="pairs pairs--justified">										
								<dt><xf:username user="$value.User" rich="true" defaultname="{$value.User.username}" itemprop="name" /></dt>
								<dd data-xf-init="tooltip" title="{{$data.totalCounts.{$value.user_id}.thread ? phrase('fs_thread_scoring_system_thread') . ' ' . $data.totalCounts.{$value.user_id}.thread . ' (' . phrase('points') . ')' : ' '}}
																  {{$data.totalCounts.{$value.user_id}.reply ? phrase('fs_thread_scoring_system_reply') . ' ' . $data.totalCounts.{$value.user_id}.reply . ' (' . phrase('points') . ')' : ' '}}
																  {{$data.totalCounts.{$value.user_id}.words ? phrase('fs_thread_scoring_system_words') . ' ' . $data.totalCounts.{$value.user_id}.words . ' (' . phrase('points') . ')' : ' '}}
																  {{$data.totalCounts.{$value.user_id}.reactions ? phrase('fs_thread_scoring_system_reactions') . ' ' . $data.totalCounts.{$value.user_id}.reactions . ' (' . phrase('points') . ')' : ' '}}
																  {{$data.totalCounts.{$value.user_id}.solution ? phrase('fs_thread_scoring_system_solution') . ' ' . $data.totalCounts.{$value.user_id}.solution . ' (' . phrase('points') . ')' : ' '}}">{$data.totalCounts.{$value.user_id}.totalPoints}</dd>
							</dl>

						</xf:foreach>

					</div>
				</div>
			</div>

		</xf:if>
	</xf:if>

</xf:sidebar>]]></template>
</templates>
