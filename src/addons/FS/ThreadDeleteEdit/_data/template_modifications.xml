<?xml version="1.0" encoding="utf-8"?>
<template_modifications>
  <modification type="public" template="post_macros" modification_key="fs_thread_delete_edit_post_macros" description="fs_thread_delete_edit_post_macros" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<xf:if is="$post.message_state == 'deleted' AND $post.canUndelete()">]]></find>
    <replace><![CDATA[<xf:if is="$post.canEditPost()">
	<xf:js src="xf/message.js" min="1" />
	<a href="{{ link('posts/edit-post', $post) }}"
	   class="actionBar-action actionBar-action--edits actionBar-action--menuItem"
	   data-xf-click="quick-edit"
	   data-editor-target="#js-post-{$post.post_id} .js-quickEditTarget"
	   data-menu-closer="true">{{ phrase('edit') }}</a>

	<xf:set var="$hasActionBarMenu" value="{{ true }}" />
</xf:if>

<xf:if is="$post.canDeletePost()">
	<a href="{{ link('posts/delete-post', $post) }}"
	   class="actionBar-action actionBar-action--deletes actionBar-action--menuItem"
	   data-xf-click="overlay">{{ phrase('delete') }}</a>

	<xf:set var="$hasActionBarMenu" value="{{ true }}" />
</xf:if>

$0]]></replace>
  </modification>
  <modification type="public" template="thread_view" modification_key="fs_thread_delete_edit_thread_view" description="fs_thread_delete_edit_thread_view" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<!--[XF:thread_tools_menu:before_footer]-->]]></find>
    <replace><![CDATA[<xf:if is="$xf.visitor.is_admin || $xf.visitor.is_moderator">
												<a href="{{ link('threads/delete-edit', $thread) }}" data-xf-click="overlay" class="menu-linkRow">{{ phrase('fs_thread_delete_edit') }}</a>
											</xf:if>

$0]]></replace>
  </modification>
</template_modifications>
