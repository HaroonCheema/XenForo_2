{
    "template": "register_form",
    "description": "fs_add_fields_according_to_account_type",
    "execution_order": 10,
    "enabled": true,
    "action": "preg_replace",
    "find": "/<xf:passwordboxrow name=\"{{ \\$regForm\\.getFieldName\\('password'\\) }}\" .*?}}\" \\/>/is",
    "replace": "<xf:radiorow name=\"account_type\" value=\"\" hint=\"{{ phrase('fs_register_required') }}\" id=\"account_type\"label=\"{{ phrase('fs_register_account_type') }}\">\n\t<xf:option value=\"2\"\n\t\t\t   label=\"{{ phrase('fs_register_provider') }}\"\n\t\t\t   data-hide=\"true\"\n\t\t\t   selected=\"true\"\n\t\t\t   data-xf-init=\"disabler\"\n\t\t\t   data-container=\".js-provider\" />\t\n\t<xf:option value=\"1\"\n\t\t\t   label=\"{{ phrase('fs_register_hobbyist') }}\"\n\t\t\t   data-hide=\"true\"\n\t\t\t   data-xf-init=\"disabler\"\n\t\t\t   data-container=\".js-hobbyist\" />\n\n</xf:radiorow>\n<div class=\"js-hobbyist\">\n\t<xf:formrow><span>{{ phrase('fs_register_page_hobbyist_rules_list') }}</span></xf:formrow>\n</div>\n\n<div class=\"js-provider\">\n\t<xf:formrow><span>{{ phrase('fs_register_page_provider_rules') }}</span></xf:formrow>\n</div>\t\t\n\n<script>\n\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\tlet scrollX = 0, scrollY = 0;\n\t\tconst radios = document.querySelectorAll('input[name=\"account_type\"]');\n\n\t\tconst lockScroll = () => {\n\t\t\tscrollX = window.scrollX || window.pageXOffset;\n\t\t\tscrollY = window.scrollY || window.pageYOffset;\n\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t\tdocument.documentElement.style.overflow = 'hidden';\n\t\t};\n\n\t\tconst unlockScroll = () => {\n\t\t\tdocument.body.style.overflow = '';\n\t\t\tdocument.documentElement.style.overflow = '';\n\t\t\twindow.scrollTo(scrollX, scrollY);\n\t\t};\n\n\t\tradios.forEach(radio => {\n\t\t\tradio.addEventListener('change', function () {\n\t\t\t\tlockScroll();\n\n\t\t\t\tsetTimeout(unlockScroll, 300);\n\t\t\t});\n\t\t});\n\t});\n</script>\n\n$0"
}