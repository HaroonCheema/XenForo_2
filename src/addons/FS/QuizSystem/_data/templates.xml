<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="correct_answer" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:js src="xf/sort.js, vendor/dragula/dragula.js"/>
<xf:css src="public:dragula.less"/>
<xf:form action="{{ link($prefix . '/save', $field) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			
			<xf:textarearow name="question" 
					label="{{ phrase('fs_question') }}"
					explain="{{ phrase('fs_question_explain') }}"
					dir="ltr" />
			

			
		</div>

			<h3 class="block-formSectionHeader">
				<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
					<span class="block-formSectionHeader-aligner">{{ phrase('options_for_choice_fields') }}</span>
				</span>
			</h3>
			<div class="block-body block-body--collapsible">
				<xf:formrow rowtype="input"
					label="{{ phrase('possible_choices') }}"
					explain="{{ phrase('value_represents_internal_value_for_choice_text_is_displayed') }}">

					<div class="inputGroup-container" data-xf-init="list-sorter" data-drag-handle=".dragHandle">
						<xf:foreach loop="$field.field_choices" key="$choice" value="$text">
							<div class="inputGroup">
								<span class="inputGroup-text dragHandle"
									aria-label="{{ phrase('drag_handle')|for_attr }}"></span>
								<xf:textbox name="field_choice[]" value="{$choice}"
									placeholder="{{ phrase('value_a_z_0_9_and_only') }}"
									size="24" maxlength="25"
									dir="ltr" />
								<span class="inputGroup-splitter"></span>
								<xf:textbox name="field_choice_text[]" value="{$text}"
									placeholder="{{ phrase('text') }}" size="24" />
							</div>
						</xf:foreach>
						<div class="inputGroup is-undraggable js-blockDragafter" data-xf-init="field-adder"
							data-remove-class="is-undraggable js-blockDragafter">
							<span class="inputGroup-text dragHandle"
								aria-label="{{ phrase('drag_handle')|for_attr }}"></span>
							<xf:textbox name="field_choice[]"
								placeholder="{{ phrase('value_a_z_0_9_and_only') }}"
								size="24" maxlength="25" data-i="0"
								dir="ltr" />
							
							<span class="inputGroup-splitter"></span>
							<xf:textbox name="field_choice_text[]"
								placeholder="{{ phrase('text') }}"
								size="24" data-i="0" />
							<xf:radio>
								<xf:option>
								</xf:option>
							</xf:radio>
						</div>
					</div>
				</xf:formrow>
			</div>
		

			</div>
	

		
		

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="delete_qsn_macros" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:macro name="delete" global="true"
	arg-object="!"
	arg-idKey="question_id"
> 
	<xf:set var="$question" value="{$object}"></xf:set>
	<xf:form action="{{ link('quiz-qsn/delete', $question) }}" ajax="true" class="block">
		<div class="block-container">
			<div class="block-body">
				<xf:inforow rowtype="confirm">
					<xf:if is="!$question.question_id">
						{{ phrase('please_confirm_that_you_want_to_revert_the_following:') }}
					<xf:else />
						{{ phrase('please_confirm_that_you_want_to_delete_following:') }}
					</xf:if>
					<strong>
						<h2>
							{$object.question_title}
						</h2>
					</strong>
				</xf:inforow>
			</div>
			<xf:submitrow submit="{{ !$question.question_id ? phrase('revert') : phrase('button.delete') }}"
				rowtype="simple" icon="{{ $question.question_id ? 'delete' : '' }}" />
		</div>
		<xf:redirect />
	</xf:form>


</xf:macro>]]></template>
  <template type="admin" title="delete_quiz_macros" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:macro name="delete" global="true"
	arg-object="!"
	arg-idKey="quiz_id"
> 
	<xf:set var="$quiz" value="{$object}"></xf:set>
	<xf:form action="{{ link('quiz/delete', $quiz) }}" ajax="true" class="block">
		<div class="block-container">
			<div class="block-body">
				<xf:inforow rowtype="confirm">
					<xf:if is="!$quiz.quiz_id">
						{{ phrase('please_confirm_that_you_want_to_revert_the_following:') }}
					<xf:else />
						{{ phrase('please_confirm_that_you_want_to_delete_following:') }}
					</xf:if>
					<strong>
						<h2>
							{$quiz.quiz_name}
						</h2>
					</strong>
				</xf:inforow>
			</div>
			<xf:submitrow submit="{{ !$quiz.quiz_id ? phrase('revert') : phrase('button.delete') }}"
				rowtype="simple" icon="{{ $quiz.quiz_id ? 'delete' : '' }}" />
		</div>
		<xf:redirect />
	</xf:form>


</xf:macro>]]></template>
  <template type="admin" title="fs_delete_qsn" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:macro template="delete_qsn_macros" name="delete"
	arg-object="{$question}"
	arg-idKey="question_id"
/>]]></template>
  <template type="admin" title="fs_delete_quiz" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:macro template="delete_quiz_macros" name="delete"
	arg-object="{$quiz}"
	arg-idKey="quiz_id"
/>]]></template>
  <template type="admin" title="fs_edit_quiz_category" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:if is="$category.isInsert()">
	<xf:title>{{ phrase('fs_add_category') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('fs_edit_category:') }} {$category.title}</xf:title>
</xf:if>

<xf:pageaction if="$category.category_id">
	<xf:button href="{{ link('quiz-categories/delete', $category) }}"
		icon="delete"
		data-xf-click="overlay" />
</xf:pageaction>

<xf:form action="{{ link('quiz-categories/save', $category) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:textboxrow name="title" value="{$category.title}"
				label="{{ phrase('title') }}" />

			<xf:textarearow name="description" value="{$category.description}" rows="2" autosize="true"
				label="{{ phrase('description') }}"
				hint="{{ phrase('you_may_use_html') }}" />

			<xf:macro template="category_tree_macros" name="parent_category_select_row"
				arg-category="{$category}"
				arg-categoryTree="{$categoryTree}" />

			<xf:macro template="display_order_macros" name="row"
					  arg-value="{$category.display_order}" />
			
			<xf:submitrow sticky="true" icon="save" />
		</div>
	</div>
</xf:form>]]></template>
  <template type="admin" title="fs_questions_list" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:title>Questions</xf:title>

<xf:macro template="qsn_tree_macros" name="page_action"
	arg-linkPrefix="quiz-qsn" />

<xf:macro template="qsn_tree_macros" name="qsn_list"
	arg-qsnTree="{$question}"
	arg-filterKey="fs_questions_list"
	arg-linkPrefix="quiz-qsn"
	arg-idKey="question_id"
/>]]></template>
  <template type="admin" title="fs_quiz_category_delete" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:macro template="category_tree_macros" name="category_delete_form"
		  arg-linkPrefix="quiz-categories"
		  arg-category="{$category}" />]]></template>
  <template type="admin" title="fs_quiz_category_list" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('fs_quiz_categories') }}</xf:title>

<xf:macro template="category_tree_macros" name="page_action"
	arg-linkPrefix="quiz-categories" />

<xf:macro template="category_tree_macros" name="category_list"
	arg-categoryTree="{$categoryTree}"
	arg-filterKey="quiz-categories"
	arg-linkPrefix="quiz-categories"
	arg-idKey="category_id"
/>]]></template>
  <template type="admin" title="fs_quiz_category_sort" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('sort_categories') }}</xf:title>

<xf:macro template="category_tree_macros" name="sortable_form"
	arg-categoryTree="{$categoryTree}"
	arg-linkPrefix="quiz-categories" />]]></template>
  <template type="admin" title="fs_quiz_edit" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:if is="$quiz != null">
	<xf:title>{{ phrase('edit_quiz:') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('add_quiz:') }}</xf:title>
</xf:if>

<xf:form action="{{ link('quiz/save' , {$quiz}) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:foreach loop="$categories" value="$category">
				</xf:foreach>
			<xf:selectrow name="quiz_category" value="$categories" label="{{ phrase('fs_quiz_categories') }}">
				<xf:foreach loop="$categories" value="$category">
					<xf:option value="{$category.category_id}" selected="$category.category_id == $quiz.category_id">{$category.title}</xf:option>
				</xf:foreach>
			</xf:selectrow>
			<xf:textarearow name="quiz_name" 
					label="{{ phrase('fs_quiz_name') }}"
					value="{{ $quiz? $quiz.quiz_name : '' }}"
					placeholder="{{ phrase('fs_quiz_name') }}"
					dir="ltr" />
			<xf:textarearow name="quiz_des" 
					label="{{ phrase('fs_quiz_des') }}"
					value="{{ $quiz? $quiz.quiz_des : '' }}"
					placeholder="{{ phrase('fs_quiz_des') }}"
					dir="ltr" />
				<xf:tokeninputrow name="quiz_questions" value="{{ $pre_qsn }}" href="{{ link('quiz/find') }}"
					label="{{ phrase('fs_quiz_qsn') }}"
					min-length="1"
					max-tokens="{{ (count($question) > 0) ? count($question)+1 : null }}"
					explain="{{ $quiz ? 'The questions being display are dummy add them again.' : '' }}" />
	
			<xf:formrow label="{{ phrase('fs_quiz_state') }}">
				<xf:radio  name="quiz_state" value="{{ $quiz.quiz_state }}">
					<xf:option label= "Open" class="mycheckbox" name="quiz_state" value="open"></xf:option>
					<xf:option label= "Closed" class="mycheckbox" name="quiz_state" value="closed"></xf:option>
				</xf:radio>
			</xf:formrow>
			<xf:formrow label="{{ phrase('fs_quiz_start') }}">
				 <xf:textbox type="time" name="start_time" value="{{ $st_time }}" style="width: 28%;"/><br>
				<xf:dateinput
					name="quiz_start_date"
					value="{{ $st_date }}"
					required="true"
					autocomplete="off"
				/>
			</xf:formrow>
			<xf:formrow label="{{ phrase('fs_quiz_end') }}">
				 <xf:textbox type="time" name="end_time" value="{{$end_time}}" style="width: 28%;"/><br>
				<xf:dateinput
						name="quiz_end_date"
						value="{{ $end_date }}"
						required="true"
						autocomplete="off"
					/>
			</xf:formrow>
			<xf:numberboxrow label="{{ phrase('fs_time_per_qsn') }}" name="qsn_time" min="60" explain="{{ phrase('qsn_time') }}" value="{{ $quiz.time_per_question }}"/>
			
			<xf:checkboxrow label="{{ phrase('fs_quiz_user_group') }}" name="user_groups[]" value="{{ $quiz.user_group }}">
					<xf:foreach loop="$userGroups" value="$userGroup">
						<xf:option value="{$userGroup.user_group_id}">{$userGroup.title}</xf:option>
					</xf:foreach>
			</xf:checkboxrow>
		</div>
		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="fs_quiz_edit_questions" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:if is="$question != null">
	<xf:title>{{ phrase('edit_question') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('add_question:') }}</xf:title>
</xf:if>

<xf:form action="{{ link('quiz-qsn/save' , {$question}) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			
			<xf:textarearow name="question_title" 
					label="{{ phrase('fs_question') }}"
					explain="{{ phrase('fs_question_explain') }}"
					placeholder="{$question.question_title}"
					dir="ltr" />
			

		<xf:radiorow label="{{phrase('answer_formate_type')}}" name="question_type">
			
			<xf:option  value="textbox" selected="{{ $question.question_type == 'textbox' ? $question.question_type : '' }}" label="{{phrase('fs_single_line_textbox')}}" data-hide="true">
					<xf:dependent>

						<xf:formrow rowtype="input"
							label="{{ phrase('fs_correct_answer') }}"
							explain="{{ phrase('fs_correct_answer_single_line_textbox_explain') }}">

						<xf:textbox name="question_correct_answer"
										label="{{ phrase('fs_correct_answer_explain') }}"
										value="{$question.question_correct_answer}"
										size="24" />
						</xf:formrow>

					</xf:dependent>
				</xf:option>
			
			<xf:option  value="radio" selected="{{ $question.question_type == 'radio' ? $question.question_type : '' }}" label="{{phrase('fs_single_selection_radio')}}" data-hide="true">
				<xf:dependent>
						<div class="inputGroup-container">
							<xf:if is="$question.question_type == 'radio'">
								<xf:foreach loop="$field.field_choices" key="$choice" value="$text">
									<div class="inputGroup">
											<xf:form>
												<xf:textbox name="options-radio[]"
													value="{{ phrase('fs_choice') }}"
													size="12" maxlength="25" data-i="0"
													dir="ltr" style="margin-right:10px;"/>
											    <xf:radio  name="correct-radio[]">
												   <xf:option label= "Correct" class="myRadio" name="correct-radio[]" selected="{{ $select == $choice ? $select : '' }}"></xf:option>
												</xf:radio>
										</xf:form>
									</div><br>
								</xf:foreach>
							</xf:if>
						
							<input type="hidden" name="radio-key" id="radio-key" value="0" />
							<div class="radio-selection-button">
								 <xf:button class="add-radio">Add choice</xf:button>
								 <xf:button class="remove-radio">Remove Choice</xf:button>
							</div><br>
							<div class="radio-selection">
							
									<div class="clone-radio-selection" style="display:flex;margin-top: 10px;">
										
												<xf:textbox name="options-radio[]"
													placeholder="{{ phrase('fs_choice') }}"
													size="12" maxlength="25" data-i="0"
													dir="ltr" style="margin-right:10px;"/>
											    <xf:radio  name="correct-radio[]">
												   <xf:option label= "Correct" class="myRadio" name="correct-radio[]" value="0"></xf:option>
												</xf:radio>
											
											
								  </div>
							</div>
						</div>
						
					
					
					
					
					</xf:dependent>
				</xf:option>
			
			
			<xf:option  value="checkbox" selected="{{ $question.question_type == 'checkbox' ? $question.question_type : '' }}" label="{{phrase('fs_selection_multiple')}}" data-hide="true">
			
				<xf:dependent>
				
						<div class="inputGroup-container">
								<xf:if is="$question">
									<xf:foreach loop="$field.field_choices" key="$choice" value="$text">
										<div class="inputGroup">

											  <xf:form>
													<xf:textbox name="optionsssscheckbox[]"
														placeholder="{{ phrase('fs_choice') }}"
														size="12" maxlength="25" data-i="0"
														dir="ltr" style="margin-right:10px;"/>
													<xf:checkbox  name="correctss-checkbox[]" >
													   <xf:option label= "Correct" class="mycheckbox" name="ss-checkbox[]" value="0"></xf:option>
													</xf:checkbox>
												</xf:form>

										</div>
									</xf:foreach>
								</xf:if>

							<input type="hidden" name="checkbox-key" id="checkbox-key" value="0" />
							
							<div class="check-selection-button">
								 <xf:button class="add-checkbox">Add choice</xf:button>
								 <xf:button class="remove-checkbox">Remove Choice</xf:button>
							</div><br>
							
							<div class="checkbox-selection">
							
									<div class="clone-checkbox-selection" style="display:flex;margin-top: 10px;">
										
										  
												<xf:textbox name="options-checkbox[]"
													placeholder="{{ phrase('fs_choice') }}"
													size="12" maxlength="25" data-i="0"
													dir="ltr" style="margin-right:10px;"/>
											    <xf:checkbox  name="correct-checkbox[]" >
												   <xf:option label= "Correct" class="mycheckbox" name="correct-checkbox[]" value="0"></xf:option>
												</xf:checkbox>
											
											
								  </div>
							</div>
						</div>
					
				</xf:dependent>
			</xf:option>
			
			
		</xf:radiorow>
		
		
		</div>
		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>
 <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
$(document).ready(function() {
  // Clone the first cloneable radio element
  var initialClone = $('.clone-radio-selection').first().clone();
  var initialCheckboxClone = $('.clone-checkbox-selection').first().clone();

  $('.add-radio').on('click', function() {

	var newClone = initialClone.clone();
	 var radioInClone = newClone.find('.myRadio');

	 var currentValue = parseFloat($('#radio-key').val());
    
	
	 var modifiedValue = currentValue + 1;

     $('#radio-key').val(modifiedValue);
    
	 radioInClone.val(modifiedValue);

    $('.radio-selection').append(newClone);
	  
  });


  $('.remove-radio').on('click', function() {

	  var allClones = $('.clone-radio-selection');
	  var currentValue = parseFloat($('#radio-key').val());
    
	  var modifiedValue = currentValue - 1;

       $('#radio-key').val(modifiedValue);
	   
	  var numberOfClones = allClones.length;
	  
	  if (numberOfClones > 1) {
    		$('.clone-radio-selection').last().remove();
	  }
  });
	// Clone the first cloneable checkbox element
	
 
  $('.add-checkbox').on('click', function() {

	  
	 var newClone = initialCheckboxClone.clone();
	 var checkboxInClone = newClone.find('.mycheckbox');

	  var currentValueCheckbox = parseFloat($('#checkbox-key').val());
	  var modifiedValue = currentValueCheckbox + 1;

     $('#checkbox-key').val(modifiedValue);
    
	 checkboxInClone.val(modifiedValue);

    $('.checkbox-selection').append(newClone);
	  
  });


  $('.remove-checkbox').on('click', function() {

	  var allCheckboxClones = $('.clone-checkbox-selection');
	  var currentValue = parseFloat($('#checkbox-key').val());
    
	  var modifiedValue = currentValue - 1;

       $('#checkbox-key').val(modifiedValue);
	   
	  var numberOfClones = allCheckboxClones.length;
	  
	  if (numberOfClones > 1) {
    		$('.clone-checkbox-selection').last().remove();
	  }
  });
});
</script>]]></template>
  <template type="admin" title="fs_quiz_list" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:title>{{ phrase('quiz_list') }}</xf:title>

<xf:macro template="quiz_tree_macros" name="page_action"
	arg-linkPrefix="quiz" />

<xf:macro template="quiz_tree_macros" name="quiz_list"
	arg-quizTree="{$quiz}"
	arg-filterKey="quiz"
	arg-linkPrefix="quiz"
	arg-idKey="quiz_id"
/>]]></template>
  <template type="admin" title="qsn_tree_macros" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:macro name="page_action" arg-linkPrefix="!">
	<xf:pageaction>
		<div class="buttonGroup">
			<xf:button href="{{ link($linkPrefix . '/addEdit') }}" icon="add">{{ phrase('add_qsn') }}</xf:button>
		</div>
	</xf:pageaction>
</xf:macro>

<xf:comment><!--
	Note that this is a global macro, so scope is inherited into it. The expectation is that this macro will generally
	be close to the only thing in a template so this makes the macro work similarly to an include.
--></xf:comment>
<xf:macro name="qsn_list" global="true"
	arg-qsnTree="!"
	arg-filterKey="!"
	arg-linkPrefix="!"
	arg-idKey="question_id"
	>

	<xf:if is="$qsnTree.count() > 0">
		<div class="block">
			<div class="block-outer">
				<xf:macro template="filter_macros" name="quick_filter" arg-key="{$filterKey}" arg-class="block-outer-opposite" />
			</div>
			<div class="block-container">
				<div class="block-body">
					<xf:datalist>
						<xf:foreach loop="$qsnTree" value="$treeEntry">
							<xf:set var="$question" value="{$treeEntry}" />
							<xf:datarow>
								<xf:cell class="dataList-cell--link dataList-cell--main" hash="{$question.{$idKey}}">
									<a href="{{ link('quiz-qsn/addEdit', $question) }}">
										<div class="u-depth{$question}">
											<div class="dataList-mainRow">{$treeEntry.question_title}</div>
										</div>
									</a>
								</xf:cell>
								<xf:if is="$question != null">
									<xf:action
										class="{{ {$question.question_type} ? 'dataList-cell--highlighted' : '' }}"
										href="{{ link($linkPrefix . '/addEdit', $question) }}">
										{$treeEntry.question_type}
									</xf:action>
								</xf:if>
								<xf:delete href="{{ link($linkPrefix . '/confirm', $question) }}" />
							</xf:datarow>
						</xf:foreach>
					</xf:datalist>
				</div>
			</div>
		</div>
	<xf:else />
		<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
	</xf:if>
</xf:macro>

<xf:macro name="sortable_form" arg-categoryTree="!" arg-linkPrefix="!">
	<xf:macro template="public:nestable_macros" name="setup" />

	<xf:form action="{{ link($linkPrefix . 'quiz-question/sort') }}" class="block" ajax="true">
		<div class="block-container">
			<div class="block-body">
				<div class="nestable-container" data-xf-init="nestable">
					<xf:macro name="sortable_list" arg-children="{$quizTree}" />
					<xf:hiddenval name="categories" value="" />
				</div>
			</div>
			<xf:submitrow icon="save" rowtype="simple" />
		</div>
	</xf:form>
</xf:macro>

<xf:macro name="sortable_list" arg-children="!">
	<ol class="nestable-list">
		<xf:foreach loop="$children" key="$id" value="$child">
			<xf:macro name="sortable_list_entry" arg-child="{$child}" arg-children="{$child.children}" />
		</xf:foreach>
	</ol>
</xf:macro>

<xf:macro name="sortable_list_entry" arg-child="!" arg-children="!">
	<li class="nestable-item" data-id="{$child.id}">
		<div class="nestable-handle" aria-label="{{ phrase('drag_handle')|for_attr }}"><xf:fa icon="fa-bars" /></div>
		<div class="nestable-content">{$child.record.title}</div>
		<xf:if is="$child.children is not empty">
			<xf:macro name="sortable_list" arg-children="{$child.children}" />
		</xf:if>
	</li>
</xf:macro>

<xf:macro name="parent_category_select_row"
	arg-category="!"
	arg-categoryTree="!"
	arg-idKey="category_id"
	arg-parentIdKey="parent_category_id">

	<xf:selectrow name="{$parentIdKey}" value="{$category.{$parentIdKey}}"
		label="{{ phrase('parent_category') }}">

		<xf:option value="0">{{ phrase('(none)') }}</xf:option>
		<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
			<xf:option value="{$treeEntry.{$idKey}}">{{ repeat('--', $treeEntry.depth) }} {$treeEntry.record.title}</xf:option>
		</xf:foreach>
	</xf:selectrow>
</xf:macro>

<xf:macro name="qsn_delete_form" arg-linkPrefix="!" arg-category="!">
	<xf:form action="{{ link($linkPrefix . '/delete', $qsnTree) }}" class="block" ajax="true">

		<div class="block-container">
			<div class="block-body">
				<xf:inforow rowtype="confirm">
					{{ phrase('please_confirm_that_you_want_to_delete_following:') }}
					<strong><a href="{{ link($linkPrefix . '/edit', $category) }}">{$qsnTree.question_title}</a></strong>
				</xf:inforow>
			</div>
			<xf:submitrow rowtype="{{ !$qsnTree ? 'simple' : '' }}" icon="delete" />
		</div>
		<xf:redirect />

	</xf:form>
</xf:macro>]]></template>
  <template type="admin" title="quiz_tree_macros" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:macro name="page_action" arg-linkPrefix="!">
	<xf:pageaction>
		<div class="buttonGroup">
			<xf:button href="{{ link($linkPrefix . '/addEdit') }}" icon="add">{{ phrase('add_quiz') }}</xf:button>
		</div>
	</xf:pageaction>
</xf:macro>

<xf:comment><!--
	Note that this is a global macro, so scope is inherited into it. The expectation is that this macro will generally
	be close to the only thing in a template so this makes the macro work similarly to an include.
--></xf:comment>
<xf:macro name="quiz_list" global="true"
	arg-quizTree="!"
	arg-filterKey="!"
	arg-linkPrefix="!"
	arg-idKey="quiz_id"
	>

	<xf:if is="$quizTree.count() > 0">
		<div class="block">
			<div class="block-outer">
				<xf:macro template="filter_macros" name="quick_filter" arg-key="{$filterKey}" arg-class="block-outer-opposite" />
			</div>
			<div class="block-container">
				<div class="block-body">
					<xf:datalist>
						<xf:foreach loop="$quizTree" value="$treeEntry">
							<xf:set var="$quiz" value="{$treeEntry}" />
							<xf:datarow>
								<xf:cell class="dataList-cell--link dataList-cell--main" hash="{$question.{$idKey}}">
									<a href="{{ link('quiz/addEdit', $quiz) }}">
										<div class="u-depth{$quiz}">
											<div class="dataList-mainRow">{$treeEntry.quiz_name}</div>
										</div>
									</a>
								</xf:cell>
								<xf:if is="$quiz == null">
									<xf:action
										class="{{ {$quiz.question_type} ? 'dataList-cell--highlighted' : '' }}"
										href="{{ link($linkPrefix . '/addEdit', $question) }}">
										{$treeEntry.question_type}
									</xf:action>
								</xf:if>
								<xf:delete href="{{ link($linkPrefix . '/confirm', $quiz) }}" />
							</xf:datarow>
						</xf:foreach>
					</xf:datalist>
				</div>
			</div>
		</div>
	<xf:else />
		<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
	</xf:if>
</xf:macro>

<xf:macro name="sortable_form" arg-categoryTree="!" arg-linkPrefix="!">
	<xf:macro template="public:nestable_macros" name="setup" />

	<xf:form action="{{ link($linkPrefix . 'quiz-question/sort') }}" class="block" ajax="true">
		<div class="block-container">
			<div class="block-body">
				<div class="nestable-container" data-xf-init="nestable">
					<xf:macro name="sortable_list" arg-children="{$quizTree}" />
					<xf:hiddenval name="categories" value="" />
				</div>
			</div>
			<xf:submitrow icon="save" rowtype="simple" />
		</div>
	</xf:form>
</xf:macro>

<xf:macro name="sortable_list" arg-children="!">
	<ol class="nestable-list">
		<xf:foreach loop="$children" key="$id" value="$child">
			<xf:macro name="sortable_list_entry" arg-child="{$child}" arg-children="{$child.children}" />
		</xf:foreach>
	</ol>
</xf:macro>

<xf:macro name="sortable_list_entry" arg-child="!" arg-children="!">
	<li class="nestable-item" data-id="{$child.id}">
		<div class="nestable-handle" aria-label="{{ phrase('drag_handle')|for_attr }}"><xf:fa icon="fa-bars" /></div>
		<div class="nestable-content">{$child.record.title}</div>
		<xf:if is="$child.children is not empty">
			<xf:macro name="sortable_list" arg-children="{$child.children}" />
		</xf:if>
	</li>
</xf:macro>

<xf:macro name="parent_category_select_row"
	arg-category="!"
	arg-categoryTree="!"
	arg-idKey="category_id"
	arg-parentIdKey="parent_category_id">

	<xf:selectrow name="{$parentIdKey}" value="{$category.{$parentIdKey}}"
		label="{{ phrase('parent_category') }}">

		<xf:option value="0">{{ phrase('(none)') }}</xf:option>
		<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
			<xf:option value="{$treeEntry.{$idKey}}">{{ repeat('--', $treeEntry.depth) }} {$treeEntry.record.title}</xf:option>
		</xf:foreach>
	</xf:selectrow>
</xf:macro>

<xf:macro name="qsn_delete_form" arg-linkPrefix="!" arg-category="!">
	<xf:form action="{{ link($linkPrefix . '/delete', $qsnTree) }}" class="block" ajax="true">

		<div class="block-container">
			<div class="block-body">
				<xf:inforow rowtype="confirm">
					{{ phrase('please_confirm_that_you_want_to_delete_following:') }}
					<strong><a href="{{ link($linkPrefix . '/edit', $category) }}">{$qsnTree.question_title}</a></strong>
				</xf:inforow>
			</div>
			<xf:submitrow rowtype="{{ !$qsnTree ? 'simple' : '' }}" icon="delete" />
		</div>
		<xf:redirect />

	</xf:form>
</xf:macro>]]></template>
  <template type="public" title="fs_quiz_category_list_macros" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:macro name="simple_category_list"
	arg-selected="0"
	arg-pathToSelected="{{ [] }}"
	arg-children="!"
	arg-isActive="{{ false }}"
>
	<ol class="categoryList toggleTarget{{ $isActive ? ' is-active' : '' }}">

		<xf:foreach loop="$children" key="$id" value="$child">
			<xf:macro name="simple_category_list_item"
				arg-selected="{$selected}"
				arg-pathToSelected="{$pathToSelected}"
				arg-category="{$child.record}"
				arg-children="{$child}"
			/>
		
		</xf:foreach>
	</ol>
</xf:macro>

<xf:macro name="simple_category_list_item"
	arg-selected="!"
	arg-pathToSelected="{{ [] }}"
	arg-category="!"
	arg-children="!"
>
	<xf:set var="$isSelected" value="{{ $category.category_id == $selected }}" />
	<xf:set var="$hasPathToSelected" value="{$pathToSelected.{$category.category_id}}" />
	<xf:set var="$isActive" value="{{ $isSelected OR $hasPathToSelected AND $children is not empty }}" />

	<li class="categoryList-item">
		<div class="categoryList-itemRow">
			<xf:if is="$children is not empty">
				<a class="categoryList-toggler{{ $isActive ? ' is-active' : '' }}"
					data-xf-click="toggle" data-target="< :up :next"
					role="button" tabindex="0" aria-label="{{ phrase('toggle_expanded') }}"
				></a>
			<xf:else />
				<span class="categoryList-togglerSpacer"></span>
			</xf:if>
			<a href="{{ link('quiz', $category) }}" class="categoryList-link{{ $isSelected ? ' is-selected' : '' }}">
				{$category.title}
			</a>
			<span class="categoryList-label">
				<span class="label label--subtle label--smallest">{$category.quiz_count}</span>
			</span>
		</div>
		<xf:if is="$children">
		
			<xf:macro name="simple_category_list"
				arg-selected="{$selected}"
				arg-pathToSelected="{$pathToSelected}"
				arg-children="{$children}"
				arg-isActive="{$isActive}"
			/>
		</xf:if>
	</li>
</xf:macro>

<xf:macro name="simple_list_block" arg-categoryTree="!" arg-selected="{{ 0 }}">
	<div class="block">
		<div class="block-container">
			<h3 class="block-header">{{ phrase('categories') }}</h3>
			<div class="block-body">
				<xf:if is="$categoryTree.count()">
					<xf:macro name="simple_category_list"
						arg-children="{$categoryTree}"
						arg-isActive="{{ true }}"
						arg-selected="{$selected}"
						arg-pathToSelected="{{ $selected ? $categoryTree.getPathTo($selected) : [] }}" />
				<xf:else />
					<div class="block-row">{{ phrase('n_a') }}</div>
				</xf:if>
				
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="fs_quiz_landing" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:title page="{$page}">{{ phrase('fs_quiz') }}</xf:title>

<script>
  // For All Auctions
  function DateTimeConverter(unixdatetime) {
    var wStart_time = new Date(unixdatetime * 1000).toLocaleString("en-US", {
      hour12: false,
      //  timeZone: 'America/New_York',
      // timeZone:'Europe/London',
      timeStyle: "long",
    });
    var tempHumanDate = new Date(unixdatetime * 1000).toLocaleDateString(
      "en-US",
      {
        timeZone: "America/New_York",
        year: "numeric",
        month: "numeric",
        day: "numeric",
      }
    );
 
    var humanDate = new Date(tempHumanDate);
    var year = humanDate.getFullYear();
    var month = (humanDate.getMonth() + 1).toString().padStart(2, "0");
    var date = humanDate.getDate();
 
    var fulldate = year + "-" + month + "-" + date + " " + wStart_time + ":00";

    // FormatingDateEspecialyForIOS
    var tempCountTimmer = fulldate.split(/[- :]/);
    // Apply each element to the Date function
    var tempDateObject = new Date(
      tempCountTimmer[0],
      tempCountTimmer[1] - 1,
      tempCountTimmer[2],
      tempCountTimmer[3],
      tempCountTimmer[4],
      tempCountTimmer[5]
    );
    var CountDownDateTime = new Date(tempDateObject).getTime();

    return CountDownDateTime;
  }

  function timmerCounter(auction_id, start_datetime) {
    let auc_id = auction_id;

    let humanDateTime = DateTimeConverter(start_datetime);

    var countDownDate = new Date(humanDateTime).getTime();
    var counter = setInterval(function () {
      // Get today's date and time
      var now = new Date().getTime();
      // Find the distance between now and the count down date
      var timeDistance = countDownDate - now;
      document.getElementById("days-quiz-" + auc_id).innerHTML =
        Math.floor(timeDistance / (1000 * 60 * 60 * 24)) + " D";
      document.getElementById("hours-quiz-" + auc_id).innerHTML =
        Math.floor((timeDistance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) +
        " H";
      document.getElementById("minutes-quiz-" + auc_id).innerHTML =
        Math.floor((timeDistance % (1000 * 60 * 60)) / (1000 * 60)) + " M";
      document.getElementById("seconds-quiz-" + auc_id).innerHTML =
        Math.floor((timeDistance % (1000 * 60)) / 1000) + " S";

      // If the count down is over, write some text
      if (timeDistance < 0) {
        clearInterval(counter);
        document.getElementById("quiz-counter-" + auc_id).style.display =
          "none";
      }
    }, 1000);
  }
</script>


<xf:page
  option="searchConstraints"
  value="{{ {
	phrase('fs_auction_auctions'): {'search_type': 'fs_auction_auctions'}
} }}"
/>

<xf:if is="$canInlineMod">
  <xf:js src="xf/inline_mod.js" min="1" />
</xf:if>

<div
  class="block"
  data-xf-init="{{ $canInlineMod ? 'inline-mod' : '' }}"
  data-type="fs_quiz_list"
  data-href="{{ link('inline-mod') }}"
>
  <div class="block-outer">
    <xf:trim>
      <xf:pagenav
        page="{$page}"
        perpage="{$perPage}"
        total="{$total}"
        link="quiz"
        params="{$filters}"
        wrapperclass="block-outer-main"
      />

    </xf:trim>
  </div>
  <div class="block-container">
    <xf:macro name="search_menu" arg-conditions="{$conditions}" />

    <!--Listing View--->
    <div class="block-body">
        <xf:if is="$listings is not empty">
          <div class="structItemContainer">
            <xf:foreach loop="$listings" value="$listing">
              <xf:macro
                template="fs_quiz_list_macros"
                name="listing"
                arg-listing="{$listing}"
              />
            </xf:foreach>
          </div>
          <xf:elseif is="$filters" />
          <div class="block-row">
            {{ phrase('fs_quiz_there_no_matching_your_filters') }}
          </div>
          <xf:else />
          <div class="block-row">
            {{ phrase('fs_quiz_no_quiz_have_been_created_yet') }}
          </div>
        </xf:if>
        
      <div class="block-footer">
        <span class="block-footer-counter"
          >{{ display_totals($totalReturn, $total) }}</span
        >
      </div>
    </div>
  </div>

  <div class="block-outer block-outer--after">
    <xf:pagenav
      page="{$page}"
      perpage="{$perPage}"
      total="{$total}"
      link="quiz"
      params="{$filters}"
      wrapperclass="block-outer-main"
    />
    <xf:showignored wrapperclass="block-outer-opposite" />
  </div>
</div>

<xf:page option="sideNavTitle">{{ phrase('categories') }}</xf:page>

<xf:sidenav>
  <xf:macro
    template="fs_quiz_category_list_macros"
    name="simple_list_block"
    arg-categoryTree="{$categoryTree}"
  />
</xf:sidenav>

<!-- Filter Bar Macro Start -->

<xf:macro name="search_menu" arg-conditions="!">
  <div class="block-filterBar">
    <div class="filterBar">
      <a
        class="filterBar-menuTrigger"
        data-xf-click="menu"
        role="button"
        tabindex="0"
        aria-expanded="false"
        aria-haspopup="true"
        >{{ phrase('filters') }}</a
      >
      <div
        class="menu menu--wide"
        data-menu="menu"
        aria-hidden="true"
        data-href="{{ link('quiz/refine-search', null, $conditions)}}"
        data-load-target=".js-filterMenuBody"
      >
        <div class="menu-content">
          <h4 class="menu-header">{{ phrase('show_only:') }}</h4>
          <div class="js-filterMenuBody">
            <div class="menu-row">{{ phrase('loading...') }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</xf:macro>]]></template>
  <template type="public" title="fs_quiz_list_macros" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:macro name="listing"
		  arg-listing="!"
		  arg-category="{{ null }}"
		  arg-showWatched="{{ true }}"
		  arg-allowInlineMod="{{ true }}"
		  arg-chooseName=""
		  arg-extraInfo="">
	<xf:css src="structured_list.less" />
	<xf:css src="fs_quiz_list_view.less" />

	<div class="structItem structItem--listing js-inlineModContainer " id="quiz-{{$listing.quiz_id}}" data-author="">

		<img src ="{{ base_url('styles/FS/AuctionPlugin/no_image.png',true) }}" style="display: none;" onload="timmerCounter({{$listing.quiz_id}},{{$listing.quiz_end_date}})">

		<div class="structItem-cell structItem-cell--main" data-xf-init="touch-proxy">

			<div class="structItem-title">

				<a href="{{ link('quiz/view-quiz', $listing) }}" class="" data-tp-primary="on">{$listing.quiz_name}</a>

			</div>
			<div class="structItem-minor">

				<ul class="structItem-parts">
					<li class="structItem-startDate">
						<xf:date time="{$listing.created_at}" /> 

					</li>

					<li>{{ snippet($listing.Category.title, 50, {'stripBbCode': true}) }}</li>

				</ul>
			</div>



			<div class="auction-category">{{ snippet($listing.quiz_des, 100, {'stripBbCode': true}) }}</div>


		</div>
		
		<div class="structItem-cell structItem-cell--listingMeta">

			<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--questionCount">
				<dt>{{ phrase('fs_quiz_total_questions') }}</dt>
				<dd>
					{{count($listing.quiz_questions)}}
				</dd>
			</dl>
			
			<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--questionDuration">
				<dt >{{ phrase('fs_quiz_time_per_que') }}</dt>
				<dd>
					{$listing.time_per_question} {{ phrase('fs_quiz_sec') }}
				</dd>
			</dl>

			<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--questionDuration">
				<dt >{{ phrase('fs_quiz_quiz_duration') }}</dt>
				<dd>
					{$listing.getQuizDuration()}
					<xf:comment>
						{{$listing.Thread.getFormatedTime12()}}
					</xf:comment>

				</dd>
			</dl>
			
		</div>
		
		<div class="structItem-cell structItem-cell--listingMeta">

			<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--starting">
				<dt>{{ phrase('fs_quiz_start_date') }}</dt>
				<dd>
					<xf:date time="{$listing.quiz_start_date}" />
				</dd>
			</dl>

			<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--expiration">
				<dt >{{ phrase('fs_quiz_end_date') }}</dt>
				<dd>
					<xf:date time="{$listing.quiz_end_date}" />
					<xf:comment>
						{{$listing.Thread.getFormatedTime12()}}
					</xf:comment>

				</dd>
			</dl>
			<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--type">
				<dt id="counter-before">

				</dt>
				<dd>	<xf:if is="$listing.quiz_end_date < $xf.time">
					<li>
						<span class="label label--red label--smallest">{{ phrase('fs_quiz_expired') }}</span>
					</li>
					<xf:else />
					<li>
						<div id="quiz-counter-{{$listing.quiz_id}}">

							<span class="label  label--blue label--counter" id="days-quiz-{{$listing.quiz_id}}">
								{{phrase('fs_quiz_DD')}}
							</span>
							<span class="label  label--blue label--counter" id="hours-quiz-{{$listing.quiz_id}}">
								{{phrase('fs_quiz_HH')}}
							</span>
							<span class="label  label--blue label--counter" id="minutes-quiz-{{$listing.quiz_id}}">
								{{phrase('fs_quiz_MM')}}
							</span>
							<span class="label  label--blue label--counter" id="seconds-quiz-{{$listing.quiz_id}}">
								{{phrase('fs_quiz_SS')}}
							</span>
						</div>

					</li>
					</xf:if> </dd>
			</dl>


		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="fs_quiz_list_view.less" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[// ############################ Auction List View ######################

.structItem-cell.structItem-cell--listingMeta
{
	width: 250px;
}
.label--counter{
	font-size:13px;
}
.auction-category{
	font-size: 12px;
    color: #8c8c8c;
}
#counter-before:after{
	content:none;
}
.structItem-metaItem--ratingf
{
	font-size: @xf-fontSizeSmall;
}
.label--counter-single{
	font-size:25px;
}
@media (max-width: @xf-responsiveWide)
{
	.structItem-cell.structItem-cell--listingMeta
	{
		width: 190px;
		font-size: @xf-fontSizeSmaller;
	}
}

@media (max-width: @xf-responsiveMedium)
{
	.structItem-cell.structItem-cell--listingMeta
	{
		display: block;
		width: auto;
		float: left;
		padding-top: 0;
		padding-left: 0;
		padding-right: 0;
		color: @xf-textColorMuted;

		.pairs
		{
			display: inline;

			&:before,
			&:after
			{
				display: none;
			}

			> dt,
			> dd
			{
				display: inline;
				float: none;
				margin: 0;
			}
		}

		.structItem-metaItem
		{
			display: inline;
		}

		.ratingStarsRow
		{
			display: inline;

			.ratingStarsRow-text
			{
				display: none;
			}
		}

		.structItem-metaItem--lastUpdate > dt
		{
			display: none;
		}

		.structItem-metaItem + .structItem-metaItem:before
		{
			display: inline;
			content: "\20\00B7\20";
			color: @xf-textColorMuted;
		}
	}
}

// #################################### Auction LISTING BODY / VIEW ########################

.listingBody
{
	display: flex;
}

.listingBody-main
{
	flex: 1;
	min-width: 0;
	padding: @xf-blockPaddingV @xf-blockPaddingH;
}

.listingBody-sidebar
{
	flex: 0 0 auto;
	width: 250px;
	.xf-contentAltBase();
	border-left: @xf-borderSize solid @xf-borderColor;
	padding: @xf-blockPaddingV @xf-blockPaddingH;
	font-size: @xf-fontSizeSmall;

	> :first-child
	{
		margin-top: 0;
	}

	> :last-child
	{
		margin-bottom: 0;
	}
}

.listingBody-fields
{
	&.listingBody-fields--before
	{
		margin-bottom: @xf-paddingLarge;
		padding-bottom: @xf-paddingMedium;
		border-bottom: @xf-borderSize solid @xf-borderColorLight;
	}

	&.listingBody-fields--after
	{
		margin-top: @xf-paddingLarge;
		padding-top: @xf-paddingMedium;
		border-top: @xf-borderSize solid @xf-borderColorLight;
	}
}

.listingBody-attachments
{
	margin: .5em 0;
}

.listingBody .actionBar-set
{
	margin-top: @xf-messagePadding;
	font-size: @xf-fontSizeSmall;
}

.listingSidebarGroup
{
	margin-bottom: @xf-elementSpacer;

	&.listingSidebarGroup--buttons
	{
		> .button
		{
			display: block;
			margin: 5px 0;

			&:first-child
			{
				margin-top: 0;
			}

			&:last-child
			{
				margin-bottom: 0;
			}
		}
	}
}

.listingSidebarGroup-title
{
	margin: 0;
	padding: 0;

	font-size: @xf-fontSizeLarge;
	font-weight: @xf-fontWeightNormal;
	color: @xf-textColorFeature;
	padding-bottom: @xf-paddingMedium;

	.m-hiddenLinks();
}

.listingSidebarList
{
	.m-listPlain();

	> li
	{
		padding: @xf-paddingSmall 0;

		&:first-child
		{
			padding-top: 0;
		}

		&:last-child
		{
			padding-bottom: 0;
		}
	}
}

@media (max-width: @xf-responsiveWide)
{
	.listingBody
	{
		display: block;
	}

	.listingBody-sidebar
	{
		width: auto;
		border-left: none;
		border-top: @xf-borderSize solid @xf-borderColor;
	}

	.listingSidebarGroup
	{
		max-width: 600px;
		margin-left: auto;
		margin-right: auto;
	}
}


.structItem-cell.structItem-cell--icon.structItem-cell--iconExpanded.structItem-cell--iconListingCoverImage
{
	width: 110px;
}

.structItem-cell.structItem-cell--icon.structItem-cell--iconExpanded.structItem-cell--iconListingCoverImageGrid
{
	min-width: 300px !important;
}

.structItem-cell--iconListingCoverImage .structItem-iconContainer .avatar
{
	width: 96px;
	height: 96px;
	font-size: 57.6px;
	border-radius:0;
}]]></template>
  <template type="public" title="fs_quiz_search_filter" version_id="1020010" version_string="1.2.0 Alpha"><![CDATA[<xf:form action="{{ link('quiz') }}">

	<div class="menu-row menu-row--separated">
		{{ phrase('fs_quiz_status:') }}
		<div class="u-inputSpacer">
			<xf:select name="fs_quiz_status" value="{$conditions.fs_quiz_status}">
				<xf:option value="all" selected="true" label="{{ phrase('all') }}" />
				<xf:option value="1" label="{{ phrase('fs_quiz_active') }}" />
				<xf:option value="0" label="{{ phrase('fs_quiz_expire') }}" />
			</xf:select>
		</div>
	</div>

	<div class="menu-row menu-row--separated">
		{{ phrase('fs_quiz_cat:') }}
		<div class="u-inputSpacer">
			<xf:select name="fs_quiz_cat" value="{$conditions.fs_quiz_cat}">
				<xf:option value="0" selected="true">{{ phrase('none') }}</xf:option>

				<xf:foreach loop="$categories" value="$cat">
					<xf:option
							   value="{$cat.category_id}"
							   >{$cat.title}</xf:option
						>
				</xf:foreach>
			</xf:select>
		</div>
	</div>

	<div class="menu-footer">
		<span class="menu-footer-controls">
			<xf:button type="submit" class="button--primary"
					   >{{ phrase('filter') }}</xf:button
				>
		</span>
	</div>

	<xf:hiddenval name="search">1</xf:hiddenval>
</xf:form>]]></template>
</templates>
