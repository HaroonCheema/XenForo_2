<xf:title>{{ phrase('dc_link_proxy_tfa_auth_pass') }}</xf:title>

<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">

	<div class="block-container">

		<xf:if is="$data is not empty">
			<div class="block-body">
				<xf:datalist data-xf-init="responsive-data-list">

					<xf:macro
							  name="table_list"
							  arg-data="{$data}"
							  />

				</xf:datalist>
				<div class="block-footer">
					<span class="block-footer-counter"
						  >{{ display_totals($totalReturn, $total) }}</span
						>
				</div>

			</div>
			<xf:else />
			<div class="block-body block-row">{{ phrase('no_items_have_been_created_yet') }}</div>

		</xf:if>

	</div>

	<div class="block-body block-row"></div>

	<div class="block-container">
		<div class="block-body">
			<div class="blockMessage blockMessage--important blockMessage--iconic">
				{{ phrase('dc_explain_iframe_use') }}
				<div style="margin: 1em 0; text-align: center">
					<xf:macro name="copy_emmbed_code" arg-link="{$link}"/>
				</div>
			</div>
		</div>
	</div>
</xf:form>
<xf:macro
		  name="table_list"
		  arg-data="!"
		  >
	<xf:datarow rowtype="header">
		<xf:cell> {{ phrase('dc_link_proxy_tfa_pass') }} </xf:cell>
	</xf:datarow>
	<xf:foreach loop="{$data}" value="$value">
		<xf:datarow>

			<xf:cell> {$value.auth_password} </xf:cell>
		</xf:datarow>
	</xf:foreach>
</xf:macro>

<xf:macro name="copy_emmbed_code" arg-link="!">
	<code class="js-copyTarget">
		&lt;iframe src="{{$link}}" style="border:none; width:100%; height:350px;" title="Proxy-link passwords page"&gt;&lt;/iframe&gt;
	</code>
	<xf:button icon="copy"
			   data-xf-init="copy-to-clipboard"
			   data-copy-target=".js-copyTarget"
			   data-success="{{ phrase('code_copied_to_clipboard') }}"
			   class="button--link is-hidden" />
</xf:macro>