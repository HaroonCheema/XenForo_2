<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="attachment_upload" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('attachment_upload') }}</xf:title>

<xf:form action="{{ link('attachments/upload', null, {'type': $type, 'hash': $hash, 'context': $context}) }}" class="block" upload="true" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:if is="$existing is not empty OR $new is not empty">
				<xf:formrow label="{{ phrase('existing_attachments') }}">
					<xf:css src="attachments.less" />
					<ul class="attachUploadList">
						<xf:foreach loop="$existing" value="$attachment">
							<xf:macro template="helper_attach_upload" name="uploaded_file"
								arg-attachment="{$attachment}"
								arg-noJsFallback="{{ true }}" />
						</xf:foreach>
						<xf:foreach loop="$new" value="$attachment">
							<xf:macro template="helper_attach_upload" name="uploaded_file"
								arg-attachment="{$attachment}"
								arg-noJsFallback="{{ true }}" />
						</xf:foreach>
					</ul>
				</xf:formrow>
			</xf:if>
			<xf:if is="$canUpload">
				<xf:uploadrow name="upload" accept=".{$constraints.extensions|join(',.')}"
					label="{{ phrase('attach_file') }}"
					explain="{{ phrase('you_may_close_this_window_tab_once_you_have_uploaded_your_files_to_return') }}" />
			<xf:elseif is="!$canUpload AND $uploadError" />
				<xf:formrow label="{{ phrase('attach_file') }}">{$uploadError}</xf:formrow>
			</xf:if>
		</div>
		<xf:if is="$canUpload">
			<xf:submitrow submit="{{ phrase('upload') }}" icon="upload" />
		</xf:if>
	</div>
</xf:form>]]></template>
  <template type="admin" title="attachments.less" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[@_fileMinSize: 165px;
@_fileBorderRadius: @xf-borderRadiusSmall;

.attachmentUploads
{
	display: none;
	margin-bottom: @xf-paddingLarge;

	&.is-active
	{
		display: block;
	}

	&.attachmentUploads--spaced
	{
		margin-top: @xf-paddingLarge;
	}

	.hScroller-action
	{
		color: @xf-linkColor;

		&:hover
		{
			color: @xf-linkHoverColor;
		}

		&.hScroller-action--start
		{
			&:before
			{
				content: '';
				position: absolute;
				left: 0;
				height: 50px;
				width: 35px;
				background: @xf-contentBg;
				.m-borderRightRadius(@xf-borderRadiusMedium);
				.m-dropShadow(1px, 0, 4px, 1px, .3);
			}

			&:after
			{
				position: absolute;
				left: 10px;
			}
		}

		&.hScroller-action--end
		{
			&:before
			{
				content: '';
				position: absolute;
				right: 0;
				height: 50px;
				width: 35px;
				background: @xf-contentBg;
				.m-borderLeftRadius(@xf-borderRadiusMedium);
				.m-dropShadow(-1px, 0, 4px, 1px, .3);
			}

			&:after
			{
				position: absolute;
				right: 10px;
			}
		}
	}
}

.attachmentUploads-banner
{
	.xf-contentAltBase();
	border: @xf-borderSize solid @xf-borderColor;
	border-radius: @xf-borderRadiusSmall;
	margin-top: @xf-paddingLarge;
	padding: @xf-paddingSmall @xf-paddingMedium;
}

.attachmentUploads-selectActions
{
	.m-listPlain();
	display: none;
	font-size: @xf-fontSizeSmall;

	.attachmentUploads.is-selecting &
	{
		display: flex;
	}

	> li
	{
		margin-right: .35em;

		.buttonGroup
		{
			vertical-align: middle;
		}

		&:last-of-type
		{
			flex: 1 1 auto;
			text-align: right;
		}
	}

	.selectAll .iconic
	{
		cursor: pointer;

		input + i
		{
			color: @xf-linkColor;
		}
	}
}

.is-selecting button.js-attachmentSelect
{
	float: right;
}

.file
{
	position: relative;
	width: @_fileMinSize;
	height: @_fileMinSize;
	margin-right: @xf-paddingMedium;
	background: @xf-contentAltBg;
	border-radius: @_fileBorderRadius;

	&:last-child
	{
		margin-right: 0;
	}
}

.attachUploadList
{
	.m-listPlain();
	display: block;
	white-space: nowrap;
	font-size: 0;

	.file
	{
		display: inline-block;
		font-size: @xf-fontSizeNormal;
	}
}

.attachmentList
{
	.m-listPlain();

	display: flex;
	flex-wrap: wrap;

	.file
	{
		margin-bottom: @xf-paddingMedium;
	}
}

@supports (display: grid)
{
	.attachmentList
	{
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(@_fileMinSize, 1fr));
		grid-gap: @xf-paddingMedium;
		gap: @xf-paddingMedium;

		.file
		{
			width: 100%;
			height: auto;
			margin-right: 0;
			margin-bottom: 0;

			&:after
			{
				content: '';
				display: block;
				padding-bottom: 100%;
				pointer-events: none;
			}
		}
	}
}

.file-preview
{
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: @_fileBorderRadius;
	overflow: hidden;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;

	img, video
	{
		position: absolute;
		top: 0;
		left: 0;
		object-fit: cover;
		width: 100%;
		height: 100%;
	}

	.file--linked &:after
	{
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		z-index: @zIndex-1;
	}
}

.file-typeIcon
{
	font-size: 80px;
	vertical-align: middle;
	color: @xf-textColorFeature;
}

.file-error
{
	color: @xf-textColorAttention;
	font-size: @xf-fontSizeSmaller;
	white-space: normal;
	padding: @xf-paddingMedium;
}

.file-progress
{
	position: relative;
	width: 100%;
	width: calc(~'100% - 8px');
	font-size: @xf-fontSizeSmallest;
	line-height: 1.3;

	i
	{
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		background: @xf-progressBarColor;
		color: contrast(@xf-progressBarColor);
		border-radius: @xf-borderRadiusSmall;
		padding-right: .2em;
		text-align: right;
		font-style: normal;
		white-space: nowrap;
		min-width: 2em;

		.m-transition(width);
	}
}

.file-content
{
	position: absolute;
	width: 100%;
	height: 100%;
}

.file-info
{
	position: absolute;
	left: 0;
	bottom: 0;
	width: 100%;
	padding: 0 @xf-paddingLarge;
	height: 2.5em;
	line-height: 2.5;
	overflow: hidden;
	.m-transition(height);
	.m-borderBottomRadius(@_fileBorderRadius);

	font-size: @xf-fontSizeSmaller;
	color: rgb(255, 255, 255);
	background: rgba(0, 0, 0, 0.5);
	text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.6);

	@supports (backdrop-filter: blur(3px)) or (-webkit-backdrop-filter: blur(3px))
	{
		.m-backdropFilter(blur(3px));
	}

	a&
	{
		color: rgb(255, 255, 255);

		&:hover
		{
			color: rgb(255, 255, 255);
			text-decoration: none;

			.file-name
			{
				text-decoration: underline;
			}
		}
	}

	&:hover,
	.file--linked:hover &,
	.has-touchevents &
	{
		height: 5em;
	}
}

.file-name,
.file-meta
{
	display: block;
	white-space: nowrap;
	text-overflow: ellipsis;
	overflow: hidden;
}

.file-delete,
.file-insert
{
	position: absolute;
	color: rgb(255, 255, 255);
	text-shadow: 1px 1px 1px rgba(0, 0, 0, .6);
}

.file-checkbox
{
	display: none;

	.attachmentUploads.is-selecting &
	{
		display: block;
	}

	.iconic
	{
		position: static;

		&:after
		{
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: @zIndex-1;
		}

		> i
		{
			position: absolute;
			top: 4px;
			left: 4px;
			box-sizing: content-box;
			width: 1em;
			height: 1em;
			color: rgb(220, 220, 220);
			text-shadow: 1px 1px 1px rgba(0, 0, 0, .6);
			background: rgba(0, 0, 0, .2);
			border-radius: @xf-borderRadiusMedium;
			padding: @xf-paddingMedium;
			line-height: 1;
		}

		&:hover > i
		{
			color: rgb(255, 255, 255);

			&:before
			{
				content: @fa-var-check-square;
			}
		}

		> input + i
		{
			&:before,
			&:after
			{
				top: @xf-paddingMedium;
				left: @xf-paddingMedium;
			}
		}

		> input:checked + i:after
		{
			font-weight: bold;
		}
	}
}

.file-insert
{
	top: 4px;
	left: 4px;
	font-size: @xf-fontSizeSmaller;
	max-width: (@_fileMinSize - 40px);
	white-space: normal;
	word-wrap: break-word;

	&.is-active
	{
		.file-insertLink
		{
			display: none;
		}

		.file-menuOptions
		{
			display: block;
		}
	}
}

.file-delete
{
	top: 4px;
	right: 4px;
	font-size: @xf-fontSizeNormal;
}

.file-insert,
.file-delete
{
	.attachmentUploads.is-selecting &
	{
		display: none;
	}
}

.file-insertLink,
.file-deleteLink
{
	display: inline-block;
}

a.file-deleteLink
{
	color: inherit;
	background: rgba(0, 0, 0, .2);
	border-radius: @xf-borderRadiusMedium;
	padding: @xf-paddingMedium;
	.m-transition(background);

	&:hover
	{
		text-decoration: none;
		background: rgba(0, 0, 0, .5);
	}
}

a.file-insertLink,
.file-menuOptions > a
{
	color: inherit;
	background: rgba(0, 0, 0, 0.4);
	border-radius: @xf-borderRadiusMedium;
	padding: @xf-paddingMedium;
	.m-transition(background);

	&:hover
	{
		text-decoration: none;
		background: rgba(0, 0, 0, .5);
	}
}

.file-menuOptions
{
	.m-listPlain();
	display: none;

	> a
	{
		display: block;
		margin-top: @xf-paddingSmall;
		max-width: max-content;

		&:first-child
		{
			margin-top: 0;
		}
	}
}

@media (max-width: @xf-responsiveNarrow)
{
	.attachmentUploads
	{
		.iconic-label,
		.insert-label
		{
			display: none;
		}
	}
}]]></template>
  <template type="admin" title="bh_Item_field_delete" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:include template="bh_base_custom_field_delete" />]]></template>
  <template type="admin" title="bh_Item_field_edit" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:include template="bh_base_customFields_macro">
	<xf:set var="$extraOptions">
		<xf:macro template="base_custom_field_macros" name="common_options"
			arg-field="{$field}" />
	</xf:set>

</xf:include>]]></template>
  <template type="admin" title="bh_Item_field_list" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('bh_item_fields') }}</xf:title>

<xf:include template="bh_base_custom_field_list" />]]></template>
  <template type="admin" title="bh_ads" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('bh_ads') }}</xf:title>
	
<div class="block-container">
	<div class="block-body">
		
		<xf:set var="$ads" value="{{ 
									  {
										  	'brand List Sidebar': 'bh_ad_brandList_sidebar',
										  	'Item List Sidebar': 'bh_ad_itemList_sidebar',
								  			'Item view Sidebar': 'bh_ad_itemView_sidebar',
								  			'OwnerPage Sidebar': 'bh_ad_ownerPage_sidebar',
								  			'UserReviews Above (on Item View page)': 'bh_ad_userReviw_above',
								  			'UserReviews Below (on Item View page)': 'bh_ad_userReviw_below'
									  } 
								  }}" />

		<xf:datalist data-xf-init="responsive-data-list">
			<xf:datarow rowtype="header">
				<xf:cell>{{ phrase('bh_ad_location') }}</xf:cell>
				<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
			</xf:datarow>
			<xf:foreach loop="$ads" key="$location" value="$ad">
				<xf:datarow>
					<xf:cell>{$location}</xf:cell>
					<xf:action href="{{ link('bh-ads/edit', null, {'template_title': $ad,'location_name': $location}) }}" overlay="true">{{ phrase('edit_ad_code') }}</xf:action>
				</xf:datarow>
			</xf:foreach>
		</xf:datalist>
	</div>
</div>]]></template>
  <template type="admin" title="bh_ads_edit" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('bh_edit_ad:') }} {$locationName}</xf:title>

<xf:form action="{{ link('bh-ads/save') }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">

			<xf:hiddenval name="template_title">{$adTemplate.title}</xf:hiddenval>
			
			<xf:textarearow name="template_code" label="{{ phrase('bh_ad_code') }}"
						value="{$adTemplate.template}"
						autosize="true"
						rows="10"
						explaine="{{ phrase('bh_ad_code_explain') }}" />
			
		</div>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="bh_base_customFields_macro" version_id="1010500" version_string="1.1.5 Alpha"><![CDATA[<xf:if is="$field.isInsert()">
	<xf:title>{{ phrase('add_field') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('edit_field:') }} {$field.title|htmlspecialchars}</xf:title>
</xf:if>

<xf:pageaction if="$field.isUpdate()">
	<xf:button href="{{ link($prefix . '/delete', $field) }}" overlay="true" icon="delete" />
</xf:pageaction>

<xf:js src="xf/sort.js, vendor/dragula/dragula.js"/>
<xf:css src="public:dragula.less"/>

<xf:form action="{{ link($prefix . '/save', $field) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:if is="{{ $field.exists() }}">
				<xf:formrow label="{{ phrase('field_id') }}"
					explain="{{ phrase('this_is_unique_identifier_for_field_cannot_be_changed') }}">
					<span class="u-ltr">{$field.field_id}</span>
				</xf:formrow>
			<xf:else />
				<xf:textboxrow name="field_id" id="ctrl_field_id" maxlength="{{ max_length($field, 'field_id') }}"
					label="{{ phrase('field_id') }}"
					explain="{{ phrase('this_is_unique_identifier_for_field_cannot_be_changed') }}"
					dir="ltr" />
			</xf:if>

			<hr class="formRowSep" />

			<xf:textboxrow name="title" value="{{ $field.exists() ? $field.MasterTitle.phrase_text : '' }}"
				label="{{ phrase('title') }}" />
                  <xf:comment>
			<xf:textarearow name="description" value="{{ $field.exists() ? $field.MasterDescription.phrase_text : '' }}"
				autosize="true"
				label="{{ phrase('description') }}"
				hint="{{ phrase('you_may_use_html') }}" />
           </xf:comment>
			<hr class="formRowSep" />

			<xf:radiorow name="display_group" value="{$field.display_group}"
				label="{{ phrase('display_location') }}">
				<xf:options source="$displayGroups" />
			</xf:radiorow>

			<xf:macro template="display_order_macros" name="row"
				arg-value="{$field.display_order}" />

			{$displayOptions|raw}

			<hr class="formRowSep" />

			<xf:radiorow name="field_type" value="{$field.field_type}" listclass="listColumns"
				label="{{ phrase('field_type') }}">

				<xf:foreach loop="$fieldTypes"
					key="$fieldType"
					value="$fieldDef"
					if="!$existingType || $fieldDef.compatible == $existingType.compatible">

					<xf:option class="{$fieldDef.type}" value="{$fieldType}">{$fieldDef.label}</xf:option>
				</xf:foreach>
			</xf:radiorow>
		</div>

		<xf:if is="!$existingType || $existingType.options == 'text'">
			<h3 class="block-formSectionHeader">
				<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
					<span class="block-formSectionHeader-aligner">{{ phrase('options_for_text_fields') }}</span>
				</span>
			</h3>
			<div class="block-body block-body--collapsible">
				<xf:radiorow name="match_type" value="{$field.match_type}" listclass="_listColumns"
					label="{{ phrase('value_match_requirements') }}"
					hint="{{ phrase('empty_values_always_allowed') }}">

					<xf:option value="none">{$matchTypes.none}</xf:option>
					<xf:option value="number" data-hide="true"
						label="{$matchTypes.number}">
						<xf:dependent><xf:macro name="number_dependent" arg-field="{$field}" /></xf:dependent>
					</xf:option>
					<xf:option value="alphanumeric">{$matchTypes.alphanumeric}</xf:option>
					<xf:option value="email">{$matchTypes.email}</xf:option>
					<xf:option value="url">{$matchTypes.url}</xf:option>
					<xf:option value="color">{$matchTypes.color}</xf:option>
					<xf:option value="date" data-hide="true"
						label="{$matchTypes.date}">
						<xf:dependent><xf:macro name="date_dependent" arg-field="{$field}" /></xf:dependent>
					</xf:option>
					<xf:option value="regex" data-hide="true"
						label="{$matchTypes.regex}">
						<xf:dependent><xf:macro name="regex_dependent" arg-field="{$field}" /></xf:dependent>
					</xf:option>
					<xf:option value="callback"  data-hide="true"
						label="{$matchTypes.callback}">
						<xf:dependent>
							<xf:macro template="helper_callback_fields" name="callback_fields"
								arg-className="match_params[callback_class]"
								arg-methodName="match_params[callback_method]"
								arg-classValue="{$field.match_params.callback_class}"
								arg-methodValue="{$field.match_params.callback_method}"
								arg-size="23" />
							<p class="formRow-explain">
								<code>
									<em>\XF\CustomField\Definition</em> $definition,
									&amp;$value,
									&amp;$error
								</code>
							</p>
						</xf:dependent>
					</xf:option>
					<xf:option value="validator" data-hide="true"
						label="{$matchTypes.validator}">
						<xf:dependent><xf:macro name="validator_dependent" arg-field="{$field}" /></xf:dependent>
					</xf:option>
				</xf:radiorow>

				<hr class="formRowSep" />

				<xf:numberboxrow name="max_length" value="{$field.max_length}" min="0"
					label="{{ phrase('maximum_length') }}" />
			</div>
		</xf:if>

		<xf:if is="!$existingType || $existingType.options == 'choice'">
			<h3 class="block-formSectionHeader">
				<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
					<span class="block-formSectionHeader-aligner">{{ phrase('options_for_choice_fields') }}</span>
				</span>
			</h3>
			<div class="block-body block-body--collapsible">
				<xf:formrow rowtype="input"
					label="{{ phrase('possible_choices') }}"
					explain="{{ phrase('value_represents_internal_value_for_choice_text_is_displayed') }}">

					<div class="inputGroup-container" data-xf-init="list-sorter" data-drag-handle=".dragHandle">
						<xf:foreach loop="$field.field_choices" key="$choice" value="$text">
							<div class="inputGroup">
								<span class="inputGroup-text dragHandle"
									aria-label="{{ phrase('drag_handle')|for_attr }}"></span>
								<xf:textbox name="field_choice[]" value="{$choice}"
									placeholder="{{ phrase('value_a_z_0_9_and_only') }}"
									size="24" maxlength="25"
									dir="ltr" />
								<span class="inputGroup-splitter"></span>
								<xf:textbox name="field_choice_text[]" value="{$text}"
									placeholder="{{ phrase('text') }}" size="24" />
							</div>
						</xf:foreach>
						<div class="inputGroup is-undraggable js-blockDragafter" data-xf-init="field-adder"
							data-remove-class="is-undraggable js-blockDragafter">
							<span class="inputGroup-text dragHandle"
								aria-label="{{ phrase('drag_handle')|for_attr }}"></span>
							<xf:textbox name="field_choice[]"
								placeholder="{{ phrase('value_a_z_0_9_and_only') }}"
								size="24" maxlength="25" data-i="0"
								dir="ltr" />
							<span class="inputGroup-splitter"></span>
							<xf:textbox name="field_choice_text[]"
								placeholder="{{ phrase('text') }}"
								size="24" data-i="0" />
						</div>
					</div>
				</xf:formrow>
			</div>
		</xf:if>

		<h3 class="block-formSectionHeader">
			<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
				<span class="block-formSectionHeader-aligner">{{ phrase('general_options') }}</span>
			</span>
		</h3>
		<div class="block-body block-body--collapsible">
			<xf:if is="$extraOptions is not empty">
				{$extraOptions|raw}

				<hr class="formRowSep" />
			</xf:if>

			<xf:codeeditorrow name="display_template" value="{$field.display_template}"
				mode="html" data-line-wrapping="true"
				class="codeEditor--autoSize"
				label="{{ phrase('value_display_html') }}"
				explain="{{ phrase('field_display_html_description', {'fieldId': $field.field_id}) }}" />

			<xf:if is="$hasWrapperTemplate">
				<xf:codeeditorrow name="wrapper_template" value="{$field.wrapper_template}"
					mode="html" data-line-wrapping="true"
					class="codeEditor--autoSize"
					label="{{ phrase('wrapper_display_html') }}"
					explain="{{ phrase('wrapper_template_html_description', {'fieldId': $field.field_id}) }}" />
			</xf:if>
		</div>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>

<xf:macro name="number_dependent" arg-field="!">
	<div class="inputGroup inputGroup--numbers">
		<xf:numberbox name="match_params[number_min]" value="{$field.match_params.number_min}" size="5"
			class="input--numberNarrow"
			placeholder="{{ phrase('minimum') }}" />
		&nbsp;
		<xf:numberbox name="match_params[number_max]" value="{$field.match_params.number_max}" size="5"
			class="input--numberNarrow"
			placeholder="{{ phrase('maximum') }}" />
	</div>
	<xf:checkbox>
		<xf:option name="match_params[number_integer]" selected="{$field.match_params.number_integer}">{{ phrase('field_definition_require_whole_number') }}</xf:option>
	</xf:checkbox>
</xf:macro>

<xf:macro name="regex_dependent" arg-field="!">
	<xf:textbox name="match_params[regex]" value="{$field.match_params.regex}"
		placeholder="{{ phrase('regular_expression') }}"
		code="true" />
</xf:macro>

<xf:macro name="validator_dependent" arg-field="!">
	<xf:textbox name="match_params[validator]" value="{$field.match_params.validator}"
		placeholder="{{ phrase('validator') }}"
		dir="ltr" />
</xf:macro>

<xf:macro name="date_dependent" arg-field="!">
	<xf:radio name="match_params[date_constraint]" value="{{ $field.match_params.date_constraint ?: '' }}">
		<xf:option value="past">{{ phrase('field_definition_require_past_date') }}</xf:option>
		<xf:option value="future">{{ phrase('field_definition_require_future_date') }}</xf:option>
		<xf:option value="">{{ phrase('any') }}</xf:option>
	</xf:radio>
</xf:macro>]]></template>
  <template type="admin" title="bh_base_custom_field_delete" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link($prefix . '/delete', $field) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{{ phrase('please_confirm_that_you_want_to_delete_following:') }}
				<strong><a href="{{ link($prefix . '/edit', $field) }}">{$field.title|htmlspecialchars}</a></strong>
			</xf:inforow>
		</div>
		<xf:submitrow icon="delete" rowtype="simple" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="bh_base_custom_field_list" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:pageaction>
	<xf:button href="{{ link($prefix . '/add') }}" icon="add">{{ phrase('add_field') }}</xf:button>
</xf:pageaction>

<xf:if is="$fieldsGrouped is not empty">
	<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter" arg-key="user-fields" arg-class="block-outer-opposite" />
		</div>
		<div class="block-container">
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="$displayGroups" key="$displayGroupId" value="$displayGroup">
						<xf:if is="{$fieldsGrouped.{$displayGroupId}} is not empty">
							<tbody class="dataList-rowGroup">
								<xf:datarow rowtype="subsection" rowclass="dataList-row--noHover">
									<xf:cell colspan="2">{$displayGroup}</xf:cell>
								</xf:datarow>
								<xf:foreach loop="{$fieldsGrouped.{$displayGroupId}}" value="$field">
									<xf:datarow
										label="{$field.title|htmlspecialchars}"
										href="{{ link($prefix . '/edit', $field) }}"
										delete="{{ link($prefix . '/delete', $field) }}"
										hash="{$field.field_id}">
										<xf:hint>
											{$fieldTypes.{$field.field_type}.label}
										</xf:hint>
									</xf:datarow>
								</xf:foreach>
							</tbody>
						</xf:if>
					</xf:foreach>
				</xf:datalist>
			</div>
			<div class="block-footer">
				<span class="block-footer-counter">{{ display_totals($displayGroups) }}</span>
			</div>
		</div>
	</xf:form>
<xf:else />
	<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
</xf:if>]]></template>
  <template type="admin" title="bh_brand_add_edit" version_id="1010300" version_string="1.1.3 Alpha"><![CDATA[<xf:if is="$brand.isInsert()">
	<xf:title>{{ phrase('bh_add_brand') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('bh_edit_brand:') }} {$brand.brand_title}</xf:title>
</xf:if>

<xf:pageaction if="$brand.isUpdate()">
	<xf:button href="{{ link('bh_brand/delete', $brand) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:set var="$forumSelection">
	<xf:macro template="bh_edit_macros" name="select_forums"
			  arg-nodeIds="{$brand.node_ids}"
			  arg-nodeTree="{$nodeTree}" />
</xf:set>

<xf:form action="{{ link('bh_brand/save', $brand) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			
			<xf:textboxrow name="brand_title" value="{$brand.brand_title}" maxlength="{{ max_length($brand, 'brand_title') }}" required="true" autofocus="true"
				label="{{ phrase('bh_brand_title') }}" />
			
			<xf:editorrow name="description" value="{$brand.Description.description}" data-min-height="200"
				label="{{ phrase('bh_description') }}" />

			<xf:if is="$brand.Description">
				<xf:hiddenval name="descriptionId">{$brand.Description.desc_id}</xf:hiddenval>
			</xf:if>
			
			
			{$forumSelection|raw}
			
			<xf:textboxrow name="forums_link" value="{$brand.forums_link}" maxlength="{{ max_length($brand, 'forums_link') }}"
				label="{{ phrase('bh_brand_forums_link') }}" placeholder="Enter URL"/>
			
			<xf:textboxrow name="website_link" value="{$brand.website_link}" maxlength="{{ max_length($brand, 'website_link') }}" 
				label="{{ phrase('bh_brand_website_link') }}"  placeholder="Enter URL" />
			
			<xf:textboxrow name="for_sale_link" value="{$brand.for_sale_link}" maxlength="{{ max_length($brand, 'for_sale_link') }}" 
				label="{{ phrase('bh_brand_for_sale_link') }}"  placeholder="Enter URL" />
			
			<xf:textboxrow name="intro_link" value="{$brand.intro_link}" maxlength="{{ max_length($brand, 'intro_link') }}" 
				label="{{ phrase('bh_brand_intro_link') }}"  placeholder="Enter URL" />

		</div>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="bh_brands" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('bh_brands') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('bh_brand/add') }}" icon="add">{{ phrase('bh_add_brand') }}</xf:button>
</xf:pageaction>

<div class="block">
	<xf:if is="$brands is not empty">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter" arg-key="bh_brand"
					arg-ajax="{{ link('bh_brand', null) }}"
					arg-class="block-outer-opposite" />
		</div>
	</xf:if>
	
	<div class="block-container">
		<xf:if is="$brands is not empty">
			<xf:form action="{{ link('bh_brand/quick-delete') }}" ajax="true"

					data-xf-init="select-plus"
					data-sp-checkbox=".dataList-cell--toggle input:checkbox"
					data-sp-container=".dataList-row"
					data-sp-control=".dataList-cell a">
					
					
				<div class="block-body">

					<xf:datalist data-xf-init="responsive-data-list">
						<xf:datarow rowtype="header">
							<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
							<xf:cell>{{ phrase('bh_brand_title') }}</xf:cell>
							<xf:cell>{{ phrase('bh_discussions') }}</xf:cell>
							<xf:cell>{{ phrase('bh_views') }}</xf:cell>
							<xf:cell>{{ phrase('bh_ratings') }}</xf:cell>
							<xf:cell>{{ phrase('bh_rating_avg') }}</xf:cell>
							<xf:cell>{{ phrase('bh_reviews') }}</xf:cell>

							
							<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
							<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
						</xf:datarow>
						<xf:foreach loop="$brands" value="$brand">
							<xf:datarow>
								<xf:toggle name="brand_ids[]" value="{$brand.brand_id}" />
								<xf:cell>{$brand.brand_title}</xf:cell>
								<xf:cell>{$brand.discussion_count}</xf:cell>
								<xf:cell>{$brand.view_count}</xf:cell>
								<xf:cell>{$brand.rating_count}</xf:cell>
								<xf:cell>{$brand.rating_avg}</xf:cell>
								<xf:cell>{$brand.review_count}</xf:cell>

								<xf:action href="{{ link('bh_brand/edit', $brand) }}" >{{ phrase('edit') }}</xf:action>
								<xf:delete href="{{ link('bh_brand/delete', $brand) }}" />
							</xf:datarow>
						</xf:foreach>
					</xf:datalist>
				</div>
				<div class="block-footer block-footer--split">
					<span class="block-footer-counter">{{ display_totals($brands, $total) }}</span>
					<span class="block-footer-select"><xf:checkbox standalone="true"><xf:option check-all=".dataList" label="{{ phrase('select_all') }}" /></xf:checkbox></span>
					<span class="block-footer-controls"><xf:button type="submit" name="quickdelete" value="1" icon="delete" /></span>
				</div>
			</xf:form>
		<xf:else />
			<div class="block-body block-row">{{ phrase('no_results_found') }}</div>
		</xf:if>
	</div>

	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
		link="bh_brand" params="{$filters}"
		wrapperclass="js-filterHide block-outer block-outer--after" />
</div>]]></template>
  <template type="admin" title="bh_brands_quick_delete_editor" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link('bh_brand/quick-delete') }}" class="block" ajax="true">

	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
					{{ phrase('please_confirm_that_you_want_to_delete_x_brands', {'number': count($brands)}) }}
			</xf:inforow>
		</div>
		
			<xf:checkboxrow name="brand_ids" listclass="inputChoices--inline"
				label="{{ phrase('bh_delete_these_brands') }}"
				explain="{{ phrase('bh_quick_delete_explain') }}">

				<xf:foreach loop="$brands" key="$brandId" value="$brand">
					<xf:option value="{$brandId}" checked="checked">
						<xf:label><span class="">{$brand.brand_title}</span></xf:label>
					</xf:option>
				</xf:foreach>
			</xf:checkboxrow>


		<xf:submitrow rowtype="simple" icon="delete" />
	</div>

</xf:form>]]></template>
  <template type="admin" title="bh_categories" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('bh_brand_categories') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('bh_category/add') }}" icon="add">{{ phrase('bh_add_category') }}</xf:button>
</xf:pageaction>
	
	<div class="block-container">
		<xf:if is="$brandCategories is not empty">
			<div class="block-body">
				<xf:datalist data-xf-init="responsive-data-list">
					<xf:datarow rowtype="header">
						<xf:cell>{{ phrase('bh_category_title') }}</xf:cell>
					
						<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
						<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
					</xf:datarow>
					<xf:foreach loop="$brandCategories" value="$brandCategory">
						<xf:datarow>
							<xf:cell>{$brandCategory.category_title}</xf:cell>
							<xf:action href="{{ link('bh_category/edit', $brandCategory) }}" >{{ phrase('edit') }}</xf:action>
							<xf:delete href="{{ link('bh_category/delete', $brandCategory) }}" />
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
			</div>
			<div class="block-footer">
				<span class="block-footer-counter">{{ display_totals($brandCategories, $total) }}</span>
			</div>
		<xf:else />
			<div class="block-body block-row">{{ phrase('no_results_found') }}</div>
		</xf:if>
	</div>

	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
		link="bh_category" params="{$filters}"
		wrapperclass="block-outer block-outer--after" />]]></template>
  <template type="admin" title="bh_category_add_edit" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:if is="$brandCategory.isInsert()">
	<xf:title>{{ phrase('bh_add_category') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('bh_edit_category:') }} {$brandCategory.category_title}</xf:title>
</xf:if>

<xf:pageaction if="$brandCategory.isUpdate()">
	<xf:button href="{{ link('bh_category/delete', $brandCategory) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:form action="{{ link('bh_category/save', $brandCategory) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			
			<xf:textboxrow name="category_title" value="{$brandCategory.category_title}" maxlength="{{ max_length($brandCategory, 'category_title') }}" required="true" autofocus="true"
				label="{{ phrase('bh_category_title') }}" />

		</div>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="bh_edit_macros" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:macro name="select_forums"
	arg-nodeIds="!"
	arg-nodeTree="!"
	arg-withRow="1"
	arg-selectName="node_ids">

	<xf:set var="$inner">
		<ul class="inputList">
			<li><xf:select name="{$selectName}[]" value="{$nodeIds}" size="7" multiple="multiple" id="js-applicableForums">

				<xf:option value="" selected="!{$nodeIds}">{{ phrase('(none)') }}</xf:option>

				<xf:foreach loop="$nodeTree.getFlattened(0)" value="$treeEntry">
					<xf:option value="{$treeEntry.record.node_id}"
						disabled="{{ $treeEntry.record.node_type_id != 'Forum' }}"
						label="{{ repeat('&nbsp;&nbsp;', $treeEntry.depth)|raw }} {$treeEntry.record.title}" />
				</xf:foreach>

			</xf:select></li>

			<xf:checkbox>
				<xf:option label="{{ phrase('select_all') }}" id="js-selectAllForums" />
			</xf:checkbox>
		</ul>
	</xf:set>

	<xf:if is="$withRow">
		<xf:formrow rowtype="input" label="{{ phrase('applicable_forums') }}">
			{$inner|raw}
		</xf:formrow>
	<xf:else />
		{$inner|raw}
	</xf:if>

	<xf:js>
		$(function()
		{
			$('#js-selectAllForums').click(function(e)
			{
				$('#js-applicableForums').find('option:enabled:not([value=""])').prop('selected', this.checked);
			});
		});
	</xf:js>
</xf:macro>]]></template>
  <template type="admin" title="bh_item_add_edit" version_id="3040000" version_string="3.4.0 Alpha"><![CDATA[<xf:if is="$item.isInsert()">
	<xf:title>{{ phrase('bh_add_item') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('bh_edit_item:') }} {$item.item_title}</xf:title>
</xf:if>

<xf:pageaction if="$item.isUpdate()">
	<xf:button href="{{ link('bh_item/delete', $item) }}" icon="delete" overlay="true" />
</xf:pageaction>


<xf:js prod="xf/attachment_manager-compiled.js" dev="vendor/flow.js/flow-compiled.js, xf/attachment_manager.js" />

<xf:form action="{{ link('bh_item/save', $item) }}"  ajax="true" data-xf-init="attachment-manager" >

	<div class="block-container">
		<div class="block-body">
			<xf:hiddenval name="attachment_time">{$attachment_time}</xf:hiddenval>
		<xf:textboxrow name="item_title" value="{$item.item_title}" maxlength="{{ max_length($item, 'brand_title') }}" required="true" autofocus="true"
				label="{{ phrase('bh_item_title') }}" />	

			<xf:selectrow name="brand_id" value="{$item.brand_id},{$item.brand_title}" label="{{ phrase('bh_item_make') }}" required="true">
				<xf:option value="" selected="!{$nodeIds}">{{ phrase('(none)') }}</xf:option>

				<xf:foreach loop="$brands" value="$brand">
					<xf:option value="{$brand.brand_id},{$brand.brand_title}" label="{$brand.brand_title}" />
				</xf:foreach>
			</xf:selectrow>
			
			<xf:selectrow name="category_id" value="{$item.category_id}" label="{{ phrase('bh_category') }}" required="true">
				<xf:option value="" selected="!{$nodeIds}">{{ phrase('(none)') }}</xf:option>

				<xf:foreach loop="$brandCategories" value="$brandCategory">
					<xf:option value="{$brandCategory.category_id}" label="{$brandCategory.category_title}" />
				</xf:foreach>
			</xf:selectrow>
			
		<div class="js-inlineNewPostFields">
			
		<xf:editorrow name="description" value="{$item.Description.description}" 
				label="{{ phrase('bh_description') }}" />
		
			
			<xf:formrow>
				<xf:macro template="helper_attachment_item" name="upload_block"
						  arg-attachmentData="{$attachmentData}" />
			</xf:formrow>
			
			
			<hr class="formRowSep" />
			<xf:tokeninputrow name="tags" value="{{ $item.tags }}"
							  href="{{ link_type('public','misc/tag-auto-complete') }}"
							  min-length="{$xf.options.tagLength.min}"
							  max-length="{$xf.options.tagLength.max}"
							  max-tokens="{$xf.options.maxContentTags}"
							  label="{{ phrase('tags') }}">

				<xf:explain>
					{{ phrase('multiple_tags_may_be_separated_by_commas') }}
					<xf:if is="$forum.min_tags">
						{{ phrase('this_content_must_have_at_least_x_tags', {'min': $forum.min_tags}) }}
					</xf:if>
				</xf:explain>
			</xf:tokeninputrow>
			
		
			<xf:macro template="item_custom_fields_macros" name="custom_fields_edit"
			arg-type="bhItemfield"
			arg-set="{$item.custom_fields}"
			arg-namePrefix="item[custom_fields]"
			arg-rowType="noGutter"
			arg-rowClass="mediaItem-input"
			
			arg-onlyInclude="{$category.field_cache}" />
			
		
		</div>
	</div>
		<xf:submitrow sticky="true" icon="save" />
			
	</div>

</xf:form>]]></template>
  <template type="admin" title="bh_item_add_macros" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:macro name="add_item"  arg-attachmentData="!" arg-item="!">

	<xf:js prod="xf/attachment_manager-compiled.js" dev="vendor/flow.js/flow-compiled.js, xf/attachment_manager.js" />

<xf:pageaction if="{$item}">
	<xf:button href="{{ link('item-list/delete', $item) }}" icon="delete" overlay="true" />
</xf:pageaction>
	
<xf:if is="{{$item}}">
		<xf:title>{{$item.item_title}}</xf:title>
<xf:else />
  		<xf:title>{{phrase('bh_add_item')}}</xf:title>
</xf:if>
	
<xf:form action="{{ link('item-list/create', $item) }}"  ajax="true" data-xf-init="attachment-manager" >

	<div class="block-container">
		<div class="block-body">
			
		<xf:textboxrow name="item_title" value="{$item.item_title}" maxlength="{{ max_length($item, 'brand_title') }}" required="true" autofocus="true"
				label="{{ phrase('bh_item_title') }}" />
			
	  <xf:textboxrow name="make" value="{$item.make}" maxlength="{{ max_length($item, 'make') }}" required="true" autofocus="true"
				label="{{ phrase('bh_item_make') }}" />
			
	<xf:textboxrow name="model" value="{$item.model}" maxlength="{{ max_length($item, 'model') }}" required="true" autofocus="true"
				label="{{ phrase('bh_item_model') }}" />
			

	<xf:selectrow name="category_id" value="{$brand.category_id}" label="{{ phrase('bh_category') }}">
				<xf:option value="" selected="!{$nodeIds}">{{ phrase('(none)') }}</xf:option>

				<xf:foreach loop="$brandCategories" value="$brandCategory">
					<xf:option value="{$brandCategory.category_id}" label="{$brandCategory.category_title}" />
				</xf:foreach>
			</xf:selectrow>
			
		<div class="js-inlineNewPostFields">
			
		<xf:editorrow name="description" value="{$description}" 
				label="{{ phrase('bh_description') }}" />
		
			
	<xf:formrow>
		<xf:macro template="helper_attachment_item" name="upload_block"
	    arg-attachmentData="{$attachmentData}" />
			</xf:formrow>
			
		
			
			<xf:macro template="item_custom_fields_macros" name="custom_fields_edit"
			arg-type="bhItemfield"
			arg-set="{$item.custom_fields}"
			arg-namePrefix="item[custom_fields]"
			arg-rowType="noGutter"
			arg-rowClass="mediaItem-input"
			
			arg-onlyInclude="{$category.field_cache}" />
			
		
			</div>
				<xf:submitrow sticky="true" icon="save" />
			</div>
		</div>

</xf:form>
	</xf:macro>]]></template>
  <template type="admin" title="bh_item_quickset_editor" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('bh_quick_set_items') }}</xf:title>

<xf:form action="{{ link('bh_item/quick-set') }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:checkboxrow name="item_ids" listclass="inputChoices--inline"
				label="{{ phrase('bh_apply_to_these_items') }}">

				<xf:foreach loop="$items" key="$itemId" value="$items">
					<xf:option value="{$itemId}" checked="checked">
						<xf:label><span class="">{$items.item_title}</span></xf:label>
					</xf:option>
				</xf:foreach>
			</xf:checkboxrow>
			
			<hr class="formRowSep" />
			
			<xf:selectrow name="brand_id" value="{$item.brand_id},{$item.brand_title}" label="{{ phrase('bh_item_make') }}" required="true">
				<xf:option value="" selected="!{$nodeIds}">{{ phrase('(none)') }}</xf:option>

				<xf:foreach loop="$brands" value="$brand">
					<xf:option value="{$brand.brand_id},{$brand.brand_title}" label="{$brand.brand_title}" />
				</xf:foreach>
			</xf:selectrow>
			
			<xf:selectrow name="category_id" value="{$item.category_id}" label="{{ phrase('bh_category') }}" required="true">
				<xf:option value="" selected="!{$nodeIds}">{{ phrase('(none)') }}</xf:option>

				<xf:foreach loop="$brandCategories" value="$brandCategory">
					<xf:option value="{$brandCategory.category_id}" label="{$brandCategory.category_title}" />
				</xf:foreach>
			</xf:selectrow>

		</div>
		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="bh_items" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('bh_items') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('bh_item/add') }}" icon="add">{{ phrase('bh_add_items') }}</xf:button>
</xf:pageaction>

<div class="block">
	<xf:if is="$items is not empty">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter" arg-key="bh_item"
					arg-ajax="{{ link('bh_item', null) }}"
					arg-class="block-outer-opposite" />
		</div>
	</xf:if>


	<div class="block-container">
		<xf:if is="$items is not empty">
			<xf:form action="{{ link('bh_item/quick-set') }}" ajax="true"

					data-xf-init="select-plus"
					data-sp-checkbox=".dataList-cell--toggle input:checkbox"
					data-sp-container=".dataList-row"
					data-sp-control=".dataList-cell a">
			
				<div class="block-body">

					<xf:datalist data-xf-init="responsive-data-list">
						<xf:datarow rowtype="header">
							<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
							<xf:cell>{{ phrase('bh_item_title') }}</xf:cell>
							<xf:cell>{{ phrase('bh_brand') }}</xf:cell>
							<xf:cell>{{ phrase('bh_category') }}</xf:cell>
							<xf:cell>{{ phrase('bh_discussions') }}</xf:cell>
							<xf:cell>{{ phrase('bh_views') }}</xf:cell>
							<xf:cell>{{ phrase('bh_ratings') }}</xf:cell>
							<xf:cell>{{ phrase('bh_rating_avg') }}</xf:cell>
							<xf:cell>{{ phrase('bh_reviews') }}</xf:cell>

							
							<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
							<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
						</xf:datarow>
						<xf:foreach loop="$items" value="$item">
							<xf:datarow>
								<xf:toggle name="item_ids[]" value="{$item.item_id}" />
								<xf:cell>{$item.item_title}</xf:cell>
								<xf:cell>{$item.brand_title}</xf:cell>
								<xf:cell>{$item.Category.category_title}</xf:cell>
								<xf:cell>{$item.discussion_count}</xf:cell>
								<xf:cell>{$item.view_count}</xf:cell>
								<xf:cell>{$item.rating_count}</xf:cell>
								<xf:cell>{$item.rating_avg}</xf:cell>
								<xf:cell>{$item.review_count}</xf:cell>

								<xf:action href="{{ link('bh_item/edit', $item) }}" >{{ phrase('edit') }}</xf:action>
								<xf:delete href="{{ link('bh_item/delete', $item) }}" />
							</xf:datarow>
						</xf:foreach>
					</xf:datalist>
				</div>
				<div class="block-footer block-footer--split">
					<span class="block-footer-counter">{{ display_totals($items, $total) }}</span>
					<span class="block-footer-select"><xf:checkbox standalone="true"><xf:option check-all=".dataList" label="{{ phrase('select_all') }}" /></xf:checkbox></span>
					<span class="block-footer-controls"><xf:button type="submit" name="quickset" value="1">{{ phrase('quick_set') }}</xf:button></span>
					&nbsp;
					<span class="block-footer-controls"><xf:button type="submit" name="quickdelete" value="1" icon="delete" /></span>
				</div>
			</xf:form>
		<xf:else />
			<div class="block-body block-row">{{ phrase('no_results_found') }}</div>
		</xf:if>
	</div>

	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
		link="bh_item" params="{$filters}"
		wrapperclass="js-filterHide block-outer block-outer--after" />
	
</div>]]></template>
  <template type="admin" title="bh_items_quick_delete_editor" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link('bh_item/quick-delete') }}" class="block" ajax="true">

	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
					{{ phrase('please_confirm_that_you_want_to_delete_x_items', {'number': count($items)}) }}
			</xf:inforow>
		</div>
		
			<xf:checkboxrow name="item_ids" listclass="inputChoices--inline"
				label="{{ phrase('bh_delete_these_items') }}"
				explain="{{ phrase('bh_quick_delete_explain') }}">

				<xf:foreach loop="$items" key="$itemId" value="$item">
					<xf:option value="{$itemId}" checked="checked">
						<xf:label><span class="">{$item.item_title}</span></xf:label>
					</xf:option>
				</xf:foreach>
			</xf:checkboxrow>


		<xf:submitrow rowtype="simple" icon="delete" />
	</div>

</xf:form>]]></template>
  <template type="admin" title="bh_option_template_defaultSortOrder_of_taggedThreads" version_id="3040000" version_string="3.4.0 Alpha"><![CDATA[<xf:formrow rowtype="input"
			label="{$option.title}"
			hint="{$hintHtml}"
			explain="{$explainHtml}"
			html="{$listedHtml}">
	<div class="inputPair">
		<xf:select name="{$inputName}[order]" value="{$option.option_value.order}" class="input--inline">
			<xf:option value="view_count">{{ phrase('views') }}</xf:option>
			<xf:option value="reply_count">{{ phrase('replies') }}</xf:option>
			<xf:option value="post_date">{{ phrase('post_date') }}</xf:option>
		</xf:select>
		<xf:select name="{$inputName}[direction]" value="{$option.option_value.direction}"
				   class="input--inline">
			<xf:option value="asc" label="{{ phrase('ascending') }}" />
			<xf:option value="desc" label="{{ phrase('descending') }}" />
		</xf:select>
	</div>
</xf:formrow>]]></template>
  <template type="admin" title="bh_rebuild_reviews" version_id="3000400" version_string="3.0.4 Alpha"><![CDATA[<xf:title>{{ phrase('bh_rebuild_review_stats') }}</xf:title>

<xf:if is="!$success">
	<xf:pageaction>
		<xf:button href="{{ link('bh-rebuild-reviews/rebuild-stats') }}"><i class="fas fa-sync"></i> {{ phrase('bh_rebuild_stats') }}</xf:button>
	</xf:pageaction>
	
	<div class="blockMessage blockMessage--important blockMessage--iconic">
		{{ phrase('bh_rebuild_review_explain') }}
	</div>
<xf:else />
	<div class="blockMessage blockMessage--success blockMessage--iconic">
		<xf:inforow rowtype="confirm">{{ $message }}</xf:inforow>
	</div>
</xf:if>]]></template>
  <template type="admin" title="helper_attachment_item" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:macro name="upload_link" arg-attachmentData="!">

<xf:js prod="xf/attachment_manager-compiled.js" dev="vendor/flow.js/flow-compiled.js, xf/attachment_manager.js" />

<xf:button  href="{{ link('attachments/upload', null, {'type': 'bh_item', 'context': $attachmentData.context, 'hash': $attachmentData.hash}) }}"
	 class="button--link js-attachmentUpload" icon="attach"
	data-accept=".{$attachmentData.constraints.extensions|join(',.')}" />
						
	<xf:hiddenval name="attachment_hash">{$attachmentData.hash}</xf:hiddenval>
								<xf:hiddenval name="attachment_hash_combined">{{ {
									'type': 'bh_item',
									'context': $attachmentData.context,
									'hash': $attachmentData.hash
								}|json }}</xf:hiddenval>
</xf:macro>

<xf:macro name="upload_link_from_data" arg-attachmentData="!">
	<xf:macro name="upload_link"  arg-attachmentData="{$attachmentData}" />
</xf:macro>



<xf:macro name="uploaded_files_list" arg-attachments="{{ [] }}" arg-class="">
	<xf:css src="attachments.less" />
	<div class="attachmentUploads js-attachmentUploads {$class} {{ $attachments is not empty ? 'is-active' : '' }}">
		<div class="hScroller" data-xf-init="h-scroller">
			<div class="hScroller-scroll">
				<ul class="attachUploadList js-attachmentFiles">
				<xf:foreach loop="$attachments" value="$attachment">
					<xf:macro name="uploaded_file" arg-attachment="{$attachment}" />
				</xf:foreach>
				</ul>
			</div>
		</div>

		<div class="attachmentUploads-banner js-attachmentInsertMultiRow u-hidden">
			<xf:button class="button--link js-attachmentSelect" data-toggle="{{ phrase('button.cancel') }}">
				{{ phrase('insert_multiple...') }}
			</xf:button>
			<ul class="attachmentUploads-selectActions js-attachmentSelectActions">
				<li>
					<span class="button button--link selectAll">
						<span class="button-text">
							<xf:checkbox standalone="true">
								<xf:option check-all="< .attachmentUploads" label="{{ phrase('select_all') }}" />
							</xf:checkbox>
						</span>
					</span>
				</li>
				<li class="js-attachmentSelectInsertActions">
					<span class="insert-label">{{ phrase('insert:') }}</span>
					<span class="buttonGroup">
						<xf:button class="button--link js-attachmentSelectAction" data-action="thumbnail">
							{{ phrase('thumbnail') }}
						</xf:button>
						<xf:button class="button--link js-attachmentSelectAction" data-action="full">
							{{ phrase('full_image') }}
						</xf:button>
					</span>
				</li>
				<li>
					<xf:button class="button--link button--iconOnly js-attachmentSelectAction" fa="fa-trash-alt" data-action="delete">
						<span class="u-srOnly">{{ phrase('button.delete') }}</span>
					</xf:button>
				</li>
			</ul>
		</div>

	</div>
	<xf:macro name="uploaded_file_template" />
</xf:macro>



<xf:macro name="uploaded_file" arg-attachment="!" arg-noJsFallback="{{ false }}">
	<li class="js-attachmentFile file" data-attachment-id="{$attachment.attachment_id}">
		<xf:if is="$attachment.has_thumbnail">
			<a class="file-preview js-attachmentView" href="{$attachment.direct_url}" target="_blank">
				<img src="{{ base_url($attachment.thumbnail_url) }}" class="js-attachmentThumb" alt="{$attachment.filename}"
					width="{$attachment.thumbnail_width}" height="{$attachment.thumbnail_height}" loading="lazy" />
			</a>
		<xf:elseif is="$attachment.is_video" />
			<a class="file-preview js-attachmentView" href="{$attachment.direct_url}" target="_blank">
				<video data-xf-init="video-init">
					<source src="{$attachment.direct_url}" />
				</video>
			</a>
		<xf:else />
			<a class="file-preview js-attachmentView" href="{$attachment.direct_url}" target="_blank">
				<span class="file-typeIcon">
					<xf:fa icon="{$attachment.icon}" />
				</span>
			</a>
		</xf:if>

	
		<div class="file-content">

			<xf:if is="!$noJsFallback">
				<xf:if is="$attachment.has_thumbnail">
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink"
							data-xf-click="toggle"
							data-target="< .js-attachmentInsert"
							role="button"
							tabindex="0">
							{{ phrase('insert...') }}
						</a>
						<div class="file-menuOptions">
							<a class="js-attachmentAction" data-action="thumbnail" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('thumbnail') }}</a>
							<a class="js-attachmentAction" data-action="full" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('full_image') }}</a>
						</div>
					</div>
				<xf:elseif is="$attachment.is_video" />
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink js-attachmentAction" data-action="full" data-type="video" role="button" tabindex="0">
							{{ phrase('insert') }}
						</a>
					</div>
				<xf:elseif is="$attachment.is_audio" />
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink js-attachmentAction" data-action="full" data-type="audio" role="button" tabindex="0">
							{{ phrase('insert') }}
						</a>
					</div>
				</xf:if>

				<div class="file-checkbox">
					<xf:checkbox standalone="true">
						<xf:option value="" />
					</xf:checkbox>
				</div>
			</xf:if>

			<span class="file-delete">
				<xf:if is="$noJsFallback">
					<xf:button type="submit" class="button--small button--link" name="delete" value="{$attachment.attachment_id}">
						<xf:fa icon="fa-trash-alt" />
						<span class="u-srOnly">{{ phrase('button.delete') }}</span>
					</xf:button>
				<xf:else />
					<a class="file-deleteLink js-attachmentAction"
						data-action="delete"
						data-type="{$attachment.type_grouping}"
						role="button"
						tabindex="0">
						<xf:fa icon="fa-trash-alt" />
						<span class="u-srOnly">{{ phrase('button.delete') }}</span>
					</a>
				</xf:if>
			</span>

			<a class="file-info"
				href="{$attachment.direct_url}"
				target="_blank">

				<span class="file-name">{$attachment.filename}</span>

				<div class="file-meta">
					<xf:if is="$attachment.Data.width">{$attachment.Data.width} x {$attachment.Data.height} &middot; </xf:if>
					{$attachment.file_size|file_size}
				</div>
			</a>
		</div>
	</li>
</xf:macro>



<xf:macro name="uploaded_file_template">
	<script type="text/template" class="js-attachmentUploadTemplate">
		<li class="file js-attachmentFile" {{ mustache('#attachment_id', 'data-attachment-id="{{attachment_id}}"') }}>
			<xf:mustache name="#uploading">
				<div class="file-preview">
					<div class="file-progress js-attachmentProgress"></div>
					<span class="file-error js-attachmentError"></span>
				</div>
			</xf:mustache>
			<xf:mustache name="^uploading">
				<xf:mustache name="#thumbnail_url">
					<a class="file-preview js-attachmentView" href="{{ mustache('link') }}" target="_blank">
						<img src="{{ mustache('thumbnail_url') }}" class="js-attachmentThumb" alt="{{ mustache('filename') }}" />
					</a>
				</xf:mustache>
				<xf:mustache name="^thumbnail_url">
					<xf:mustache name="#is_video">
						<a class="file-preview js-attachmentView" href="{{ mustache('link') }}" target="_blank">
							<video data-xf-init="video-init">
								<source src="{{ mustache('link') }}" />
							</video>
						</a>
					</xf:mustache>
					<xf:mustache name="^is_video">
						<a class="file-preview js-attachmentView" href="{{ mustache('link') }}" target="_blank">
							<span class="file-typeIcon">
								<i class="fa--xf fa{{ fa_weight() }} {{ mustache('icon') }}" aria-hidden="true"></i>
							</span>
						</a>
					</xf:mustache>
				</xf:mustache>
			</xf:mustache>

			<div class="file-content">

				<xf:mustache name="#thumbnail_url">
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink"
							data-xf-click="toggle"
							data-target="< .js-attachmentInsert"
							role="button"
							tabindex="0">
							{{ phrase('insert...') }}
						</a>
						<div class="file-menuOptions">
							<a class="js-attachmentAction" data-action="thumbnail" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('thumbnail') }}</a>
							<a class="js-attachmentAction" data-action="full" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('full_image') }}</a>
						</div>
					</div>
				</xf:mustache>
				<xf:mustache name="^thumbnail_url">
					<xf:mustache name="#is_video">
						<div class="file-insert js-attachmentInsert">
							<a class="file-insertLink js-attachmentAction" data-action="full" data-type="video" role="button" tabindex="0">
								{{ phrase('insert') }}
							</a>
						</div>
					</xf:mustache>
					<xf:mustache name="#is_audio">
						<div class="file-insert js-attachmentInsert">
							<a class="file-insertLink js-attachmentAction" data-action="full" data-type="audio" role="button" tabindex="0">
								{{ phrase('insert') }}
							</a>
						</div>
					</xf:mustache>
				</xf:mustache>

				<div class="file-checkbox">
					<xf:checkbox standalone="true">
						<xf:option value="" />
					</xf:checkbox>
				</div>

				<span class="file-delete">
					<xf:mustache name="#uploading">
						<a class="file-deleteLink js-attachmentAction"
							data-action="cancel"
							role="button"
							tabindex="0">
							<xf:fa icon="fa-trash-alt" />
							<span class="u-srOnly">{{ phrase('button.cancel') }}</span>
						</a>
					</xf:mustache>
					<xf:mustache name="^uploading">
						<a class="file-deleteLink js-attachmentAction"
							data-action="delete"
							data-type="{{ mustache('type_grouping') }}"
							role="button"
							tabindex="0">
							<xf:fa icon="fa-trash-alt" />
							<span class="u-srOnly">{{ phrase('button.delete') }}</span>
						</a>
					</xf:mustache>
				</span>

				<a class="file-info" href="{{ mustache('link') }}" target="_blank">
					<span class="file-name">{{ mustache('filename') }}</span>

					<div class="file-meta">
						<xf:mustache name="#thumbnail_url">{{ mustache('width') }} x {{ mustache('height') }} &middot; </xf:mustache>
						{{ mustache('file_size_printable') }}
					</div>
				</a>

			</div>
		</li>
	</script>
</xf:macro>




<xf:macro name="upload_block" arg-attachmentData="!">

	<xf:macro name="uploaded_files_list" arg-attachments="{$attachmentData.attachments}" />

	<xf:macro name="upload_link_from_data" arg-attachmentData="{$attachmentData}" />
</xf:macro>]]></template>
  <template type="admin" title="item_custom_fields_macros" version_id="1000200" version_string="1.0.2 Alpha"><![CDATA[<xf:macro name="custom_fields_view"
	arg-type="!"
	arg-group="!"
	arg-set="!"
	arg-onlyInclude="{{ null }}"
	arg-additionalFilters="{{ [] }}"
	arg-wrapperClass=""
	arg-valueClass="pairs pairs--columns pairs--fixedSmall pairs--customField">

	<xf:if contentcheck="true">
		<div class="{$wrapperClass}">
		<xf:contentcheck>
			<xf:macro name="custom_fields_values"
				arg-type="{$type}"
				arg-group="{$group}"
				arg-set="{$set}"
				arg-onlyInclude="{$onlyInclude}"
				arg-additionalFilters="{$additionalFilters}"
				arg-valueClass="{$valueClass}" />
		</xf:contentcheck>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="custom_fields_values"
	arg-type="!"
	arg-group="!"
	arg-set="!"
	arg-onlyInclude="{{ null }}"
	arg-additionalFilters="{{ [] }}"
	arg-valueClass="pairs pairs--columns pairs--fixedSmall pairs--customField">

	<xf:foreach loop="$xf.app.getCustomFields({$type}, {$group}, {$onlyInclude}, {$additionalFilters})" key="$fieldId" value="$fieldDefinition">
		<xf:if is="$fieldDefinition.hasValue({$set.{$fieldDefinition.field_id}})">
			
			<xf:set var="$fieldValue"><xf:macro name="custom_field_value"
				arg-definition="{$fieldDefinition}"
				arg-value="{$set.{$fieldDefinition.field_id}}" /></xf:set>

			<xf:if is="$fieldDefinition.wrapper_template">
				{$fieldDefinition.getFormattedOutput($fieldValue)|raw}
			<xf:else />
				<dl class="{$valueClass}" data-field="{$fieldId}">
					<dt>{$fieldDefinition.title}</dt>
					<dd>{$fieldValue}</dd>
				</dl>
			</xf:if>
		</xf:if>
	</xf:foreach>
</xf:macro>

<xf:macro name="custom_field_value" arg-definition="!" arg-value="!">

	<xf:if is="$definition.field_type == 'stars'">
		<xf:macro template="rating_macros" name="stars" arg-rating="{$value}" />
	<xf:else />
		<xf:if is="$definition.match_type == 'date'">
			<xf:macro name="custom_field_value_date" arg-date="{$value}" />
		<xf:elseif is="$definition.match_type == 'color'" />
			<xf:macro name="custom_field_value_color" arg-color="{$value}" />
		<xf:else />
			{$definition.getFormattedValue($value)|raw}
		</xf:if>
	</xf:if>
</xf:macro>

<xf:macro name="custom_field_value_date"
	arg-date="!">

	{{ date(date_from_format('Y-m-d', $date)) }}
</xf:macro>

<xf:macro name="custom_field_value_color"
	arg-color="!">

	<span class="colorChip" data-xf-init="tooltip" title="{$color}">
		<span class="colorChip-inner" style="background-color: {$color}">
			<span class="colorChip-value">{$color}</span>
		</span>
	</span>
</xf:macro>

<xf:macro name="custom_fields_edit"
	arg-type="!"
	arg-group="{{ null }}"
	arg-set="!"
	arg-editMode="user"
	arg-onlyInclude="{{ null }}"
	arg-additionalFilters="{{ [] }}"
	arg-rowType=""
	arg-rowClass=""
	arg-namePrefix="custom_fields"
	arg-requiredOnly="{{ false }}">
<xf:set var="$checkLabel" value="1"/>

	<xf:foreach loop="$xf.app.getCustomFieldsForEdit({$type}, {$set}, {$editMode}, {$group}, {$onlyInclude}, {$additionalFilters})" key="$fieldId" value="$fieldDefinition">
		<xf:if is="!$requiredOnly OR ($requiredOnly AND $fieldDefinition.required)">
			<xf:set var="$controlId" value="{{
				in_array($fieldDefinition.field_type, ['textbox', 'textarea', 'select', 'multiselect', 'date', 'stars', 'color'])
				? unique_id()
				: '' }}" />
			<xf:set var="$labelId" value="{{
				in_array($fieldDefinition.field_type, ['radio', 'checkbox'])
				? unique_id()
				: '' }}" />

		
		
			<xf:if is ="$checkLabel=='1'">
			<xf:set var="$label" value="{{phrase('custom_fields') }}"/>
				<xf:else />
				<xf:set var="$label" value=" "/>
			</xf:if>
			
			
			
			<xf:checkboxrow hideempty="true" rowtype="{$rowType}" label="{{$label}}">
		
					<xf:option  data-hide="true"
					 label="{$fieldDefinition.title}" checked="{{$set.{{$fieldDefinition.field_id}} ? true : false }}" >
					
		<xf:dependent>
	
			<xf:set var="$checkLabel" value="2"/>
	
			<xf:formrow
				explain="{$fieldDefinition.description}"
				hint="{{ $fieldDefinition.isRequired($editMode) ? phrase('required') : '' }}"
				rowtype="{$rowType} customField {{ in_array($fieldDefinition.field_type, ['textbox', 'textarea', 'bbcode', 'select']) ? 'input' : '' }}"
				rowclass="{}"
				labelid="{$labelId}"
				controlid="{$controlId}"
				data-field="{$fieldDefinition.field_id}"label="{$fieldDefinition.title}">

				<xf:macro name="custom_fields_edit_{$fieldDefinition.field_type}"
					arg-set="{$set}"
					arg-definition="{$fieldDefinition}"
					arg-editMode="{$editMode}"
					arg-refId="{{ $controlId ?: $labelId }}"
					arg-namePrefix="{$namePrefix}" />
			        
			</xf:formrow>
				</xf:dependent>
				</xf:option>
		</xf:checkboxrow>
		</xf:if>
	</xf:foreach>
</xf:macro>

<xf:macro name="custom_fields_edit_groups"
	arg-type="!"
	arg-groups="!"
	arg-set="!"
	arg-editMode="user"
	arg-onlyInclude="{{ null }}"
	arg-additionalFilters="{{ [] }}"
	arg-rowType=""
	arg-namePrefix="custom_fields"
	arg-requiredOnly="">

	<xf:foreach loop="$groups" value="$group">
		<xf:macro name="custom_fields_edit"
			arg-type="{$type}"
			arg-group="{$group}"
			arg-set="{$set}"
			arg-editMode="{$editMode}"
			arg-onlyInclude="{$onlyInclude}"
			arg-additionalFilters="{$additionalFilters}"
			arg-rowType="{$rowType}"
			arg-namePrefix="{$namePrefix}"
			arg-requiredOnly="{$requiredOnly}" />
	</xf:foreach>
</xf:macro>

<xf:macro name="custom_fields_edit_textbox" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:if is="$definition.match_type == 'date'">

		<xf:dateinput name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
			data-field="{$definition.field_id}"
			maxlength="{{ $definition.max_length ? $definition.max_length : '' }}"
			required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
			id="{$refId}"
			class="field_{$definition.field_id}" />

	<xf:elseif is="$definition.match_type == 'color'" />

		<xf:macro template="color_picker_macros" name="color_picker"
			arg-name="{$namePrefix}[{$definition.field_id}]"
			arg-value="{$set.{$definition.field_id}}"
			arg-mapName=""
			arg-row="{{ false }}"
			arg-controlId="{$refId}"
			arg-required="{$definition.isRequired($editMode)}" />

	<xf:elseif is="$definition.match_type == 'number'" />

		<xf:set var="$step" value="1" />

		<xf:if is="$definition.match_params.number_integer">
			<xf:if is="$definition.match_params.number_min >= 0">
				<xf:set var="$pattern" value="\d*" />
			</xf:if>
		<xf:else />
			<xf:set var="$step" value="any" />
		</xf:if>
		<xf:if is="$definition.match_params.number_min !== ''">
			<xf:set var="$min" value="{$definition.match_params.number_min}" />
		</xf:if>
		<xf:if is="$definition.match_params.number_max !== ''">
			<xf:set var="$max" value="{$definition.match_params.number_max}" />
		</xf:if>

		<xf:numberbox name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
			maxlength="{{ $definition.max_length ? $definition.max_length : '' }}"
			pattern="{$pattern}"
			default=""
			min="{$min}"
			max="{$max}"
			step="{$step}"
			required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
			id="{$refId}"
			class="field_{$definition.field_id}" />

	<xf:else />

		<xf:if is="in_array($definition.match_type, ['regex', 'alphanumeric'])">

			<xf:set var="$type" value="text" />
			<xf:set var="$pattern" value="{{ $definition.match_type == 'regex' ? $definition.match_params.regex : '\w+' }}" />
			<xf:set var="$title">{{ phrase('please_enter_value_that_matches_required_format') }}</xf:set>

		<xf:elseif is="in_array($definition.match_type, ['date', 'email', 'url', 'color'])" />

			<xf:set var="$type" value="{$definition.match_type}" />

		<xf:else />

			<xf:set var="$type" value="text" />

		</xf:if>

		<xf:textbox name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
			type="{$type}"
			maxlength="{{ $definition.max_length ? $definition.max_length : '' }}"
			pattern="{$pattern}"
			title="{$title}"
			min="{$min}"
			max="{$max}"
			step="{$step}"
			required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
			id="{$refId}"
			class="field_{$definition.field_id}" />
	</xf:if>
</xf:macro>

<xf:macro name="custom_fields_edit_textarea" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:textarea name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
		maxlength="{{ $definition.max_length ? $definition.max_length : '' }}"
		autosize="true"
		required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
		id="{$refId}"
		class="field_{$definition.field_id}" />
</xf:macro>

<xf:macro name="custom_fields_edit_bbcode" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:editor name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
		previewable="0"
		data-min-height="80"
		data-attachment-target="false"
		class="field_{$definition.field_id}" />
</xf:macro>

<xf:macro name="custom_fields_edit_select" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-multi="" arg-namePrefix="custom_fields">

	<xf:select name="{$namePrefix}[{$definition.field_id}]"
		value="{{ $set.{$definition.field_id} === null ? '' : {$set.{$definition.field_id}} }}"
		multiple="{$multi}"
		id="{$refId}"
		class="field_{$definition.field_id}">
			<xf:option value="" />
			<xf:options source="$definition.field_choices" />
	</xf:select>
</xf:macro>

<xf:macro name="custom_fields_edit_radio" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:radio name="{$namePrefix}[{$definition.field_id}]"
		value="{{ $set.{$definition.field_id} === null ? '' : {$set.{$definition.field_id}} }}"
		class="field_{$definition.field_id}"
		role="radiogroup" aria-labelledby="{$refId}"
		listclass="listColumns">
			<xf:if is="!$definition.isRequired($editMode)">
				<xf:option value="">{{ phrase('no_selection') }}</xf:option>
			</xf:if>
			<xf:foreach loop="$definition.field_choices" key="$value" value="$label">
				<xf:option value="{$value}" required="{{ $definition.isRequired($editMode) ? 'required' : '' }}">{$label}</xf:option>
			</xf:foreach>
	</xf:radio>
</xf:macro>

<xf:macro name="custom_fields_edit_checkbox" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:checkbox name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
		required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
		role="group" aria-labelledby="{$refId}"
		listclass="field_{$definition.field_id} listColumns">
			<xf:options source="$definition.field_choices" />
	</xf:checkbox>
</xf:macro>

<xf:macro name="custom_fields_edit_multiselect" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:macro name="custom_fields_edit_select"
		arg-set="{$set}"
		arg-definition="{$definition}"
		arg-editMode="{$editMode}"
		arg-refId="{$refId}"
		arg-multi="1"
		arg-namePrefix="{$namePrefix}" />
</xf:macro>

<xf:macro name="custom_fields_edit_stars" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">
	<xf:macro template="rating_macros" name="rating"
		arg-name="{$namePrefix}[{$definition.field_id}]"
		arg-controlId="{$refId}"
		arg-currentRating="{$set.{$definition.field_id}}"
		arg-deselectable="{{ $definition.isRequired($editMode) ? 'false' : 'true' }}"
		arg-row="{{ false }}" />
</xf:macro>]]></template>
  <template type="admin" title="rating_macros" version_id="1000200" version_string="1.0.2 Alpha"><![CDATA[<xf:macro name="stars" arg-rating="!" arg-class="">
	<xf:css src="rating_stars.less" />

	<span class="ratingStars {$class}" title="{{ phrase('x_stars', {'rating': $rating|number(2)})|for_attr }}">
		<span class="ratingStars-star{{ $rating >= 1 ? ' ratingStars-star--full' : '' }}{{ ($rating >= 0.5 AND $rating < 1) ? ' ratingStars-star--half' : '' }}"></span>
		<span class="ratingStars-star{{ $rating >= 2 ? ' ratingStars-star--full' : '' }}{{ ($rating >= 1.5 AND $rating < 2) ? ' ratingStars-star--half' : '' }}"></span>
		<span class="ratingStars-star{{ $rating >= 3 ? ' ratingStars-star--full' : '' }}{{ ($rating >= 2.5 AND $rating < 3) ? ' ratingStars-star--half' : '' }}"></span>
		<span class="ratingStars-star{{ $rating >= 4 ? ' ratingStars-star--full' : '' }}{{ ($rating >= 3.5 AND $rating < 4) ? ' ratingStars-star--half' : '' }}"></span>
		<span class="ratingStars-star{{ $rating >= 5 ? ' ratingStars-star--full' : '' }}{{ ($rating >= 4.5 AND $rating < 5) ? ' ratingStars-star--half' : '' }}"></span>
		<span class="u-srOnly">{{ phrase('x_stars', {'rating': $rating|number(2)}) }}</span>
	</span>
</xf:macro>

<xf:macro name="stars_text" arg-rating="!" arg-count="{{ null }}" arg-text="{{ null }}" arg-rowClass="" arg-starsClass="">
	<span class="ratingStarsRow {$rowClass}">
		<xf:macro template="rating_macros" name="stars"
			arg-rating="{$rating}"
			arg-class="{$starsClass}" />
		<span class="ratingStarsRow-text">
			<xf:if is="$text is not empty">{$text}<xf:else />{{ phrase('x_ratings', {'count': $count|number}) }}</xf:if>
		</span>
	</span>
</xf:macro>

<xf:macro name="setup">
	<xf:css src="rating_stars.less" />
	<xf:js prod="xf/rating-compiled.js" dev="vendor/barrating/jquery.barrating.js, xf/rating.js" />
</xf:macro>

<xf:macro name="rating"
	arg-row="{{ true }}"
	arg-rowType="{$rowType}"
	arg-rowLabel="{{ phrase('rating') }}"
	arg-rowHint=""
	arg-rowExplain=""
	arg-name="rating"
	arg-currentRating="0"
	arg-ratingHref=""
	arg-controlId=""
	arg-readOnly="false"
	arg-deselectable="false"
	arg-showSelected="true"
	arg-range="{{ {
		1: phrase('terrible'),
		2: phrase('poor'),
		3: phrase('average'),
		4: phrase('good'),
		5: phrase('excellent')
	} }}">

	<xf:macro name="setup" />

	<xf:if is="$row AND !$controlId">
		<xf:set var="$controlId" value="{{ unique_id() }}" />
	</xf:if>

	<xf:set var="$inner">
		<xf:select name="{$name}"
			class="br-select"
			id="{$controlId}"
			data-xf-init="rating"
			data-initial-rating="{$currentRating}"
			data-rating-href="{$ratingHref}"
			data-readonly="{$readOnly}"
			data-deselectable="{$deselectable}"
			data-show-selected="{$showSelected}">

			<xf:if is="$deselectable">
				<xf:option value="" />
			</xf:if>
			<xf:foreach loop="$range" key="$value" value="$label">
				<xf:option value="{$value}">{$label}</xf:option>
			</xf:foreach>
		</xf:select>
	</xf:set>

	<xf:if is="$row">
		<xf:formrow class="u-jsOnly" rowtype="{$rowType}"
			label="{$rowLabel}"
			controlid="{$controlId}"
			hint="{$rowHint|raw}"
			explain="{$rowExplain|raw}">

			{$inner|raw}
		</xf:formrow>
	<xf:else />
		{$inner|raw}
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="alert_bh_item_display" version_id="1000700" version_string="1.0.7 Alpha"><![CDATA[{{ phrase('data_are_added_to', {
    'title': $alert.extra_data.title,
    'link': $alert.extra_data.link,
     'detail': $alert.extra_data.detail
  }) }}]]></template>
  <template type="public" title="alert_bh_item_reaction" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[{{ phrase('bh_react_to_the_item', {
	'name': username_link($user, false, {'defaultname': $alert.username}),
	'reaction': alert_reaction($extra.reaction_id)|preescaped,
	'posterParams': 'href="' . link('bh-item', $content) . '" class="fauxBlockLink-blockLink"',
	'title': prefix('thread', $content.item_title).$content.item_title
}) }}]]></template>
  <template type="public" title="alert_bh_ownerPage_post_comment_mention" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[{{ phrase('x_mentioned_you_comment_on_ys_owner_page', {
	'name': username_link($user, false, {'defaultname': $alert.username}),
	'post_attributes': 'href="' . link('owner-page-posts/comments', $content) . '" class="fauxBlockLink-blockLink"',
	'ownerPage': $content.OwnerPagePost.OwnerPage.title
}) }}]]></template>
  <template type="public" title="alert_bh_ownerPage_post_comment_other_commenter" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:if is="$content.OwnerPagePost.OwnerPage.user_id == $content.OwnerPagePost.user_id">
	{{ phrase('x_also_commented_on_ys_owner_page_update', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'poster_params': 'href="' . link('owner-page-posts/comments', $content) . '" class="fauxBlockLink-blockLink"',
		'poster': $content.OwnerPagePost.username,
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	}) }}
<xf:else />
	{{ phrase('x_also_commented_on_ys_owner_page_post', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'poster_params': 'href="' . link('owner-page-posts/comments', $content) . '" class="fauxBlockLink-blockLink"',
		'poster': $content.OwnerPagePost.username,
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	}) }}
</xf:if>]]></template>
  <template type="public" title="alert_bh_ownerPage_post_comment_reaction" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:if is="$xf.visitor.user_id == $content.OwnerPagePost.user_id">
	{{ phrase('x_reacted_to_your_comment_on_your_owner_page_post', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'post_attributes': 'href="' . link('owner-page-posts/comments', $content) . '" class="fauxBlockLink-blockLink"',
		'reaction': alert_reaction($extra.reaction_id)|preescaped
	}) }}
<xf:else />
	{{ phrase('x_reacted_to_your_comment_on_ys_owner_page_post', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'post_attributes': 'href="' . link('owner-page-posts/comments', $content) . '" class="fauxBlockLink-blockLink"',
		'reaction': alert_reaction($extra.reaction_id)|preescaped,
		'poster': $content.OwnerPagePost.username,
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	}) }}
</xf:if>]]></template>
  <template type="public" title="alert_bh_ownerPage_post_comment_your_owner_page" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:if is="$xf.visitor.user_id == $content.OwnerPagePost.user_id">
	{{ phrase('x_commented_on_your_owner_page_update', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'status_attributes': 'href="' . link('owner-page-posts/comments', $content) . '" class="fauxBlockLink-blockLink"'
	}) }}
<xf:else />
	{{ phrase('x_commented_on_ys_post_on_your_owner_page', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'post_attributes': 'href="' . link('owner-page-posts/comments', $content) . '" class="fauxBlockLink-blockLink"',
		'poster': $content.OwnerPagePost.username,
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	}) }}
</xf:if>]]></template>
  <template type="public" title="alert_bh_ownerPage_post_comment_your_post" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[{{ phrase('x_commented_on_your_post_on_ys_owner_page', {
	'name': username_link($user, false, {'defaultname': $alert.username}),
	'post_params': 'href="' . link('owner-page-posts/comments', $content) . '" class="fauxBlockLink-blockLink"',
	'ownerPage': $content.OwnerPagePost.OwnerPage.title
}) }}]]></template>
  <template type="public" title="alert_bh_ownerPage_post_insert" version_id="3010000" version_string="3.1.0 Alpha"><![CDATA[{{ phrase('alert_owner_page_post_insert', {
		'username': username_link($user, false, {'defaultname': $alert.username}),
		'profilePageLinkAttributes': 'href="' . link('owner-page-posts', $content) . '" class="fauxBlockLink-blockLink"',
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	})
}}]]></template>
  <template type="public" title="alert_bh_ownerPage_post_mention" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[{{ phrase('x_mentioned_you_message_on_ys_owner_page', {
	'name': username_link($user, false, {'defaultname': $alert.username}),
	'post_attributes': 'href="' . link('owner-page-posts', $content) . '" class="fauxBlockLink-blockLink"',
	'ownerPage': $content.OwnerPage.title
}) }}]]></template>
  <template type="public" title="alert_bh_ownerPage_post_reaction" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:if is="$xf.visitor.user_id == $content.OwnerPage.user_id">
	{{ phrase('x_reacted_to_your_owner_page_update', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'reaction': alert_reaction($extra.reaction_id)|preescaped,
		'status_attributes': 'href="' . link('owner-page-posts', $content) . '" class="fauxBlockLink-blockLink"',
		'ownerPage': $content.OwnerPage.title
	}) }}
<xf:else />
	{{ phrase('x_reacted_to_your_post_on_ys_owner_page', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'post_attributes': 'href="' . link('owner-page-posts', $content) . '" class="fauxBlockLink-blockLink"',
		'reaction': alert_reaction($extra.reaction_id)|preescaped,
		'ownerPage': $content.OwnerPage.title
	}) }}
</xf:if>]]></template>
  <template type="public" title="alert_bh_ownerpage_display" version_id="1000700" version_string="1.0.7 Alpha"><![CDATA[{{ phrase('data_are_added_to_page', {
    'title': $alert.extra_data.title,
    'link': $alert.extra_data.link,
     'detail': $alert.extra_data.detail
  }) }}]]></template>
  <template type="public" title="alert_bh_ownerpage_reaction" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[{{ phrase('bh_react_to_the_page', {
	'name': username_link($user, false, {'defaultname': $alert.username}),
	'reaction': alert_reaction($extra.reaction_id)|preescaped,
	'posterParams': 'href="' . link('owners', $content) . '" class="fauxBlockLink-blockLink"',
	'title': prefix('thread', $content.item_title).$content.Item.item_title
}) }}]]></template>
  <template type="public" title="approval_item_bh_ownerPage_post" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:macro template="approval_queue_macros" name="item_message_type"
	arg-content="{$content}"
	arg-user="{$content.User}"
	arg-messageHtml="{{ bb_code($content.message, 'bh_ownerPage_post', $content) }}"
	arg-typePhraseHtml="{{ phrase('bh_ownerPage_post') }}"
	arg-spamDetails="{$spamDetails}"
	arg-unapprovedItem="{$unapprovedItem}"
	arg-handler="{$handler}"
	arg-headerPhraseHtml="{{ phrase('posted_on_owner_page_x', {
		'ownerPagePostLink': link('owner-page-posts', $content),
		'ownerPage': $content.OwnerPage.title
	}) }}"/>]]></template>
  <template type="public" title="approval_item_bh_ownerPage_post_comment" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:macro template="approval_queue_macros" name="item_message_type"
	arg-content="{$content}"
	arg-contentDate="{$content.comment_date}"
	arg-user="{$content.User}"
	arg-messageHtml="{{ bb_code($content.message, 'bh_ownerPage_post_comment', $content) }}"
	arg-typePhraseHtml="{{ phrase('bh_ownerPage_post_comment') }}"
	arg-spamDetails="{$spamDetails}"
	arg-unapprovedItem="{$unapprovedItem}"
	arg-handler="{$handler}"
	arg-headerPhraseHtml="{{ phrase('posted_on_owner_page_post_by_x', {
		'commentLink': link('owner-page-posts/comments', $content),
		'user': $content.OwnerPagePost.username})
	}}"/>]]></template>
  <template type="public" title="bh_ad_brandList_sidebar" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[eteryetye]]></template>
  <template type="public" title="bh_ad_itemList_sidebar" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[[ad placeholder]]]></template>
  <template type="public" title="bh_ad_itemView_sidebar" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[[ad placeholder] Item View sideBar]]></template>
  <template type="public" title="bh_ad_macros" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:macro name="sideBar_brand" >
	<xf:sidebar key="infoSidebar">
		<div class="block">
			<div class="block-container">
				<div class="sideBar_ad">
					<xf:include template="bh_ad_brandList_sidebar" />
				</div>
			</div>
		</div>
	</xf:sidebar>
</xf:macro>

<xf:macro name="sideBar_itemlist" >
	<xf:sidebar key="infoSidebar">
		<div class="block">
			<div class="block-container">
				<div class="sideBar_ad">
					<xf:include template="bh_ad_itemList_sidebar" />
				</div>
			</div>
		</div>
	</xf:sidebar>
</xf:macro>


<xf:macro name="sideBar_itemdetail" >
	<xf:sidebar key="infoSidebar">
		<div class="block">
			<div class="block-container">
				<div class="sideBar_ad">
					<xf:include template="bh_ad_itemView_sidebar" />
				</div>
			</div>
		</div>
	</xf:sidebar>
</xf:macro>

<xf:macro name="sideBar_pageside" >
	<xf:sidebar key="infoSidebar">
		<div class="block">
			<div class="block-container">
				<div class="sideBar_ad">
					<xf:include template="bh_ad_ownerPage_sidebar" />
				</div>
			</div>
		</div>
	</xf:sidebar>
</xf:macro>

<xf:macro name="center_itemdetail1" >
	<div class="block">
		<div class="block-container">
			<div class="center_ad">
				<xf:include template="bh_ad_userReviw_above" />
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="center_itemdetail2" >
	<div class="block">
		<div class="block-container">
			<div class="center_ad">
				<xf:include template="bh_ad_userReviw_below" />
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="bh_ad_ownerPage_sidebar" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[[ad placeholder]]]></template>
  <template type="public" title="bh_ad_userReviw_above" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[[ad placeholder] dfsdf]]></template>
  <template type="public" title="bh_ad_userReviw_below" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[[ad placeholder]]]></template>
  <template type="public" title="bh_assign_Item_to_thread" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:comment>
	<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
	<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</xf:comment>

<xf:css src="select2.less" />
<xf:css src="bh_select2.less" />
<xf:js prod="xf/token_input-compiled.js" dev="vendor/select2/select2.full.js, xf/token_input.js" />

<xf:if is="$xf.visitor.hasPermission('bh_brand_hub', 'bh_can_assignThreadsToHub')">
		<xf:selectrow name="item_id" 
					   value="{$thread.item_id}" 
					   data-xf-init="token-input-select"
					   label="{{ phrase('bh_item') }}"
					   explain="{{ phrase('bh_assign_item_desc') }}">
			
			<xf:option value="0" selected="!{$thread.item_id}">{{ phrase('(none)') }}</xf:option>
			
			<xf:foreach loop="$items" value="$item">
				<xf:option value="{$item.item_id}" label="{$item.item_title}" />
			</xf:foreach>
		</xf:selectrow>
</xf:if>

<xf:js>
	jQuery.extend(XF.phrases, {
			s2_no_results: "{{ phrase('s2_no_results')|escape('js') }}"
		});	
</xf:js>]]></template>
  <template type="public" title="bh_attachment_delete" version_id="3000400" version_string="3.0.4 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link('bh-recent-photos/delete', null, $linkFilters) }}" class="block" ajax="true">

	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				<xf:if is="$attachment">
					{{ phrase('please_confirm_that_you_want_to_delete_following:') }}
					<strong><a href="{{ link('bh-recent-photos/view', $attachment) }}">{$attachment.filename}</a></strong>
				<xf:else />
					{{ phrase('please_confirm_that_you_want_to_delete_x_attachments', {'number': count($attachmentIds)}) }}
				</xf:if>
			</xf:inforow>
		</div>

		<xf:submitrow rowtype="simple" icon="delete" />
	</div>

	<xf:foreach loop="$attachmentIds" value="$attachmentId">
		<xf:hiddenval name="attachment_ids[]">{$attachmentId}</xf:hiddenval>
	</xf:foreach>

</xf:form>]]></template>
  <template type="public" title="bh_attachment_list" version_id="3000400" version_string="3.0.4 Alpha"><![CDATA[<xf:title>{{ phrase('bh_recent_photos') }}</xf:title>

<xf:css>
	.attachment-tooltip-image
	{
		display: block;
	}
</xf:css>

<xf:form action="{{ link('bh-recent-photos') }}" class="block" ajax="true"

	data-xf-init="select-plus"
	data-sp-checkbox="input[name='attachment_ids[]']"
	data-sp-container=".dataList-row">

	<div class="block-outer">
		<div class="filterBlock">
			<ul class="listInline">
				<li>
					<xf:textbox name="username" value="{$linkFilters.username}" ac="single"
						class="input filterBlock-input"
						placeholder="{{ phrase('user_name') }}" />
				</li>
				<li style="display: inline-block; vertical-align: bottom">
					<!-- inline style is to workaround Safari alignment issue -->
					<div class="inputGroup inputGroup--auto">
						<xf:dateinput name="start" value="{{ $linkFilters.start ? date($linkFilters.start, 'Y-m-d') : '' }}"
							class="filterBlock-input filterBlock-input--small" />
						<span class="inputGroup-text">-</span>
						<xf:dateinput name="end" value="{{ $linkFilters.end ? date($linkFilters.end, 'Y-m-d') : '' }}"
							class="filterBlock-input filterBlock-input--small" />
						<span class="inputGroup-splitter"></span>
					</div>
				</li>
				<li>
					<xf:select name="date_preset" class="js-presetChange filterBlock-input">
						<xf:option label="{{ phrase('date_presets:') }}" value="-1" />
						<xf:optgroup>
							<xf:options source="{$datePresets}" />
							<xf:option value="1995-01-01">{{ phrase('all_time') }}</xf:option>
						</xf:optgroup>
					</xf:select>
				</li>
				<li>
					<xf:button type="submit" class="button--small">{{ phrase('go') }}</xf:button>
				</li>
			</ul>
		</div>
	</div>
	<div class="block-container">
		<xf:if is="$attachments is not empty">
			<h2 class="block-tabHeader">
				<span class="tabs">
					<label class="tabs-tab {{ (!$linkFilters.mode || $linkFilters.mode == 'recent') ? 'is-active' : '' }}">
						<input type="radio" name="mode" value="recent"
							style="display: none"
							data-xf-click="submit"
							{{ (!$linkFilters.mode || $linkFilters.mode == 'recent') ? 'checked="checked"' : '' }} />
						{{ phrase('most_recent') }}
					</label>
					<label class="tabs-tab {{ $linkFilters.mode == 'size' ? 'is-active' : '' }}">
						<input type="radio" name="mode" value="size"
							style="display: none"
							data-xf-click="submit"
							{{ $linkFilters.mode == 'size' ? 'checked="checked"' : '' }} />
						{{ phrase('largest') }}
					</label>
				</span>
			</h2>
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="$attachments" value="$attachment">
						<xf:datarow>
							<xf:toggle name="attachment_ids[]" value="{$attachment.attachment_id}" />

							<xf:if is="$attachment.has_thumbnail">
								<xf:cell class="dataList-cell--attachment"
									href="{{ link('bh-recent-photos/view', $attachment) }}"
									style="background-image: url({$attachment.thumbnail_url})"
									alt="{$attachment.filename}"
									data-xf-init="element-tooltip" data-element="| .tooltip-element">
									<span class="tooltip-element"><img src="{$attachment.thumbnail_url}" class="attachment-tooltip-image" /></span>
								</xf:cell>
							<xf:else />
								<xf:cell class="dataList-cell--attachment"
									href="{{ link('bh-recent-photos/view', $attachment) }}">
									<xf:fa icon="fa-file fa-2x" />
								</xf:cell>
							</xf:if>

							<xf:cell href="{{ link('bh-recent-photos/view', $attachment) }}" class="dataList-cell--main">
								<div class="dataList-mainRow">{$attachment.filename}</div>
								<div class="dataList-subRow">
									<ul class="listInline listInline--bullet">
										<li><xf:date time="{$attachment.Data.upload_date}" /></li>
										<li>{{ $attachment.Data.User.username ?: phrase('unknown_user') }}</li>
										<li>{$attachment.file_size|file_size}</li>
									</ul>
								</div>
							</xf:cell>

							<xf:cell
								href="{{ (!$attachment.unassociated && $attachment.getContainerLink()) ? $attachment.getContainerLink() : link('bh-recent-photos/view', $attachment) }}"
								target="{{ !$attachment.unassociated ? '_blank' : '' }}"
								class="dataList-cell--action">
								<xf:if is="!$attachment.unassociated">
									
									{{ phrase('view_host_content') }}
									<span class="dataList-secondRow">{$attachment.Item.item_title} ({$attachment.Item.brand_title})</span>
								<xf:else />
									{{ phrase('unassociated') }}
								</xf:if>
							</xf:cell>

							<xf:delete href="{{ link('bh-recent-photos/delete', $attachment, $linkFilters) }}" />
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
			</div>
			<div class="block-footer block-footer--split">
				<span class="block-footer-counter">{{ display_totals($attachments, $total) }}</span>
				<span class="block-footer-select"><xf:checkbox standalone="true"><xf:option check-all="< .block-container" label="{{ phrase('select_all') }}" /></xf:checkbox></span>
				<span class="block-footer-controls">
					<xf:button type="submit" name="delete_attachments" icon="delete" />
				</span>
			</div>
		<xf:else />
			<div class="block-body block-row">{{ phrase('no_results_found') }}</div>
		</xf:if>
	</div>
	
	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
		link="bh-recent-photos" params="{$linkFilters}"
		wrapperclass="block-outer block-outer--after" />

</xf:form>

<xf:js>
	$(function()
	{
		$('.js-presetChange').change(function(e)
		{
			var $ctrl = $(this),
			value = $ctrl.val(),
			$form = $ctrl.closest('form');

			if (value == -1)
			{
				return;
			}

			$form.find($ctrl.data('start') || 'input[name=start]').val(value);
			$form.find($ctrl.data('end') || 'input[name=end]').val('');
			$form.submit();
		});
	});
</xf:js>]]></template>
  <template type="public" title="bh_brandHub_list.less" version_id="3050100" version_string="3.5.1 Alpha"><![CDATA[@media screen and (max-width: 642px) {

	 .borderpage{
		margin: 5px;
		height:140px;
		width: 105px;
     }

	 .bh_item{
		padding: 0px;
     }
	
	.fas{
			font-size: 5em;
		}	
	
	.tabs--standalone .tabs-tab {
      
		padding: 11px 21px 3px;
   
         }
	
	.grid-page-item {
		
 	display: grid;
    grid-template-columns: repeat(2, 1fr);
	grid-template-rows: 220px;
	grid-gap: 0px 0px;
    padding: 0px 0px;
		
     }
	
   .grid-page-all{
		
	display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-gap: 0px 0px;
    padding: 0px 0px;
		
	}
	
	.pageimage{
		object-fit: cover;
		width: inherit;
    	height: 105px;
	}
	
		[data-template="bh_item_detail"] .itemList-item
	{
		object-fit: cover;
		margin: 5px;
		min-width: 100px; 
		max-width: 100px;
		min-height: 100px;
		max-height: 100px;
	}
		
	}

@media screen and (min-width:640px) {
 
   .borderpage{
	
	height: 250px;
    width: 250px;
	   
    }
	.grid-page-item {
		
 	display: grid;
    grid-template-columns: repeat(6, 1fr);
    grid-gap: 0px 10px;
    padding: 0px 0px;
		
     }
	
  .grid-page-all{
		
	display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-gap: 0px 10px;
    padding: 0px 0px;
		
	}
	
	.pageimage{
		object-fit: cover;
		width:250px;
		height:250px;
	}
	
			
	
   }



.innerpage{
	
		list-style: none;
}

.bh-title {
	border-left:2 solid blue !important;
}
.brandHub {
    font-size: 16px;
	padding: ;
}

.bh_item {
    width: 100%;
    /* font-family: CoreSans,Arial,sans-serif; */
    padding: 12px 0 10px!important;
	line-height: 18px;
	list-style: none;
}
.bh_a:hover
{
	color:red !important;
	text-decoration: none ;
}

.bh_a {
	color:black;
}

.grid-list {
 	display: grid;
    grid-template-columns: repeat(5, 1fr);
    grid-gap: 0px 25px;
    padding: 0px 10px;
}
.highestRated_grid-list{
	display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-gap: 0px 25px;
    padding: 0px 10px;
}
.clearfix{
	clear: both;
	margin-top: 25px;
}
.itemPageNav{
	
}
[data-template="bh_item_detail"] .p-body-main--withSidebar &
    {  
		
    }
[data-template="bh_page_detail"] .p-body-main--withSidebar &
    {
		
    }
/* title rating */

.title-rating {
    position: relative;
    top: -58px;
    right: -196px;
    width: 137px;
}
@media screen and (max-width: 642px){
		.title-rating {
			position: relative;
			top: -70px;
			right: -170px;
			width: 129px;
		}
}
@media screen and (max-width: 414px){
	.title-rating {
    position: relative;
    top: -40px;
    right:2px;
    width: 129px;
}
	}
/* white three button */

.white-button {
    margin-right: 5px;
    background: white;
    color: black;
    border: white;
}
#white-button{
	    margin-right: 5px;
    background: white;
    color: black;
    border: white;
}
.tab-white-button{
	
	float:left;
}
@media screen and (max-width: 642px){
		.tabs--standalone .tabs-tab {
			padding: 8px 5px 3px;
		}
}
/*
@m-sticky-top: 48px;
@media (min-width: (@xf-responsiveWide + 1px)) {
    .p-body-main--withSidebar {
        .p-body-sideNav,
        .p-body-sidebar {
            flex: 0 0 auto;
            display: block;
        }
        @supports ((position: sticky) or (position: -webkit-sticky)) {
            .p-body-sidebar {
                position: -webkit-sticky;
                position: sticky;
                top: 10px;
                & when (@xf-publicNavSticky =primary) or (@xf-publicNavSticky =all) {
                    top: @m-sticky-top * 1px + 10px;
                }
            }
        }
    }
}*/


.borderpage{
	
    margin: 10px;
    text-align: center;

}

.bh_center{
	display: flex;
	align-items: center;
	justify-content: center;
	padding:auto;
}

//rating bar --------------------------------------------------------


.checked{
	color: #f9c479;
}

/* Three column layout */
.side {
  float: left;
  width: 8%;
  margin-top: 5px;
}

.middle {
  float: left;
  width: 77%;
  margin-top: 10px;
}

/* Place text to the right */
.right {
  text-align: right;
}

/* Clear floats after the columns 
.row:after {
  content: "";
  display: table;
  clear: both;
}
*/

/* The bar container */
.bar-container {
  width: 100%;
  background-color: #f1f1f1;
  text-align: center;
  color: white;
	border-radius: 5px;
}
.reviewStarsDiv{
	float:left;
}
.ratingBarsDiv{
	width: 60%;
	float:right;
	font-size: smaller;
}

.bar {height: 10px; background-color: #f9c479; border-radius: 5px;}

/* Responsive layout - make the columns stack on top of each other instead of next to each other */
@media (max-width: 400px) {
  .side, .middle {
    width: 100%;
  }
  /* Hide the right column on small screens */
  .right {
    display: none;
  }
}

//ad -----------------------------------------------------------


.sideBar_ad{
	height:250px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.center_ad{
	height:150px;
	display: flex;
	align-items: center;
	justify-content: center;
}


//************************************************item next and item preivew
.media
{
	position: relative;
	margin-bottom: 10px;
	
}


@_buttonWidth: 30px;
@_buttonHeight: 50px;


.media-button
{
	position: absolute;
	top: ~"calc(50% - "(@_buttonHeight / 2) + 2~")";
	z-index: @zIndex-1;

	width: @_buttonWidth;
	height: @_buttonHeight;

	background: fade(mix(@xf-paletteNeutral2, @xf-paletteNeutral3), 70%);
	border-radius: @xf-borderRadiusMedium;

	opacity: 0.2;
	.m-transition(opacity);

	cursor: pointer;

	.has-touchevents &,
	.media:hover &
	{
		opacity: 0.6;
	}

	&&:hover
	{
		text-decoration: none;
		opacity: 1;
	}

	.media-button-icon
	{
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);

		color: #FFF;
		.m-textOutline(white, black);

		.m-faBase();
		font-size: 1.75em;
	}

	&.media-button--next
	{
		right: 5px;

		.media-button-icon
		{
			&:before
			{
				.m-faContent(@fa-var-chevron-right, .71em, ltr);
				.m-faContent(@fa-var-chevron-left, .71em, rtl);
			}
		}
	}

	&.media-button--prev
	{
		left: 5px;

		.media-button-icon
		{
			&:before
			{
				.m-faContent(@fa-var-chevron-left, .71em, ltr);
				.m-faContent(@fa-var-chevron-right, .71em, rtl);
			}
		}
	}
}

@media screen and (min-width: 768px)
{
	.media
	{
		float:left;
		width: 50%;
	}
	
	[data-template="bh_item_detail"] .itemList--strip .itemList-item,
	[data-template="bh_page_detail"] .itemList--strip .itemList-item
	{
		margin: 10px;
		 min-width: 180px; 
		/* min-height: 100px; */
		max-height: 180px;
		max-width: 180px;	
	}
}

//*************************
.item-rating
{
	margin-left: 10px;
}
@media screen and (max-width: 388px)
{
	.item-rating
	{
		margin-left: 0px;
    	font-size: smaller;
	}
}


@media screen and (max-width: 480px)
{
	.grid-list 
	{
		grid-template-columns: repeat(4, 1fr);
	}
	.reviewStarsDiv
	{
		float:none;
	}
	.ratingBarsDiv
	{
		float:none;
		width:90%;
		margin:6%;
	}
	
}
[data-template="bh_item_detail"] .p-description
{
	display:none;
}]]></template>
  <template type="public" title="bh_brand_description_edit" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[<xf:if is="$brand.isInsert()">
	<xf:title>{{ phrase('bh_add_brand') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('bh_edit_brand:') }} {$brand.brand_title}</xf:title>
</xf:if>





<xf:form action="{{ link({$xf.options.bh_main_route}.'/save', $brand) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">

			
			<xf:editorrow name="description" value="{$brand.Description.description}" data-min-height="200"
				label="{{ phrase('bh_description') }}" />

			<xf:if is="$brand.Description">
				<xf:hiddenval name="descriptionId">{$brand.Description.desc_id}</xf:hiddenval>
			</xf:if>
			
		</div>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="public" title="bh_brand_hub_macros" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:macro name="navigation" arg-pageSelected="!" arg-total="" arg-route="" arg-brand="" >
	<xf:if is="property('findThreadsNavStyle') == 'tabs'">
		<div class="tabs tabs--standalone">
			<div class="hScroller" data-xf-init="h-scroller">
				<span class="hScroller-scroll">
					<xf:macro name="links"
						arg-pageSelected="{$pageSelected}"
						arg-baseClass="tabs-tab"
						arg-selectedClass="is-active"
						arg-total="{$total}"
						arg-route="{$route}"
						arg-brand="{$brand}"
						 />
				</span>
			</div>
		</div>
	<xf:else />
		<xf:sidenav>
			<div class="block">
				<div class="block-container">
					<h3 class="block-header">{{ phrase('bh_brand_lists') }}</h3>
					<div class="block-body">
						<xf:macro name="links"
							arg-pageSelected="{$pageSelected}"
							arg-baseClass="blockLink"
							arg-selectedClass="is-selected"
							arg-total="{$total}"
							arg-route="{$route}"
							arg-brand="{$brand}"
							 />
					</div>
				</div>
			</div>

		</xf:sidenav>
		<xf:page option="sideNavTitle">{{ phrase('bh_item_lists') }}</xf:page>
	</xf:if>
</xf:macro>

<xf:macro name="links" arg-pageSelected="!" arg-baseClass="!" arg-selectedClass="!" arg-total="" arg-route="" arg-brand="" >
	<a class="{$baseClass} {{ ($pageSelected == 'all') ? {$selectedClass} : '' }}"
		href="{{ link({$route}, $brand, {'type': 'all'}) }}" rel="nofollow">{{ phrase('bh_all') }} ({$total}) </a>
	
	<a class="{$baseClass} {{ $pageSelected == 'view_count' ? {$selectedClass} : '' }}"
		href="{{ link({$route}, $brand, {'type': 'view_count'}) }}" rel="nofollow">{{ phrase('bh_most_viewed') }}</a>
	
	<a class="{$baseClass} {{ $pageSelected == 'discussion_count' ? {$selectedClass} : '' }}"
		href="{{ link({$route}, $brand, {'type': 'discussion_count'}) }}" rel="nofollow">{{ phrase('bh_most_discussed') }}</a>
	
	<a class="{$baseClass} {{ $pageSelected == 'rating_avg' ? {$selectedClass} : '' }}"
		href="{{ link({$route}, $brand, {'type': 'rating_avg'}) }}" rel="nofollow">{{ phrase('bh_highest_rated') }}</a>
	
	<a class="{$baseClass} {{ $pageSelected == 'owner_count' ? {$selectedClass} : '' }}"
		href="{{ link({$route}, $brand, {'type': 'owner_count'}) }}" rel="nofollow">{{ phrase('bh_most_owners') }}</a>
</xf:macro>



<xf:macro name="brandRelatedLinks" arg-brandObj="!" >
	<xf:if is="$brandObj.forums_link || $brandObj.website_link || $brandObj.for_sale_link || $brandObj.intro_link">
	<div class="block">
				<div class="block-container">
					<xf:if contentcheck="true">
						<h3 class="block-minorHeader">{{ $brandObj.brand_title ?  phrase('bh_related_x_links', {'brandTitle': $brandObj.brand_title}) : phrase('related_links') }}</h3>
		
							<div class="block-body block-row block-row--separated">
								<xf:contentcheck>
									<div class="block-body">
										<xf:datalist data-xf-init="responsive-data-list">

											<xf:if is="$brandObj.forums_link">
												<xf:datarow if="$brandObj.forums_link">
													<xf:cell href="{{ $brandObj.forums_link }}" target="_blank">{{ phrase('bh_x_brand_forums', {'brandTitle': $brandObj.brand_title}) }}</xf:cell>
												</xf:datarow>
											</xf:if>
											<xf:if is="$brandObj.website_link">
												<xf:datarow>
														<xf:cell href="{{ $brandObj.website_link  }}" target="_blank">{{ phrase('bh_x_brand_website', {'brandTitle': $brandObj.brand_title}) }}</xf:cell>
												</xf:datarow>
											</xf:if>
											<xf:if is="$brandObj.for_sale_link">
												<xf:datarow>
														<xf:cell href="{{ $brandObj.for_sale_link }}" target="_blank">{{ phrase('bh_x_brand_for_sale', {'brandTitle': $brandObj.brand_title}) }}</xf:cell>
												</xf:datarow>
											</xf:if>
											<xf:if is="$brandObj.intro_link">
												<xf:datarow>
														<xf:cell href="{{ $brandObj.intro_link }}" target="_blank">{{ phrase('bh_introduction_x_brand', {'brandTitle': $brandObj.brand_title}) }}</xf:cell>
												</xf:datarow>
											</xf:if>
										</xf:datalist>
									</div>
								</xf:contentcheck>
							</div>
					</xf:if>
				</div>
			</div>
</xf:if>
</xf:macro>


<xf:macro name="itemDiscussion" arg-discussion="!" >
	<xf:if is="$discussion.isUnread()">
		<xf:datarow>
			<xf:cell style="font-weight:700;">
				<a href="{{ link('threads', $discussion) }}" target="_blank"><i class="fal fa-greater-than"></i>&nbsp;&nbsp;{{ prefix('thread', $discussion) }}{{ $discussion.title }}</a>
				<xf:if contentcheck="true">
					&#13;
					<div class="p-description">
						<xf:contentcheck>
							{{ snippet($discussion.thread_description, 120, {'stripBbCode': true}) }}
						</xf:contentcheck>
					</div>
				</xf:if>
			</xf:cell>

			<xf:if is="$xf.visitor.hasPermission('bh_brand_hub','bh_canEditDiscussionDesc')">
				<xf:action href="{{ link('threads/edit-description', $discussion) }}" overlay="true">{{ $discussion.thread_description? phrase('bh_edit_description') : phrase('bh_add_description') }}</xf:action>
			</xf:if>
		</xf:datarow>
	<xf:else />
		<xf:datarow>
			<xf:cell>
				<a href="{{ link('threads', $discussion) }}" target="_blank"><i class="fal fa-greater-than"></i>&nbsp;&nbsp;{{ $discussion.title }}</a>
				<xf:if contentcheck="true">
					&#13;
					<div class="p-description">
						<xf:contentcheck>
							{{ snippet($discussion.thread_description, 120, {'stripBbCode': true}) }}
						</xf:contentcheck>
					</div>
				</xf:if>
			</xf:cell>

			<xf:if is="$xf.visitor.hasPermission('bh_brand_hub','bh_canEditDiscussionDesc')">
				<xf:toggle name="thread_ids[]" value="{$discussion.thread_id}" />
				<xf:action href="{{ link('threads/edit-description', $discussion) }}" overlay="true">{{ $discussion.thread_description? phrase('bh_edit_description') : phrase('bh_add_description') }}</xf:action>
			</xf:if>

		</xf:datarow>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="bh_brand_list" version_id="3000500" version_string="3.0.5 Alpha"><![CDATA[<xf:title class="bh-title">{{ phrase('bh_select_brand') }}</xf:title>

<xf:css src="bh_brandHub_list.less" />


<xf:comment>
<xf:macro template="bh_brand_hub_macros" name="navigation" arg-pageSelected="{$pageSelected}" arg-total="{$total}" arg-route="{$xf.options.bh_main_route}"  />
</xf:comment>
	
<div class="block">
	<xf:if is="$brands is not empty">
		<div class="block-outer">
			<xf:macro template="bh_filter_macros" name="quick_filter" arg-key="bh_brand"
					arg-ajax="{{ link($xf.options.bh_main_route, null) }}"
					arg-class="block-outer-opposite" />
		</div>
	</xf:if>
		
<div class="block-container">
	
	<xf:macro template="bh_overview_macros" name="list_filter_bar"
				  arg-filters="{$filters}"
				  arg-baseLinkPath="{$xf.options.bh_main_route}" />

	
	<div class="block-body">
		<xf:if is="$brands is not empty">
			<xf:datalist data-xf-init="responsive-data-list">
				<xf:datarow rowtype="header">
					<xf:cell>{{ phrase('bh_brand_title') }}</xf:cell>
					<xf:cell>{{ phrase('bh_discussions') }}</xf:cell>
					<xf:cell>{{ phrase('bh_views') }}</xf:cell>
					<xf:cell>{{ phrase('bh_rating_avg') }}</xf:cell>
					<xf:cell>{{ phrase('bh_reviews') }}</xf:cell>

				</xf:datarow>
				<xf:foreach loop="$brands" value="$brand">
					<xf:datarow>
						
						<xf:cell href="{{ link($xf.options.bh_main_route, $brand) }}">{$brand.brand_title}</xf:cell>
						<xf:cell>{$brand.discussion_count}</xf:cell>
						<xf:cell>{$brand.view_count}</xf:cell>
						<xf:cell>{$brand.rating_avg}</xf:cell>
						<xf:cell>{$brand.review_count}</xf:cell>

					</xf:datarow>
				</xf:foreach>
			</xf:datalist>
			
			<div class="block-footer block-footer--split">
				<span class="block-footer-counter">{{ display_totals($brands, $total) }}</span>
			</div>
		<xf:else />
			<div class="blockMessage">{{ phrase('no_results_found') }}</div>
		</xf:if>
		
	<xf:macro  template="bh_ad_macros" name="sideBar_brand"  />
		
	</div>
</div>

	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
		link="{$xf.options.bh_main_route}" params="{$filters}"
		wrapperclass="block-outer block-outer--after" />
</div>]]></template>
  <template type="public" title="bh_delete_review" version_id="3000700" version_string="3.0.7 Alpha"><![CDATA[<xf:title>{{ phrase('bh_delete_review') }}</xf:title>

<xf:breadcrumb source="$item.getBreadcrumbs()" />

<xf:js src="xf/thread.js" min="1" />
<xf:form action="{{ link({$route}.'/delete', $review) }}" class="block" ajax="true"
		 data-xf-init="thread-edit-form"
		 data-item-selector=".js-itemReview-{$item.item_id}{{ $review ? '-' . $review->item_rating_id : ''}}">
	
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="helper_action" name="delete_type" arg-canHardDelete="{$review.canDelete('hard')}" />

			<xf:comment>
			<xf:if is="$review.canSendModeratorActionAlert()">
				<xf:macro template="helper_action" name="author_alert" />
			</xf:if>
			</xf:comment>
		</div>
		<xf:submitrow icon="delete" sticky="true" />
	</div>
	<xf:redirect />
</xf:form>]]></template>
  <template type="public" title="bh_discussions_quick_remove_editor" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link('bh-item/quick-delete', $item) }}" class="block" ajax="true">

	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
					{{ phrase('please_confirm_that_you_want_to_unlink_x_discussions_from_x_item', {'number': count($discussions), 'itemTitle': $item.item_title}) }}
			</xf:inforow>
		</div>
		
			<xf:checkboxrow name="thread_ids" listclass="inputChoices--inline"
				label="{{ phrase('bh_unlink_these_discussions') }}"
				explain="{{ phrase('bh_quick_unlink_explain') }}">

				<xf:foreach loop="$discussions" key="$threadId" value="$thread">
					<xf:option value="{$threadId}" checked="checked">
						<xf:label><span class="">{$thread.title}</span></xf:label>
					</xf:option>
				</xf:foreach>
			</xf:checkboxrow>


		<xf:submitrow rowtype="simple" icon="remove" />
	</div>

</xf:form>]]></template>
  <template type="public" title="bh_filter_macros" version_id="3000600" version_string="3.0.6 Alpha"><![CDATA[<xf:macro name="quick_filter" arg-key="" arg-ajax="" arg-class="">
	<xf:js src="xf/filter.js" min="1" />
	<div class="{$class} quickFilter u-jsOnly" data-xf-init="filter" data-key="{$key}" data-ajax="{$ajax}">
		<div class="inputGroup inputGroup--inline inputGroup--joined">
			<input type="text" class="input js-filterInput" placeholder="{{ phrase('filter...')|for_attr }}" data-xf-key="{{ phrase('shortcut.filter')|for_attr }}" />
			<xf:comment>
			<span class="inputGroup-text">
				<xf:checkbox standalone="true">
					<xf:option class="js-filterPrefix" label="{{ phrase('prefix_search') }}" />
				</xf:checkbox>
			</span>
			</xf:comment>
			<i class="inputGroup-text js-filterClear is-disabled" aria-hidden="true"></i>
		</div>
	</div>
</xf:macro>

<xf:macro name="filter_bar"
	arg-params="!"
	arg-content="{{ null }}"
	arg-route=""
	arg-displayValues="{{ [] }}"
	arg-phrases="{{ [] }}"
	arg-menu=""
	arg-menuIsRoute="{{ true }}"
	arg-menuParams="{{ [] }}"
	arg-menuTitle="{{ phrase('refine_search') }}">

	<xf:if contentcheck="true">
		<div class="block-filterBar">
			<div class="filterBar">
				<xf:contentcheck>

					<xf:if is="$route && $displayValues">
						<ul class="filterBar-filters">
							<xf:foreach loop="$displayValues" key="$filterName" value="$displayValue">
								<xf:set var="$lookupName" value="key:{$filterName}" />
								<xf:set var="$displayName">{{ $phrases.{$lookupName} ?: $filterName }}</xf:set>

								<li><a href="{{ link($route, $content, $params + {'_skipFilter': $filterName}) }}" class="filterBar-filterToggle">
									<xf:if is="$displayValue === true">
										{$displayName}
									<xf:else />
										<span class="filterBar-filterToggle-label">{$displayName}</span>
										<xf:if is="is_array($displayValue)">
											<xf:foreach loop="$displayValue" value="$_displayValue">
												<xf:set var="$v"><xf:macro name="lookup" arg-value="{$_displayValue}" arg-phrases="{$phrases}" /></xf:set>
												<span class="filterBar-filterToggle-value" data-xf-init="tooltip" title="{$v}">{$v}</span>
											</xf:foreach>
										<xf:else />
											<xf:set var="$v"><xf:macro name="lookup" arg-value="{$displayValue}" arg-phrases="{$phrases}" /></xf:set>
											<span class="filterBar-filterToggle-value" data-xf-init="tooltip" title="{$v}">{$v}</span>
										</xf:if>
									</xf:if>
								</a></li>
							</xf:foreach>
						</ul>
					</xf:if>

					<xf:if is="$menu">
						<a class="filterBar-menuTrigger" data-xf-click="menu" role="button" tabindex="0" aria-expanded="false" aria-haspopup="true">{$menuTitle}</a>
						<xf:set var="$menuLink" value="{{ $menuIsRoute ? link($menu, $content, $params + $menuParams) : $menu }}" />
						<div class="menu menu--wide" data-menu="menu" aria-hidden="true"
							data-href="{$menuLink}"
							data-load-target=".js-filterMenuBody">
							<div class="menu-content">
								<h4 class="menu-header">{$menuTitle}</h4>
								<div class="js-filterMenuBody">
									<div class="menu-row">{{ phrase('loading...') }}</div>
								</div>
							</div>
						</div>
					</xf:if>

				</xf:contentcheck>
			</div>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="lookup" arg-value="!" arg-phrases="{{ [] }}"><xf:trim>
	<xf:if is="is_scalar($value) AND {$phrases.{$value}}">
		{{ $phrases.{$value} }}
	<xf:else />
		{$value}
	</xf:if>

</xf:trim></xf:macro>]]></template>
  <template type="public" title="bh_filters" version_id="3000500" version_string="3.0.5 Alpha"><![CDATA[<xf:form action="{{ link($route, $brand) }}">
	
	<!--[brandHub:above_sort_by]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('sort_by:') }}
		<div class="inputGroup u-inputSpacer">
			<xf:select name="order" value="{{ $filters.order ?: $xf.options.bh_ListDefaultOrder }}">
				<xf:if is="$brand">
					<xf:option value="item_id">{{ phrase('bh_item_id') }}</xf:option>
					<xf:option value="item_title">{{ phrase('bh_item_title') }}</xf:option>
				<xf:else />
					<xf:option value="brand_id">{{ phrase('bh_brand_id') }}</xf:option>
					<xf:option value="brand_title">{{ phrase('bh_brand_title') }}</xf:option>
				</xf:if>

				<xf:option value="discussion_count">{{ phrase('bh_discussions') }}</xf:option>
				<xf:option value="view_count">{{ phrase('bh_views') }}</xf:option>
				<xf:option value="rating_avg">{{ phrase('bh_rating_avg') }}</xf:option>
				<xf:option value="review_count">{{ phrase('bh_reviews') }}</xf:option>
			</xf:select>
			<span class="inputGroup-splitter"></span>
			<xf:select name="direction" value="{{ $filters.direction ?: 'desc' }}">
				<xf:option value="desc">{{ phrase('descending') }}</xf:option>
				<xf:option value="asc">{{ phrase('ascending') }}</xf:option>
			</xf:select>
		</div>
	</div>

	<div class="menu-footer">
		<span class="menu-footer-controls">
			<xf:button type="submit" class="button--primary">{{ phrase('filter') }}</xf:button>
		</span>
	</div>
	<xf:hiddenval name="apply">1</xf:hiddenval>
</xf:form>]]></template>
  <template type="public" title="bh_helper_attachment_photo" version_id="1000900" version_string="1.0.9 Alpha"><![CDATA[<xf:macro name="upload_link" arg-attachmentData="!">

<xf:js prod="xf/attachment_manager-compiled.js" dev="vendor/flow.js/flow-compiled.js, xf/attachment_manager.js" />

<xf:button  href="{{ link('attachments/upload', null, {'type': 'bh_item', 'context': $attachmentData.context, 'hash': $attachmentData.hash}) }}"
	 class="button--link js-attachmentUpload" icon="attach"
	data-accept=".{$attachmentData.constraints.extensions|join(',.')}" />
						
	<xf:hiddenval name="attachment_hash">{$attachmentData.hash}</xf:hiddenval>
								<xf:hiddenval name="attachment_hash_combined">{{ {
									'type': 'bh_item',
									'context': $attachmentData.context,
									'hash': $attachmentData.hash
								}|json }}</xf:hiddenval>
</xf:macro>

<xf:macro name="upload_link_from_data" arg-attachmentData="!">
	<xf:macro name="upload_link"  arg-attachmentData="{$attachmentData}" />
</xf:macro>



<xf:macro name="uploaded_files_list" arg-attachments="{{ [] }}" arg-class="">
	<xf:css src="attachments.less" />
	<div class="attachmentUploads js-attachmentUploads {$class} {{ $attachments is not empty ? 'is-active' : '' }}">
		<div class="hScroller" data-xf-init="h-scroller">
			<div class="hScroller-scroll">
				<ul class="attachUploadList js-attachmentFiles">
				<xf:foreach loop="$attachments" value="$attachment">
					<xf:macro name="uploaded_file" arg-attachment="{$attachment}" />
				</xf:foreach>
				</ul>
			</div>
		</div>

		<div class="attachmentUploads-banner js-attachmentInsertMultiRow u-hidden">
			<xf:button class="button--link js-attachmentSelect" data-toggle="{{ phrase('button.cancel') }}">
				{{ phrase('insert_multiple...') }}
			</xf:button>
			<ul class="attachmentUploads-selectActions js-attachmentSelectActions">
				<li>
					<span class="button button--link selectAll">
						<span class="button-text">
							<xf:checkbox standalone="true">
								<xf:option check-all="< .attachmentUploads" label="{{ phrase('select_all') }}" />
							</xf:checkbox>
						</span>
					</span>
				</li>
				<li class="js-attachmentSelectInsertActions">
					<span class="insert-label">{{ phrase('insert:') }}</span>
					<span class="buttonGroup">
						<xf:button class="button--link js-attachmentSelectAction" data-action="thumbnail">
							{{ phrase('thumbnail') }}
						</xf:button>
						<xf:button class="button--link js-attachmentSelectAction" data-action="full">
							{{ phrase('full_image') }}
						</xf:button>
					</span>
				</li>
				<li>
					<xf:button class="button--link button--iconOnly js-attachmentSelectAction" fa="fa-trash-alt" data-action="delete">
						<span class="u-srOnly">{{ phrase('button.delete') }}</span>
					</xf:button>
				</li>
			</ul>
		</div>

	</div>
	<xf:macro name="uploaded_file_template" />
</xf:macro>



<xf:macro name="uploaded_file" arg-attachment="!" arg-noJsFallback="{{ false }}">
	<li class="js-attachmentFile file" data-attachment-id="{$attachment.attachment_id}">
		<xf:if is="$attachment.has_thumbnail">
			<a class="file-preview js-attachmentView" href="{$attachment.direct_url}" target="_blank">
				<img src="{{ base_url($attachment.thumbnail_url) }}" class="js-attachmentThumb" alt="{$attachment.filename}"
					width="{$attachment.thumbnail_width}" height="{$attachment.thumbnail_height}" loading="lazy" />
			</a>
		<xf:elseif is="$attachment.is_video" />
			<a class="file-preview js-attachmentView" href="{$attachment.direct_url}" target="_blank">
				<video data-xf-init="video-init">
					<source src="{$attachment.direct_url}" />
				</video>
			</a>
		<xf:else />
			<a class="file-preview js-attachmentView" href="{$attachment.direct_url}" target="_blank">
				<span class="file-typeIcon">
					<xf:fa icon="{$attachment.icon}" />
				</span>
			</a>
		</xf:if>

	
		<div class="file-content">

			<xf:if is="!$noJsFallback">
				<xf:if is="$attachment.has_thumbnail">
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink"
							data-xf-click="toggle"
							data-target="< .js-attachmentInsert"
							role="button"
							tabindex="0">
							{{ phrase('insert...') }}
						</a>
						<div class="file-menuOptions">
							<a class="js-attachmentAction" data-action="thumbnail" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('thumbnail') }}</a>
							<a class="js-attachmentAction" data-action="full" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('full_image') }}</a>
						</div>
					</div>
				<xf:elseif is="$attachment.is_video" />
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink js-attachmentAction" data-action="full" data-type="video" role="button" tabindex="0">
							{{ phrase('insert') }}
						</a>
					</div>
				<xf:elseif is="$attachment.is_audio" />
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink js-attachmentAction" data-action="full" data-type="audio" role="button" tabindex="0">
							{{ phrase('insert') }}
						</a>
					</div>
				</xf:if>

				<div class="file-checkbox">
					<xf:checkbox standalone="true">
						<xf:option value="" />
					</xf:checkbox>
				</div>
			</xf:if>

			<span class="file-delete">
				<xf:if is="$noJsFallback">
					<xf:button type="submit" class="button--small button--link" name="delete" value="{$attachment.attachment_id}">
						<xf:fa icon="fa-trash-alt" />
						<span class="u-srOnly">{{ phrase('button.delete') }}</span>
					</xf:button>
				<xf:else />
					<a class="file-deleteLink js-attachmentAction"
						data-action="delete"
						data-type="{$attachment.type_grouping}"
						role="button"
						tabindex="0">
						<xf:fa icon="fa-trash-alt" />
						<span class="u-srOnly">{{ phrase('button.delete') }}</span>
					</a>
				</xf:if>
			</span>

			<a class="file-info"
				href="{$attachment.direct_url}"
				target="_blank">

				<span class="file-name">{$attachment.filename}</span>

				<div class="file-meta">
					<xf:if is="$attachment.Data.width">{$attachment.Data.width} x {$attachment.Data.height} &middot; </xf:if>
					{$attachment.file_size|file_size}
				</div>
			</a>
		</div>
	</li>
</xf:macro>



<xf:macro name="uploaded_file_template">
	<script type="text/template" class="js-attachmentUploadTemplate">
		<li class="file js-attachmentFile" {{ mustache('#attachment_id', 'data-attachment-id="{{attachment_id}}"') }}>
			<xf:mustache name="#uploading">
				<div class="file-preview">
					<div class="file-progress js-attachmentProgress"></div>
					<span class="file-error js-attachmentError"></span>
				</div>
			</xf:mustache>
			<xf:mustache name="^uploading">
				<xf:mustache name="#thumbnail_url">
					<a class="file-preview js-attachmentView" href="{{ mustache('link') }}" target="_blank">
						<img src="{{ mustache('thumbnail_url') }}" class="js-attachmentThumb" alt="{{ mustache('filename') }}" />
					</a>
				</xf:mustache>
				<xf:mustache name="^thumbnail_url">
					<xf:mustache name="#is_video">
						<a class="file-preview js-attachmentView" href="{{ mustache('link') }}" target="_blank">
							<video data-xf-init="video-init">
								<source src="{{ mustache('link') }}" />
							</video>
						</a>
					</xf:mustache>
					<xf:mustache name="^is_video">
						<a class="file-preview js-attachmentView" href="{{ mustache('link') }}" target="_blank">
							<span class="file-typeIcon">
								<i class="fa--xf fa{{ fa_weight() }} {{ mustache('icon') }}" aria-hidden="true"></i>
							</span>
						</a>
					</xf:mustache>
				</xf:mustache>
			</xf:mustache>

			<div class="file-content">

				<xf:mustache name="#thumbnail_url">
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink"
							data-xf-click="toggle"
							data-target="< .js-attachmentInsert"
							role="button"
							tabindex="0">
							{{ phrase('insert...') }}
						</a>
						<div class="file-menuOptions">
							<a class="js-attachmentAction" data-action="thumbnail" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('thumbnail') }}</a>
							<a class="js-attachmentAction" data-action="full" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('full_image') }}</a>
						</div>
					</div>
				</xf:mustache>
				<xf:mustache name="^thumbnail_url">
					<xf:mustache name="#is_video">
						<div class="file-insert js-attachmentInsert">
							<a class="file-insertLink js-attachmentAction" data-action="full" data-type="video" role="button" tabindex="0">
								{{ phrase('insert') }}
							</a>
						</div>
					</xf:mustache>
					<xf:mustache name="#is_audio">
						<div class="file-insert js-attachmentInsert">
							<a class="file-insertLink js-attachmentAction" data-action="full" data-type="audio" role="button" tabindex="0">
								{{ phrase('insert') }}
							</a>
						</div>
					</xf:mustache>
				</xf:mustache>

				<div class="file-checkbox">
					<xf:checkbox standalone="true">
						<xf:option value="" />
					</xf:checkbox>
				</div>

				<span class="file-delete">
					<xf:mustache name="#uploading">
						<a class="file-deleteLink js-attachmentAction"
							data-action="cancel"
							role="button"
							tabindex="0">
							<xf:fa icon="fa-trash-alt" />
							<span class="u-srOnly">{{ phrase('button.cancel') }}</span>
						</a>
					</xf:mustache>
					<xf:mustache name="^uploading">
						<a class="file-deleteLink js-attachmentAction"
							data-action="delete"
							data-type="{{ mustache('type_grouping') }}"
							role="button"
							tabindex="0">
							<xf:fa icon="fa-trash-alt" />
							<span class="u-srOnly">{{ phrase('button.delete') }}</span>
						</a>
					</xf:mustache>
				</span>

				<a class="file-info" href="{{ mustache('link') }}" target="_blank">
					<span class="file-name">{{ mustache('filename') }}</span>

					<div class="file-meta">
						<xf:mustache name="#thumbnail_url">{{ mustache('width') }} x {{ mustache('height') }} &middot; </xf:mustache>
						{{ mustache('file_size_printable') }}
					</div>
				</a>

			</div>
		</li>
	</script>
</xf:macro>




<xf:macro name="upload_block" arg-attachmentData="!">

	<xf:macro name="uploaded_files_list" arg-attachments="{$attachmentData.attachments}" />

	<xf:macro name="upload_link_from_data" arg-attachmentData="{$attachmentData}" />
</xf:macro>]]></template>
  <template type="public" title="bh_highestRatedItems" version_id="3020000" version_string="3.2.0 Alpha"><![CDATA[<div class="block"{{ widget_data($widget) }}>
		<div class="block-container">
				<h3 class="block-minorHeader">
					 {{phrase('bh_highest_rated_in_this_category')}}
				</h3>
				<ul class="block-body">
					<xf:if is="$highestRatedItems is not empty">
						<div class="brandHub">		
							<ul class="highestRated_grid-list">
								<xf:foreach loop="$highestRatedItems" value="$highestRatedItem">
									
									<xf:set var="$itemThumbnailUrl" value="{$highestRatedItem.getthumbnailurl()}" />
								
								<li class="bh_item">

									<div class="contentRow-main contentRow-main--close">
										
										<a href="{{ link({$xf.options.bh_main_route} .'/item', $highestRatedItem) }}" class="bh_a" >
											<xf:if is="$itemThumbnailUrl">
												<img src="{{ $itemThumbnailUrl }}" alt="Item-image" />
											<xf:else />
												<i class="fas fa-image fa-4x" ></i>
											</xf:if>

											<div class="contentRow-lesser">
												{{$highestRatedItem.item_title}}
												<xf:macro template="rating_macros" name="stars" arg-rating="{$highestRatedItem.rating_avg}" arg-class="ratingStars--smaller" /> ({$highestRatedItem.rating_count}) 
											</div>
										</a>
									</div>

									</li>
								</xf:foreach>
							</ul>	
						</div>
				<xf:else />
					<div class="blockMessage">{{ phrase('no_results_found') }}</div>
				</xf:if>
				</ul>
		</div>
	</div>]]></template>
  <template type="public" title="bh_inline_mod_assignItem" version_id="3000800" version_string="3.0.8 Alpha"><![CDATA[<xf:title>{{ phrase('bh_inline_moderation_thread_link_to_brand_hub') }}</xf:title>

<xf:css src="select2.less" />
<xf:css src="bh_select2.less" />
<xf:js prod="xf/token_input-compiled.js" dev="vendor/select2/select2.full.js, xf/token_input.js" />

<xf:form action="{{ link('inline-mod') }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">{{ phrase('bh_you_sure_you_want_to_assign_item_x_threads', {'count': $total}) }}</xf:inforow>

			<xf:selectrow name="item_id" value="{$selectedItem}" 
						 label="{{ phrase('bh_item') }}" 
						 data-xf-init="token-input-select"
						 explain="{{ phrase('bh_assign_item_desc') }}">
				
				<xf:option value="0" selected="!{$selectedItem}">{{ phrase('(none)') }}</xf:option>

				<xf:foreach loop="$items" value="$item">
					<xf:option value="{$item.item_id}" label="{$item.item_title}" />
				</xf:foreach>
			</xf:selectrow>
			
		</div>
		<xf:submitrow icon="confirm" />
	</div>

	<xf:foreach loop="$threads" value="$thread">
		<xf:hiddenval name="ids[]">{$thread.thread_id}</xf:hiddenval>
	</xf:foreach>

	<xf:hiddenval name="type">thread</xf:hiddenval>
	<xf:hiddenval name="action">link_to_brand_hub</xf:hiddenval>
	<xf:hiddenval name="confirmed">1</xf:hiddenval>

	<xf:redirect url="{$redirect}" />
</xf:form>

<xf:js>
	jQuery.extend(XF.phrases, {
			s2_no_results: "{{ phrase('s2_no_results')|escape('js') }}"
		});	
</xf:js>]]></template>
  <template type="public" title="bh_inline_mod_owner_page_post_delete" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:title>{{ phrase('inline_moderation_delete_owner_page_posts') }}</xf:title>

<xf:form action="{{ link('inline-mod') }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">{{ phrase('you_sure_you_want_to_delete_x_owner_page_posts', {'count': $total}) }}</xf:inforow>

			<xf:macro template="helper_action" name="delete_type" arg-canHardDelete="{$canHardDelete}" />

			<xf:macro template="helper_action" name="author_alert" />
		</div>
		<xf:submitrow icon="delete" />
	</div>

	<xf:foreach loop="$profilePosts" value="$profilePost">
		<xf:hiddenval name="ids[]">{$profilePost.post_id}</xf:hiddenval>
	</xf:foreach>

	<xf:hiddenval name="type">bh_ownerPage_post</xf:hiddenval>
	<xf:hiddenval name="action">delete</xf:hiddenval>
	<xf:hiddenval name="confirmed">1</xf:hiddenval>

	<xf:redirect url="{$redirect}" />
</xf:form>]]></template>
  <template type="public" title="bh_item" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[<xf:title>{{ phrase('bh_select_brand') }}</xf:title>

<xf:css src="bh_brandHub_list.less" />


		
<xf:macro name="navigation" arg-pageSelected="{$pageSelected}" />

<div class="block-container">
	<div class="block-body">
		<xf:if is="$brands is not empty">
			
		<xf:else />
			<div class="blockMessage">{{ phrase('no_results_found') }}</div>
		</xf:if>
		
		<div>{{ phrase('bh_select_brand') }}</div>
		
		
		<xf:sidebar key="infoSidebar">
			<div class="block">
				<div class="block-container">
					
					<br><br><br><br><br><br>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	[ custom fields]
					<br><br><br><br><br><br>
				</div>
			</div>
		</xf:sidebar>
		
	</div>
</div>






<xf:macro name="navigation" arg-pageSelected="!">
	<xf:if is="property('findThreadsNavStyle') == 'tabs'">
		<div class="tabs tabs--standalone">
			<div class="hScroller" data-xf-init="h-scroller">
				<span class="hScroller-scroll">
					<xf:macro name="links"
						arg-pageSelected="{$pageSelected}"
						arg-baseClass="tabs-tab"
						arg-selectedClass="is-active"
						 />
				</span>
			</div>
		</div>
	<xf:else />
		<xf:sidenav>
			<div class="block">
				<div class="block-container">
					<h3 class="block-header">{{ phrase('bh_brand_lists') }}</h3>
					<div class="block-body">
						<xf:macro name="links"
							arg-pageSelected="{$pageSelected}"
							arg-baseClass="blockLink"
							arg-selectedClass="is-selected"
							 />
					</div>
				</div>
			</div>

		</xf:sidenav>
		<xf:page option="sideNavTitle">{{ phrase('bh_brand_lists') }}</xf:page>
	</xf:if>
</xf:macro>

<xf:macro name="links" arg-pageSelected="!" arg-baseClass="!" arg-selectedClass="!">
	<a class="{$baseClass} {{ ($pageSelected == 'all') ? {$selectedClass} : '' }}"
		href="{{ link($xf.options.bh_main_route) }}" rel="nofollow">{{ phrase('bh_all') }}</a>
	<a class="{$baseClass} {{ $pageSelected == 'view_count' ? {$selectedClass} : '' }}"
		href="{{ link({$xf.options.bh_main_route}.'&type=view_count') }}" rel="nofollow">{{ phrase('bh_most_viewed') }}</a>
	<a class="{$baseClass} {{ $pageSelected == 'discussion_count' ? {$selectedClass} : '' }}"
		href="{{ link({$xf.options.bh_main_route}.'&type=discussion_count') }}" rel="nofollow">{{ phrase('bh_most_discussed') }}</a>
	<a class="{$baseClass} {{ $pageSelected == 'rating_avg' ? {$selectedClass} : '' }}"
		href="{{ link({$xf.options.bh_main_route}.'&type=rating_avg') }}" rel="nofollow">{{ phrase('bh_highest_rated') }}</a>
</xf:macro>]]></template>
  <template type="public" title="bh_item_attachment_list.less" version_id="1010200" version_string="1.1.2 Alpha"><![CDATA[.itemList-itemTypeIcon
{
	&.itemList-itemTypeIcon--image
	{
		&::after
		{
			.m-faContent(@fa-var-image);
		}

		display: none;
	}

	&.itemList-itemTypeIcon--embed
	{
		.m-faBase('Brands');
		&::after
		{
			.m-faContent(@fa-var-youtube);
		}
	}

	&.itemList-itemTypeIcon--video
	{
		&::after
		{
			.m-faContent(@fa-var-video);
		}
	}

	&.itemList-itemTypeIcon--audio
	{
		&::after
		{
			.m-faContent(@fa-var-music);
		}
	}

	&.itemList-itemTypeIcon--embed
	{
		&--applemusic
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-apple); }
		}

		&--facebook
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-facebook); }
		}

		&--flickr
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-flickr); }
		}

		&--instagram
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-instagram); }
		}

		&--pinterest
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-pinterest-square); }
		}

		&--reddit
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-reddit-alien); }
		}

		&--soundcloud
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-soundcloud); }
		}

		&--spotify
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-spotify); }
		}

		&--tumblr
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-tumblr-square); }
		}

		&--twitch
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-twitch); }
		}

		&--twitter
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-twitter); }
		}

		&--vimeo
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-vimeo); }
		}

		&--youtube
		{
			.m-faBase('Brands');
			&::after { .m-faContent(@fa-var-youtube); }
		}
	}
}

// ********* BrandHub filmStrip image thumbnils**************************************

@_stripThumbSize: 50px;
@_thumbSize: 300px;

.itemList
{
	display: flex;
	flex-flow: row wrap;
	margin: @xf-paddingSmall;

	&.itemList--strip
	{
		justify-content: center;
		min-height: @_stripThumbSize + (@xf-paddingSmall * 2);

		@media (max-width: @xf-responsiveNarrow)
		{
			min-height: @_stripThumbSize / 1.3 + (@xf-paddingSmall * 2);
		}

		@media (max-width: 360px)
		{
			min-height: @_stripThumbSize / 1.9 + (@xf-paddingSmall * 2);
		}
	}

	&.itemList--slider
	{
		display: block;
		margin: 0;

		.itemList-item--slider
		{
			margin: 0;
			display: none;

			.lightSlider--loaded &
			{
				display: block;
			}

			.itemList-itemTypeIcon
			{
				display: none;
			}
		}
	}
}

.itemList-item
{
	flex: auto;
	width: (@_thumbSize) / 1.6;
	max-width: @_thumbSize;
	margin: @xf-paddingSmall;

	position: relative;
	overflow: hidden;

	.itemList--strip &
	{
		justify-items: center;
		width: (@_stripThumbSize) / 1.6;
		max-width: @_stripThumbSize;
		margin-top: auto;
		margin-bottom: auto;

		opacity: 1;
		.m-transition(opacity);

		&.itemList-item--fading
		{
			opacity: 0 !important;
		}
	}

	@media (max-width: @xf-responsiveNarrow)
	{
		width: (@_thumbSize) / 2;

		.itemList--strip && // for extra specificity
		{
			max-width: (@_stripThumbSize) / 1.3;
		}
	}

	@media (max-width: 360px)
	{
		.itemList--strip &&
		{
			max-width: (@_stripThumbSize) / 1.9;
		}
	}

	&.itemList-item--placeholder
	{
		margin-top: 0;
		margin-bottom: 0;
		height: 0;

		.itemList--strip &
		{
			.xf-contentAltBase();
			.xf-blockBorder();

			margin-top: inherit;
			margin-bottom: inherit;
			height: initial;

			opacity: 0.7;
		}
	}
}

.itemList-button
{
	.xf-contentAltBase();
	.xf-blockBorder();

	width: 25px;
	border-radius: @xf-borderRadiusMedium;
	color: @xf-linkColor;

	display: block;
	position: relative;
	margin: @xf-paddingSmall;

	cursor: pointer;

	&.is-disabled
	{
		display: none;
	}

	&.is-loading
	{
		.xf-buttonDisabled();
		pointer-events: none;
		cursor: default;
	}
}

.itemList-button-icon
{
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);

	.m-faBase();
	font-size: 1.2em;

	.itemList-button--next &
	{
		&:before
		{
			.m-faContent(@fa-var-chevron-right, .71em, ltr);
			.m-faContent(@fa-var-chevron-left, .71em, rtl);
		}
	}

	.itemList-button--prev &
	{
		&:before
		{
			.m-faContent(@fa-var-chevron-left, .71em, ltr);
			.m-faContent(@fa-var-chevron-right, .71em, rtl);
		}
	}
}

.itemList-itemTypeIcon
{
	position: absolute;
	top: @xf-paddingMedium;
	right: @xf-paddingMedium;
	z-index: @zIndex-1;

	width: 20px;
	height: 20px;

	display: flex;
	align-items: center;
	justify-content: center;

	.m-textOutline(white, black, thin);
	color: #fff;
	opacity: 0.6;

	.has-touchevents &,
	.itemList-item:hover &,
	.itemList-item.is-mod-selected &
	{
		opacity: 1;
	}

	.m-faBase();

	&::after
	{
		font-size: @xf-fontSizeLargest;
	}
}

@_overlayHeight: 52px;

.itemList-itemOverlay
{
	width: 100%;
	height: @_overlayHeight;
	bottom: -@_overlayHeight;
	position: absolute;

	background-color: rgba(0, 0, 0, 0.6);
	.m-hiddenLinks();
	.m-transition();

	padding: 4px;
	overflow: hidden;

	.has-touchevents &,
	.itemList-item:hover &
	{
		bottom: 0;
	}

	.itemList-item.is-mod-selected &
	{
		bottom: 0;
		background: @xf-inlineModHighlightColor;
	}

	a:hover
	{
		text-decoration: none;
	}
}

.itemList-itemOverlayTop
{
	cursor: pointer;

	top: 3px;
	left: 3px;
	z-index: @zIndex-2 + 5; // above the state icon but below the filter menu

	width: 25px;
	height: 25px;
	border-radius: @xf-borderRadiusMedium;

	background: rgba(0, 0, 0, 0.4);

	display: flex;
	align-items: center;
	justify-content: center;

	opacity: 0;

	.has-touchevents &,
	.itemList-item:hover &
	{
		opacity: 1;
	}

	.itemList-item.is-mod-selected &
	{
		opacity: 1;
		background: @xf-inlineModHighlightColor;

		&.iconic
		{
			> input
			{
				+ i:before
				{
					color: @xf-textColorDimmed;
				}

				&:hover
				{
					+ i:before
					{
						color: @xf-textColorDimmed;
					}
				}
			}
		}
	}

	&&.iconic
	{
		display: flex;
		position: absolute;

		> input
		{
			+ i
			{
				&:before
				{
					color: #fff;
				}

				position: absolute;
				top: 2px;
				left: 6px;
			}

			&:hover
			{
				+ i:before
				{
					color: xf-intensify(#fff, 15%);
				}
			}
		}
	}
}

.itemInfoRow
{
	display: flex;
	align-items: center;
}

.itemInfoRow-avatar
{
	white-space: nowrap;
	word-wrap: normal;
	text-align: center;
}

.itemInfoRow-main
{
	flex: 1;
	min-width: 0;
	vertical-align: top;

	text-shadow: 0 0 2px rgba(0, 0, 0, 0.6);
	color: #fff;

	.itemList-item.is-mod-selected &
	{
		text-shadow: none;
		color: @xf-textColorDimmed;
	}

	&:before
	{
		// because of line height, there appears to be extra space at the top of this
		content: '';
		display: block;
		margin-top: -.18em;
	}
}

.itemInfoRow-title
{
	margin: 0;
	padding: 0 0 0 @xf-paddingSmall;
	font-size: @xf-fontSizeSmall;
	font-weight: @xf-fontWeightNormal;
	.m-overflowEllipsis();
}

.itemInfoRow-status
{
	margin: 0;
	padding: 0 0 0 @xf-paddingSmall;
	font-size: @xf-fontSizeSmallest;
	overflow: hidden;
	white-space: nowrap;
}

//******************************************************************************]]></template>
  <template type="public" title="bh_item_description_edit" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[<xf:if is="$item.isInsert()">
	<xf:title>{{ phrase('bh_add_item') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('bh_edit_item:') }} {$item.item_title}</xf:title>
</xf:if>




<xf:form action="{{ link('bh-item/save', $item) }}" ajax="true" class="block"  data-xf-init="attachment-manager">
	<div class="block-container">
		<div class="block-body">

			
			<xf:editorrow name="description" value="{$item.Description.description}" data-min-height="200"
				label="{{ phrase('bh_description') }}" />


			<xf:if is="$item.Description">
				<xf:hiddenval name="descriptionId">{$item.Description.desc_id}</xf:hiddenval>
			</xf:if>
			
			<xf:formrow>
		
					<xf:macro template="bh_helper_attachment_photo" name="upload_block"
							  arg-attachmentData="{$attachmentData}" />
		</xf:formrow>
			
		</div>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="public" title="bh_item_detail" version_id="3050100" version_string="3.5.1 Alpha"><![CDATA[<xf:css src="bh_brandHub_list.less" />

<xf:title class="bh-title">{{$item.Brand.brand_title}} {{ $item.item_title }} Resource Page</xf:title>
<xf:description>Information, reviews, photos, discussion topics, owner pages, and specifications about the {{$item.Brand.brand_title}} {{ $item.item_title }}.</xf:description>

<xf:h1>
	{{$item.Brand.brand_title}} {{ $item.item_title }} <span class="item-rating"><xf:macro template="rating_macros" name="stars" arg-rating="{$item.rating_avg}" arg-class="ratingStars--smaller" />({{$item.rating_count}})</span>
</xf:h1>
<div>{{ $item.Category.category_title }} </div>


<xf:breadcrumb source="$item.getBreadcrumbs(false)" />

<xf:pageaction>
	
	<xf:if is="$xf.visitor.hasPermission('bh_brand_hub', 'bh_canUploadPhotos')">
		<xf:button href="{{ link('bh-item/uploadphoto', $item) }}" class="button--cta"  overlay="true">{{ phrase('bh_upload_photos', {'itemTitle': $item.item_title}) }}</xf:button>
	</xf:if>
	
	<xf:if is="$xf.visitor.hasPermission('bh_brand_hub', 'bh_canSetItemMainPhoto')">
 		<xf:button href="{{ link('bh-item/mainphoto', $item) }}" class="" overlay="true">{{ phrase('bh_main_photo') }}</xf:button>
	</xf:if>
	
	<xf:if is="$xf.visitor.is_admin">
		<xf:button href="{{ link_type('admin', 'bh_item/edit', $item) }}" class="" target="_blank">{{ phrase('bh_edit_this_item') }}</xf:button>
	</xf:if>
</xf:pageaction>

<div class="itemPageNav">
	
	<br>
	<div style="float:right;">
		<xf:macro name="navigation" arg-pageSelected="{$pageSelected}"  arg-route="{$xf.options.bh_main_route}/item"  arg-alreadySub="{$alreadySub}" 
		  arg-item="{$item}" />
	</div>	
		
</div>
<div class="clearfix"></div>



<xf:if is="$filmStripParams">
<div class="media">
	
	<xf:if is="{$filmStripParams.prevItem}">
		
	<a href="{{ link({$xf.options.bh_main_route}.'/item',$item,{'attachment_id':$filmStripParams.prevItem.attachment_id}) }}" class="media-button media-button--prev" data-xf-key="ArrowLeft"><i class="media-button-icon"></i></a>	
	
		</xf:if>

		 <div class="media-container">

     	<xf:if is="{$mainItem}">
        <xf:macro template="bh_item_filmstrip_view_macros" name="main_content" arg-mainItem="{$mainItem}" arg-item="{$item}" />
		 </xf:if>
		</div>
	
	

	<xf:if is="$filmStripParams.nextItem">
		<a href="{{ link({$xf.options.bh_main_route}.'/item',$item,{'attachment_id':$filmStripParams.nextItem.attachment_id}) }}" class="media-button media-button--next" data-xf-key="ArrowRight"><i class="media-button-icon"></i></a>
	
	</xf:if>
		
</div>

	
 <div class="block js-mediaInfoBlock">
	 
	<xf:if is="$filmStripParams.Items">
	<xf:macro template="bh_item_filmstrip_view_macros" name="attachment_film_strip" arg-mainItem="{$mainItem}" arg-filmStripParams="{$filmStripParams}" arg-item="{$item}" />
	 </xf:if>
</div>
		</xf:if>


		
	<xf:sidebar key="shareSidebar">
			<div class="block">
				<div class="block-container">
					<div class="block-body block-row">
					<xf:if contentcheck="true">
						<h3 class="block-minorHeader">{{  phrase('bh_specifications') }}</h3>
								<xf:contentcheck>
								   <xf:macro template="item_custom_fields_macros_public" name="custom_fields_view"
									  arg-type="bhItemfield"
									  arg-group="below_record"
									  arg-onlyInclude="{$category.field_cache}"
									  arg-set="{$item.custom_fields}"	 
									  arg-rowType="noGutter"
									  arg-rowClass="mediaItem-input"
									  arg-onlyInclude="{$category.field_cache}"
									  arg-wrapperClass="resourceBody-fields resourceBody-fields--before"  />
								</xf:contentcheck>
						</xf:if>

						</div>
				</div>
			</div>
		</xf:sidebar>


	<xf:sidebar key="">
			<div class="block">
				<div class="block-container">
					<xf:if contentcheck="true">
 					<h3 class="block-minorHeader">{{  phrase('bh_x_item_community_rankings', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</h3>
						<div class="block-body block-row">

							<xf:contentcheck>
								<xf:datalist data-xf-init="responsive-data-list">
									
								<xf:if is="$itemPosition.categoryItemReviewPosition">
										<xf:datarow>
												<xf:cell>#{{$itemPosition.categoryItemReviewPosition}} user rating of {{$itemPosition.totalcategoryItems}} {{$item.Category.category_title }} items</xf:cell>
										</xf:datarow>
								</xf:if>
								<xf:if is="$itemPosition.categoryItemViewPosition">
										<xf:datarow>
												<xf:cell >#{{$itemPosition.categoryItemViewPosition}} Viewed of {{$itemPosition.totalcategoryItems}} {{$item.Category.category_title }} items</xf:cell>
										</xf:datarow>	
								</xf:if>
									
                          		<xf:if is="$itemPosition.categoryItemDiscussionPosition">
										<xf:datarow>
												<xf:cell>#{{$itemPosition.categoryItemDiscussionPosition}} discussed of {{$itemPosition.totalcategoryItems}} {{$item.Category.category_title }} items</xf:cell>
										</xf:datarow>
								</xf:if>
									
							
								<xf:if is="$itemPosition.overallItemReviewPosition">
										<xf:datarow>
												<xf:cell >#{{$itemPosition.overallItemReviewPosition}} user rating of {{$itemPosition.totalItems}} items overall</xf:cell>
										</xf:datarow>	
								</xf:if>
									
								<xf:if is="$itemPosition.overallItemViewPosition">
										<xf:datarow>
												<xf:cell >#{{$itemPosition.overallItemViewPosition}} Viewed of {{$itemPosition.totalItems}} items overall</xf:cell>
										</xf:datarow>	
								</xf:if>
									
								<xf:if is="$itemPosition.overallItemDiscussionPosition">
										<xf:datarow>
												<xf:cell >#{{$itemPosition.overallItemDiscussionPosition}} discussed of {{$itemPosition.totalItems}} items overall</xf:cell>
										</xf:datarow>	
								</xf:if>
									
									
								<xf:if is="$itemPosition.itemOwnerPageRanking">
										<xf:datarow>
												<xf:cell >#{{$itemPosition.itemOwnerPageRanking}} Ranking of Most-OwnerPages in {{$itemPosition.totalItems}} items overall</xf:cell>
										</xf:datarow>	
								</xf:if>
									
									
								
								
									
								 </xf:datalist>
							</xf:contentcheck>

							</div>
					</xf:if>
				</div>
			</div>
		</xf:sidebar>

<xf:macro  template="bh_ad_macros" name="sideBar_itemdetail" />
	<div class='clearfix'></div>

<h3 class="block-body block-row block-row--separated">{{ phrase('bh_about_the_x_item', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</h3><br>
<div class="block-container">
	<div class="block-row">
	<blockquote class="message-body">
		{{ bb_code($item.Description.description, 'description', $item.Description) }}
		<br>
		<xf:if is="$xf.visitor.hasPermission('bh_brand_hub','bh_can_edit_itemDescript')">
			<a href="{{ link('bh-item/edit', $item) }}" data-xf-click="overlay">{{ phrase('edit') }}</a>
		</xf:if>
		
		
		<xf:if is="$xf.visitor.hasPermission('bh_brand_hub', 'react') && $xf.visitor.user_id">
			<xf:extension name="footer">
				<xf:macro name="item_reaction_footer" arg-item="{$item}"  />
			</xf:extension>
		</xf:if>
	</blockquote>
			</div>
</div>

<div class='clearfix'></div>

<xf:if contentcheck="true">
	<div class="block">
		<div class="block-container">
			<div class="block-body block-row">

				<h3 class="block-minorHeader">{{  phrase('bh_specifications') }}</h3>
				<xf:contentcheck>
					<xf:macro template="item_custom_fields_macros_public" name="custom_fields_view"
							  arg-type="bhItemfield"
							  arg-group="above_record"
							  arg-onlyInclude="{$category.field_cache}"
							  arg-set="{$item.custom_fields}"	 
							  arg-rowType="noGutter"
							  arg-rowClass="mediaItem-input"
							  arg-onlyInclude="{$category.field_cache}"
							  arg-wrapperClass="resourceBody-fields resourceBody-fields--before"  />
				</xf:contentcheck>
				<br>
			</div>
		</div>
	</div>
</xf:if>
<div class='clearfix'></div>


<div class="block" id="discussion">
				<div class="block-container">
					<div class="block-header">
						<h3 class="block-minorHeader">{{ phrase('bh_x_item_descussion', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }} ({{$item.discussion_count}})</h3>
						<div class="p-description">{{ phrase('bh_here_are_the_most_recent_x_item_topics_from_our_community', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
						
						<div style="float:right;">
							<xf:button href="{{ link('bh-item/post-thread-chooser', $item) }}" class="button--cta" icon="write" overlay="true">
								{{ phrase('bh_start_a_discussion_about_x_item',{'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}
							</xf:button>
						</div>
					</div>
							<div class="block-body block-row block-row--separated">
								<div class="block-body">
									
										
										<xf:if is="$discussions is not empty">
											<ol class="block-body">
												<xf:foreach loop="$discussions" value="$discussion">
													{{ $discussion.render({'mod': $activeModType})|raw }}
												</xf:foreach>
											</ol>
										<xf:else />
											<div class="blockMessage">{{ phrase('no_discussions_tagged') }}</div>
										</xf:if>
									
									
									<div class="block-footer block-footer--split">
										<xf:if is="$item.discussion_count > $xf.options.bh_discussions_on_item">
											<span class="block-footer-counter"><a href="{{ link('bh-item/itemthreads', $item) }}" target="_blank">{{phrase('bh_view_all_x_item_topics', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title})}}&nbsp;&nbsp;<i class="fal fa-greater-than"></i> </a>
												

												<dl class="tagList">
	
													<dd>
														<span class="js-tagList">
															<xf:if is="$tags">
																<xf:foreach loop="$tags" value="$tag">
																	<a href="{{ link('tags', $tag) }}" class="tagItem tagItem--tag_{$tag.tag_url}" dir="auto">
																		{{ $tag.tag }}
																	</a>
																</xf:foreach>
																<xf:else />
																{{ phrase('none') }}
															</xf:if>
														</span>
													</dd>
												</dl>

											</span>
											
										<xf:else />
											<span class="block-footer-counter"></span>
										</xf:if>
									</div>
									


								</div>
							</div>			
				</div>
			</div>


<div class='clearfix'></div>

<xf:macro  template="bh_ad_macros" name="center_itemdetail1" />
	<div class='clearfix'></div>

<xf:include template="bh_user_reviews" />
	<div class='clearfix'></div>

<xf:macro  template="bh_ad_macros" name="center_itemdetail2" />
	<div class='clearfix'></div>

<xf:include template="bh_item_owner_page" />
	<div class='clearfix'></div>




<xf:macro name="navigation" arg-pageSelected="!" arg-route="" arg-item=""  arg-alreadySub="">
	
	<xf:if is="property('findThreadsNavStyle') == 'tabs'">
		
		<xf:include template="whiteThreeButton"/>
		
		<div class="tabs tabs--standalone">
			
			
			<div class="hScroller" data-xf-init="h-scroller">
				<span class="hScroller-scroll">
					<xf:macro name="links"
						arg-pageSelected="{$pageSelected}"
						arg-baseClass="tabs-tab"
						arg-selectedClass="is-active"
						arg-route="{$route}"
						arg-item="{$item}"
						 />
				</span>
			</div>
		</div>
	
		<xf:page option="sideNavTitle">{{ phrase('bh_brand_lists') }}</xf:page>
	</xf:if>
</xf:macro>

<xf:macro name="links" arg-pageSelected="!" arg-baseClass="!" arg-selectedClass="!" arg-route="" arg-item="">
   
	
	<a class="{$baseClass} {{ ($pageSelected == 'overview') ? {$selectedClass} : '' }}"
		href="{{ link({$route}, $item) }}" rel="nofollow">{{ phrase('bh_overview') }}</a>
	<a class="{$baseClass} {{ $pageSelected == 'discussion' ? {$selectedClass} : '' }}"
		href="{{ link({$route}.'/#discussion', $item) }}" rel="nofollow">{{ phrase('bh_discussion') }}</a>
	<a class="{$baseClass} {{ $pageSelected == 'reviews' ? {$selectedClass} : '' }}"
		href="{{ link({$route}.'/#reviews', $item) }}" rel="nofollow">{{ phrase('bh_reviews') }}</a>
	<a class="{$baseClass} {{ $pageSelected == 'ownerPage' ? {$selectedClass} : '' }}"
		href="{{ link({$route}.'/#ownerPage', $item) }}" rel="nofollow">{{ phrase('bh_owner_page') }}</a>
</xf:macro>

<xf:macro name="item_reaction_footer" arg-item="!">
	<footer class="message-footer">
		<xf:if contentcheck="true">
			<div class="message-actionBar actionBar">
				<xf:contentcheck>
					<xf:macro name="item_action_bar" arg-item="{$item}" />
				</xf:contentcheck>
			</div>
		</xf:if>

		<div class="reactionsBar js-reactionsList {{ $item.reactions ? 'is-active' : '' }}">
					<xf:reactions content="{$item}" link="bh-item/reactions" />
		</div>

		<div class="js-historyTarget message-historyTarget toggleTarget" data-href="trigger-href"></div>
	</footer>
</xf:macro>


<xf:macro name="item_action_bar" arg-item="!">
	<xf:if contentcheck="true">
		<div class="actionBar-set actionBar-set--external">
		<xf:contentcheck>
			<xf:react content="{$item}" link="bh-item/react" list=".js-reactionsList" />
		</xf:contentcheck>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="bh_item_filmstrip_view_macros" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[<xf:macro name="attachment_film_strip" arg-mainItem="!" arg-filmStripParams="!"  arg-item="!">
	
	<xf:if is="$filmStripParams.Items is not empty">
		<xf:js src="BrandHub/film_strip.js" min="1" />
		<xf:css src="bh_item_attachment_list.less" />

		<div class="block-outer">
			<div class="block-outer-middle">
				<div class="itemList itemList--strip js-filmStrip">
					
					<a data-xf-click="inserter" data-replace=".js-filmStrip"
						href="{{ link('bh-item/filmstripjump', $item, {'direction': 'prev', 'attachment_id': $filmStripParams.firstItem.attachment_id}) }}"
						class="js-filmStrip-button itemList-button itemList-button--prev{{ !$filmStripParams.hasPrev ? ' is-disabled' : '' }}">

						<i class="itemList-button-icon"></i>
					</a>

					<xf:foreach loop="$filmStripParams.Items" value="$attachItem">
						<div class="js-filmStrip-item itemList-item">
							<a href="{{ link({$xf.options.bh_main_route}.'/item',$item,{'attachment_id':$attachItem.attachment_id}) }}">
								
	
					<span class="xfmgThumbnail xfmgThumbnail--image xfmgThumbnail--fluid xfmgThumbnail--iconSmallest {{$mainItem.attachment_id==$attachItem.attachment_id ? 'is-selected' :''}} ">
			        <img class="xfmgThumbnail-image" src="{{$attachItem.getThumbnailUrl()}}" >
			           <span class="xfmgThumbnail-icon"></span>
		           </span>
							</a>
						</div>
					</xf:foreach>

					<a data-xf-click="inserter" data-replace=".js-filmStrip"
						href="{{ link('bh-item/filmstripjump', $item, {'direction': 'next', 'attachment_id': $filmStripParams.lastItem.attachment_id}) }}"
						class="js-filmStrip-button itemList-button itemList-button--next{{ !$filmStripParams.hasNext ? ' is-disabled' : '' }}">

						<i class="itemList-button-icon"></i>
					</a>
				</div>
			</div>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="main_content" arg-mainItem="!" arg-item="!">
	<xf:css src="xfrb_media_view.less" />
	<xf:if is="$mainItem">
	
			<div class="media-container-image js-mediaContainerImage">
			
			<xf:set var="$imageHtml">
				<img src="{{link('attachments/full',$mainItem) }}" alt="{$mainItem.filename}" class="js-mediaImage" />
			</xf:set>
		

				{$imageHtml|raw}
				
		
	</div>
		
	<xf:elseif is="$mediaItem.media_type == 'video'" />
		<xf:macro template="videojs_macros" name="setup" />
   
		<div class="bbMediaWrapper">
			<div class="bbMediaWrapper-inner">
				<video data-xf-init="video-player"
					data-player-setup="{$mediaItem.player_setup|json}"
					class="video-js vjs-default-skin vjs-big-play-centered vjs-16-9">

					<source src="{$mediaItem.getVideoUrl()}" type="video/mp4" />
				</video>
			</div>
		</div>
	<xf:elseif is="$mediaItem.media_type == 'audio'" />
		<xf:macro template="videojs_macros" name="setup" />

		<xf:set var="$audioItem">
			<audio data-xf-init="video-player"
				data-player-setup="{$mediaItem.player_setup|json}"
				class="video-js vjs-default-skin vjs-big-play-centered bbMediaWrapper-fallback">

				<source src="{$mediaItem.getAudioUrl()}" type="audio/mpeg" />
			</audio>
		</xf:set>

		<xf:if is="$mediaItem.thumbnail_date">
			<div class="bbMediaWrapper">
				<div class="bbMediaWrapper-inner bbMediaWrapper-inner--thumbnail">
					{$audioItem|raw}
				</div>
			</div>
		<xf:else />
			{$audioItem|raw}
		</xf:if>
	<xf:elseif is="$mediaItem.media_type == 'embed'" />
		{{ bb_code($mediaItem.media_tag, 'xfmg_media', $mediaItem) }}
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="bh_item_list" version_id="3010000" version_string="3.1.0 Alpha"><![CDATA[<xf:title class="bh-title">{{$brandObj.brand_title}} {{ phrase('items') }}</xf:title>

<xf:css src="bh_brandHub_list.less" />

<xf:comment>
<xf:macro template="bh_brand_hub_macros" name="navigation" 
		  arg-pageSelected="{$pageSelected}" 
		  arg-total="{$total}" 
		  arg-route="{$xf.options.bh_main_route}" 
		  arg-brand="{$brandObj}"   />
</xf:comment>

<div class="block">
	
	<xf:if is="$items is not empty">
		<div class="block-outer">
			<xf:macro template="bh_filter_macros" name="quick_filter" arg-key="bh_item"
					arg-ajax="{{ link($xf.options.bh_main_route .'/brand', $brandObj) }}"
					arg-class="block-outer-opposite" />
		</div>
	</xf:if>



<div class="block-container">
		<xf:macro template="bh_overview_macros" name="list_filter_bar"
				  arg-filters="{$filters}"
				  arg-baseLinkPath="{$xf.options.bh_main_route}"
				  arg-content="{$brandObj}" />
	
	<div class="block-body">
		<xf:if is="$items is not empty">
			<xf:datalist data-xf-init="responsive-data-list">
				<xf:datarow rowtype="header">
					<xf:cell>{{ phrase('bh_item_title') }}</xf:cell>
					<xf:cell>{{ phrase('bh_discussions') }}</xf:cell>
					<xf:cell>{{ phrase('bh_views') }}</xf:cell>
					<xf:cell>{{ phrase('bh_rating_avg') }}</xf:cell>
					<xf:cell>{{ phrase('bh_reviews') }}</xf:cell>

				</xf:datarow>
				<xf:foreach loop="$items" value="$item">
					<xf:datarow>
						
						<xf:cell href="{{ link({$xf.options.bh_main_route}.'/item', $item) }}">{$item.item_title}</xf:cell>
						<xf:cell>{$item.discussion_count}</xf:cell>
						<xf:cell>{$item.view_count}</xf:cell>
						<xf:cell>{$item.rating_avg}</xf:cell>
						<xf:cell>{$item.review_count}</xf:cell>

					</xf:datarow>
				</xf:foreach>
			</xf:datalist>
			
			<div class="block-footer block-footer--split">
				<span class="block-footer-counter">{{ display_totals($items, $total) }}</span>
			</div>
		<xf:else />
			<div class="blockMessage">{{ phrase('no_results_found') }}</div>
		</xf:if>
		
		
		

			<xf:sidebar key="shareSidebar">
				<xf:macro template="bh_brand_hub_macros" name="brandRelatedLinks" arg-brandObj="{$brandObj}" />
			</xf:sidebar>
		
	<xf:macro  template="bh_ad_macros" name="sideBar_itemlist" />
		
	</div>
</div>

	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
		link="{$xf.options.bh_main_route}" data="{$brandObj}" params="{$filters}"
		wrapperclass="block-outer block-outer--after" />
</div>

<div class='clearfix'></div>
	<h4 class="block-body block-row block-row--separated">{{ phrase('bh_brand_about', {'brandTitle': $brandObj.brand_title}) }}</h4><br>

	<div class="block-container">	
		<blockquote class="message-body">
			{{ bb_code($brandObj.Description.description, 'description', $brandObj.Description) }}
			<br>
			<xf:if is="$xf.visitor.hasPermission('bh_brand_hub','bh_can_edit_brandDescript')">
			<a href="{{ link({$xf.options.bh_main_route}.'/edit', $brandObj) }}" data-xf-click="overlay">{{ phrase('edit') }}</a>
		</xf:if>
		</blockquote>
		
	</div>]]></template>
  <template type="public" title="bh_item_list_main_photo_macros" version_id="1010500" version_string="1.1.5 Alpha"><![CDATA[<xf:macro name="item_list" arg-Items="!" arg-Selected="" arg-allowInlineMod="{{ false }}" arg-forceInlineMod="{{ false }}">
 	
	<div class="itemList">
	
		<xf:foreach loop="$Items" value="$item">
		
			<xf:macro name="media_list_item"
				arg-Item="{$item}"
				 arg-Selected="{$Selected}"
				arg-allowInlineMod="{$allowInlineMod}"
				arg-forceInlineMod="{$forceInlineMod}" />
		</xf:foreach>

	</div>
</xf:macro>



<xf:macro name="media_list_item" arg-Item=""  arg-Selected="" arg-allowInlineMod="{{ false }}" arg-forceInlineMod="{{ false }}">
	
	
	
	
	<div class="itemList-item js-inlineModContainer" >

		
		
			<xf:macro name="media_list_item_thumb" arg-Item="{$Item}" 	 arg-Selected="{$Selected}" />
		
		
	</div>
</xf:macro>





<xf:macro name="media_list_item_thumb" arg-Item="" arg-Selected="" >
	

    <xf:if is="$Item">
	   <div style="width:25px;height:25px;background:grey;border-radius:3px;position:relative;top:30px;left:7px;">
     
		<xf:if is="$Item.attachment_id==$Selected.attachment_id">
		<input type="radio" value ="{$Item.attachment_id}" name="mainitem"  style="margin:5px;" checked/>
		<xf:else/>
		<input type="radio" value ="{$Item.attachment_id}" name="mainitem"  style="margin:5px;"/>	
		</xf:if>
	</div>
		<span class=" xfmgThumbnail--fluid">
		 <img  src="{{$Item.getThumbnailUrl()}}"  width="200px" height="200px">
			      
	   </span>
	</xf:if>	
</xf:macro>]]></template>
  <template type="public" title="bh_item_main_photo" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[<xf:title>{$item.item_title}</xf:title>

<xf:form action="{{ link('bh-item/setmainphoto',$item) }}" ajax="true" class="block" data-force-flash-message="true">
<div class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:if is="$items is not empty">
			
				<xf:macro template="bh_item_list_main_photo_macros" name="item_list" arg-Items="{$items}" arg-Selected="{$selectedAttachment}" arg-allowInlineMod="true" />
			</xf:if>
		</div>
	</div>
	<xf:submitrow icon="save" sticky="true" />
</div>
</xf:form>]]></template>
  <template type="public" title="bh_item_owner_page" version_id="3020000" version_string="3.2.0 Alpha"><![CDATA[<div class="block" id="ownerPage">
	<div class="block-container">
		
		<xf:macro template="bh_overview_macros" name="list_filter_bar"
				  arg-filters="{$filters}"
				  arg-baseLinkPath="owners"
				  arg-content="{$item}" />
		
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_x_item_owner_pages', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</h3>
			<div class="p-description">{{ phrase('bh_view_owner_pages_to_see_photos_customizations', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
		</div>
		<div class="block-body block-row block-row--separated">
			<div class="block-body">
				<div class="">
					<xf:comment>
					<div style="float:left;">
						<xf:macro template="bh_nav_for_ownerPage" name="navigation" 
						  arg-pageSelected="{$pageSelected}" 
						  arg-total="{$ownerPageTotal}" 
						  arg-route="owners" 
						  arg-brand="{$item}"
							/>
					</div>
					</xf:comment>
		
					
					<xf:if is="$userItemPage && $xf.visitor.hasPermission('bh_brand_hub','bh_can_delete_Ownerpage')">
						<div style="float:right;margin-left:2px;">
							<xf:button href="{{ link('owners/delete', $userItemPage) }}" class="button--fullWidth" overlay="true" data-cache="false">{{ phrase('bh_delete_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
						</div>
					</xf:if>
					
					<xf:if is="!$userItemPage">
						<div style="float:right;">
							<xf:button href="{{ link('owners/add', $item,{'item': $item.item_id}) }}" class="button--fullWidth" overlay="true" data-cache="false">{{ phrase('bh_create_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
						</div>
					<xf:elseif is="$userItemPage && $xf.visitor.hasPermission('bh_brand_hub','bh_can_edit_ownerpage')"  />
						<div style="float:right;">
							<xf:button href="{{ link('owners/edit', $userItemPage) }}" class="button--fullWidth" overlay="true" data-cache="false">{{ phrase('bh_edit_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
						</div>
					</xf:if>
					
					
				</div>


				<div class="clearfix"></div>


				<div class="block-body">
					<xf:macro template="bh_item_owner_page_all" name="owner_pages" arg-item="{$item}" arg-itemPages="{$itemPages}" />
					
					<xf:if is="$itemPages && count($itemPages) == 10 ">
						<div style="text-align:center;">
							<a href="{{ link('owners', $item) }}" target="_blank">{{phrase('bh_load_more_owner_pages')}}</a>
						</div>
					</xf:if>
				
				</div>
			</div>
		</div>
	</div>
</div>]]></template>
  <template type="public" title="bh_item_owner_page_all" version_id="3020000" version_string="3.2.0 Alpha"><![CDATA[<xf:title class="bh-title">{{ $item.Brand.brand_title }} {{ $item.item_title }}</xf:title>
<xf:if is="$page">
	<xf:breadcrumb source="$page.getBreadcrumbs(false)" />
</xf:if>

<xf:css src="bh_brandHub_list.less" />
<div class="block">
	<div class="block-container">
		<xf:macro template="bh_overview_macros" name="list_filter_bar"
				  arg-filters="{$filters}"
				  arg-baseLinkPath="owners"
				  arg-content="{$item}" />
		
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_x_item_owner_pages', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</h3>
			<div class="p-description">{{ phrase('bh_view_owner_pages_to_see_photos_customizations', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
		</div>
		<div class="block-body block-row block-row--separated">
			<div class="block-body">
				<div class="">
					<xf:comment>
					<div style="float:left;">
						<xf:macro template="bh_nav_for_ownerPage" name="navigation" 
						  arg-pageSelected="{$pageSelected}" 
						  arg-total="{$ownerPageTotal}" 
						  arg-route="owners" 
						  arg-brand="{$item}"
							/>
					</div>
					</xf:comment>
					
					
					<xf:if is="$userItemPage && $xf.visitor.hasPermission('bh_brand_hub','bh_can_delete_Ownerpage')">
						<div style="float:right;margin-left:2px;">
							<xf:button href="{{ link('owners/delete', $userItemPage) }}" class="button--fullWidth" overlay="true" data-cache="false">{{ phrase('bh_delete_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
						</div>
					</xf:if>
					
					<xf:if is="!$userItemPage">
						<div style="float:right;">
							<xf:button href="{{ link('owners/add', $item,{'item': $item.item_id}) }}" class="button--fullWidth" overlay="true" data-cache="false">{{ phrase('bh_create_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
						</div>
					<xf:elseif is="$userItemPage && $xf.visitor.hasPermission('bh_brand_hub','bh_can_edit_ownerpage')"  />
						<div style="float:right;">
							<xf:button href="{{ link('owners/edit', $userItemPage) }}" class="button--fullWidth" overlay="true" data-cache="false">{{ phrase('bh_edit_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
						</div>
					</xf:if>
				</div>


				<div class="clearfix"></div>


				<div class="block-body">
					<xf:macro name="owner_pages" arg-item="{$item}" arg-itemPages="{$itemPages}" />
				</div>
			</div>
		</div>
	</div>
</div>


<xf:macro name="owner_pages" arg-item="!" arg-itemPages="!">
	<span class="js-itemPage-{$item.item_id}-{$xf.visitor.user_id}"></span>
	
	<xf:if is="$itemPages is not empty">
		<div class="brandHub">		
			<ul class="grid-page-all">
				<xf:foreach loop="$itemPages" value="$itemPage">
					<xf:macro name="owner_page" arg-item="{$item}" arg-itemPage="{$itemPage}" />
				</xf:foreach>
			</ul>	
		</div>
	<xf:else />
		<div class="blockMessage">{{ phrase('no_results_found') }}</div>
	</xf:if>
</xf:macro>


<xf:macro name="owner_page" arg-item="!" arg-itemPage="!" arg-overlay="">
	<li class="innerpage js-itemPage-{$item.item_id}-{$itemPage.page_id}">
		
		<xf:set var="$pageThumbnailUrl" value="{$itemPage.getthumbnailurl()}" />
		<div class="borderpage">
			<a href="{{ link('owners', $itemPage) }}" class="bh_a" target="_blank" data-xf-click="{$overlay}">
				<xf:if is="$pageThumbnailUrl">
					<img src="{{ $pageThumbnailUrl }}" class="pageimage" />	
					<xf:else />
					<i class="fas fa-image fa-6x icon"  ></i><br>
				</xf:if>	

				<strong>{{ $itemPage.title ?: phrase('bh_ownerPage_title', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title, 'username':$itemPage.User.username}) }}</strong></a>
		</div>
	</li>
</xf:macro>]]></template>
  <template type="public" title="bh_item_page_edit" version_id="3000700" version_string="3.0.7 Alpha"><![CDATA[<xf:if is="$Page.isInsert()">
	<xf:title>{{ phrase('bh_add_owner_page') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('bh_edit_owner_page:') }}</xf:title>
</xf:if>

<xf:comment>
<xf:pageaction if="$Page.isUpdate()">
	<xf:button href="{{ link('owners/delete', $Page) }}" icon="delete" overlay="true" />
</xf:pageaction>
</xf:comment>

<xf:js src="xf/thread.js" min="1" />
<xf:js prod="xf/attachment_manager-compiled.js" dev="vendor/flow.js/flow-compiled.js, xf/attachment_manager.js" />

<xf:form action="{{ link('owners/save', $Page) }}"  ajax="true" data-xf-init="attachment-manager thread-edit-form"
		 data-item-selector=".js-itemPage-{$item.item_id}{{ $Page.isUpdate() ? '-' . $Page->page_id : '-' . $xf.visitor.user_id }}">
 
	<xf:hiddenval name="attachment_time">{$attachment_time}</xf:hiddenval>
	
	<xf:hiddenval name="item_id">{$item.item_id}</xf:hiddenval>
	<div class="block-container">
		<div class="block-body">
			
		
		<div class="js-inlineNewPostFields">
			
		<xf:textboxrow name="title" value="{$Page.title}" maxlength="{{ max_length($Page, 'title') }}" autofocus="true"
				label="{{ phrase('title') }}" />
			
		<xf:editorrow name="about" value="{$Page.Detail.about}" 
				label="{{ phrase('bh_page_about') }}" />
		
		<xf:comment>
		<xf:editorrow name="attachment" value="{$Page.Detail.attachment}" 
				label="{{ phrase('bh_page_attachment') }}" />
		
		<xf:editorrow name="customizations" value="{$Page.Detail.customizations}" 
				label="{{ phrase('bh_page_customizations') }}" />
		</xf:comment>
			
		</div>
			
			<xf:formrow>
				<xf:macro template="helper_attach_upload" name="upload_block" arg-attachmentData="{$attachmentData}" />
			</xf:formrow>
	</div>
		<xf:submitrow sticky="true" icon="save" />
			
	</div>

</xf:form>]]></template>
  <template type="public" title="bh_item_rate" version_id="3000700" version_string="3.0.7 Alpha"><![CDATA[<xf:title>{{ phrase('bh_rate_this_item') }}</xf:title>

<xf:breadcrumb source="$item.getBreadcrumbs()" />

<xf:js src="xf/thread.js" min="1" />

<xf:form action="{{ link('bh-item/rate', $item) }}" 
		 class="block" 
		 ajax="true" 
		 data-xf-init="attachment-manager thread-edit-form"
		 data-item-selector=".js-itemReview-{$item.item_id}{{ $existingRating ? '-' . $existingRating->item_rating_id : '-' . $xf.visitor.user_id}}">
	
	<div class="block-container">
		<div class="block-body">
			<xf:if is="$existingRating">
				<xf:inforow rowtype="confirm">
					{{ phrase('bh_you_have_already_rated_this_item_rerating_remove_existing') }}
				</xf:inforow>
			</xf:if>
			
			<xf:macro template="rating_macros" name="rating" arg-currentRating="{{$existingRating.rating}}" />
			
		
				<xf:editorrow name="message" value="{$existingRating.message}" data-min-height="100"
					label="{{ phrase('bh_review') }}"
					data-xf-init="min-length"
					data-min-length="{$xf.options.bh_MinimumReviewLength}"
					data-allow-empty="{{ $xf.options.bh_ReviewRequired ? 'false' : 'true' }}"
					data-toggle-target="#js-resourceReviewLength"
					maxlength="{$xf.options.messageMaxLength}"
					hint="{{ $xf.options.bh_ReviewRequired ? phrase('required') : '' }}" >
	
				<xf:explain>
					{{ phrase('bh_explain_why_youre_giving_this_rating') }}
					<xf:if is="$xf.options.bh_ReviewRequired">
						{{ phrase('bh_review_is_required') }}
					</xf:if>
					<xf:if is="$xf.options.bh_MinimumReviewLength">
						<span id="js-resourceReviewLength">{{ phrase('bh_your_review_must_be_at_least_x_characters', {'min': $xf.options.bh_MinimumReviewLength}) }}</span>
					</xf:if>
				</xf:explain>
			</xf:editorrow>
			
			<xf:formrow>
				<xf:macro template="helper_attach_upload" name="upload_block" arg-attachmentData="{$attachmentData}" />
			</xf:formrow>

		</div>
		<xf:submitrow submit="{{ phrase('submit_rating') }}" icon="rate" />
	</div>
</xf:form>]]></template>
  <template type="public" title="bh_item_review_macros" version_id="3030000" version_string="3.3.0 Alpha"><![CDATA[<xf:macro name="review_simple" arg-review="!" arg-item="" arg-route="bh-item/review">
	<xf:css src="message.less" />
	<xf:css src="bh_item_attachment_list.less" />
	
	
	<span class="u-anchorTarget" id="item-review-{$review.item_rating_id}"></span>
	
	<div class="contentRow js-itemReview js-itemReview-{$item.item_id}-{$review.item_rating_id}" id="js-itemReview-{$review.item_rating_id}">
		<div class="contentRow-figure">
			<xf:avatar user="{{ $review.User }}" size="xxs" />
		</div>
		<div class="contentRow-main contentRow-main--close">
			<div class="contentRow-lesser">
				<xf:macro template="rating_macros" name="stars" arg-rating="{$review.rating}" arg-class="ratingStars--smaller" /> 
			</div>
			<div class="contentRow-minor contentRow-minor--smaller">
				<ul class="listInline listInline--bullet">
					<li>
							{{ $review.User.username ?: phrase('deleted_member') }}
					</li>
					<li><xf:date time="{$review.rating_date}" /></li>
					<xf:if is="$item is not empty">
						<li><a href="{{ link('bh-item', $item) }}" target="_blank">{{$item.item_title}}</a> {{$item.brand_title}}</li>
					</xf:if>
				</ul>
			</div>
			
			<xf:if is="$review.rating_state == 'deleted'">
				<div class="messageNotice messageNotice--deleted">
					<xf:macro template="deletion_macros" name="notice" arg-log="{$review.DeletionLog}" />
				</div>
			</xf:if>
			<div class="contentRow-lesser">{{ bb_code($review.message, 'message', $review) }}</div>
	
			<xf:if is="$review.Attachment is not empty">
				
				<xf:macro name="reviewAttachments" arg-review="{$review}" />
				
				
				<xf:comment>
					<xf:macro template="message_macros" name="attachments"
						arg-attachments="{$review.Attachment}"
						arg-message="{$review}"
						arg-canView="{{ $review.canViewAttachments() }}" />
				</xf:comment>
			
			</xf:if>
			
			
		<xf:if contentcheck="true">
			<div class="actionBar-set actionBar-set--internal">
				<xf:contentcheck>

					<xf:set var="$hasActionBarMenu" value="{{ false }}" />
					<xf:if is="$review.canDelete('soft')">
						<a href="{{ link({$route}.'/delete', $review) }}"
						   class="actionBar-action actionBar-action--delete actionBar-action--menuItem"
						   data-xf-click="overlay" data-cache="false">
							{{ phrase('delete') }}
						</a>
						<xf:set var="$hasActionBarMenu" value="{{ true }}" />
					</xf:if>
					<xf:if is="$review.rating_state == 'deleted' AND $review.canUndelete()">
						<a href="{{ link({$route}.'/undelete', $review) }}"
						   class="actionBar-action actionBar-action--undelete actionBar-action--menuItem"
						   data-xf-click="overlay" data-cache="false">
							{{ phrase('undelete') }}
						</a>
						<xf:set var="$hasActionBarMenu" value="{{ true }}" />
					</xf:if>
				</xf:contentcheck>
			</div>
		</xf:if>
	
			<xf:if is="$review.canReact()">
				<xf:extension name="footer">
					<xf:macro name="review_footer" arg-review="{$review}" arg-route="{$route}"  />
				</xf:extension>
			</xf:if>
						
		</div>
	</div>

</xf:macro>


<xf:macro name="reviewAttachments" arg-review="!">
		<xf:macro template="lightbox_macros" name="setup" arg-canViewAttachments="true" />
			<div class="itemList itemList--strip js-filmStrip" style="justify-content: start;">
				<xf:foreach loop="$review.Attachment" value="$attach">
					
					<div class="js-filmStrip-item itemList-item">						
						<a class="file-preview js-lbImage" href="{$attach.direct_url}" target="_blank">
							<span class="xfmgThumbnail xfmgThumbnail--image xfmgThumbnail--fluid xfmgThumbnail--iconSmallest">
								<img class="xfmgThumbnail-image" src="{{$attach.thumbnail_url}}" alt="{$attach.filename}" loading="lazy" />
								<span class="xfmgThumbnail-icon"></span>
							</span>
						</a>
					</div>
				</xf:foreach>
			</div>
</xf:macro>


<xf:macro name="review_footer" arg-review="!" arg-route="!">
	<footer class="message-footer">
		<xf:if contentcheck="true">
			<div class="message-actionBar actionBar">
				
				<xf:contentcheck>
					<xf:macro name="review_action_bar" arg-review="{$review}" arg-route="{$route}" />
				</xf:contentcheck>
				
			</div>
		</xf:if>

		<div class="reactionsBar js-review-reactionsList {{ $review.reactions ? 'is-active' : '' }}">
			<xf:reactions content="{$review}" link="{$route}/reactions" />
		</div>

		<div class="js-historyTarget message-historyTarget toggleTarget" data-href="trigger-href"></div>
	</footer>
</xf:macro>


<xf:macro name="review_action_bar" arg-review="!" arg-route="!">
	
	<xf:if contentcheck="true">
		<div class="actionBar-set actionBar-set--external">
			<xf:contentcheck>
				<xf:react content="{$review}" link="{$route}/react" list="< .js-itemReview | .js-review-reactionsList" />
			</xf:contentcheck>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="bh_item_reviews" version_id="3020000" version_string="3.2.0 Alpha"><![CDATA[<xf:css src="bh_brandHub_list.less" />

<xf:title class="bh-title">{{ $item.Brand.brand_title }} {{ $item.item_title }} Reviews</xf:title>
<xf:breadcrumb source="$item.getBreadcrumbs()" />


<div class="block">
	<xf:comment>
	<xf:if is="$itemReviews is not empty">
		<div class="block-outer">
			<xf:macro template="bh_filter_macros" name="quick_filter" arg-key="bh_review"
					  arg-ajax="{{ link('bh-item/reviews', $item) }}"
					  arg-class="block-outer-opposite" />
		</div>
	</xf:if>
	</xf:comment>
	
	<div class="block-container">
		<xf:macro template="bh_overview_macros" name="list_filter_bar"
				  arg-filters="{$filters}"
				  arg-baseLinkPath="bh-item/reviews"
				  arg-content="{$item}" />
		
		<xf:comment>
			<div class="block-header">
				<h3 class="block-minorHeader">{{ phrase('bh_user_reviews') }} ({{ $item.rating_count|number }})</h3>
				<div class="p-description">{{ phrase('bh_read_what_tractor_by_net_members_thinkabout_the_x_item', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
			</div>
		</xf:comment>
		<div class="block-body block-row block-row--separated">
				
			<xf:macro name="item_reviews" arg-item="{$item}" arg-itemReviews="{$itemReviews}"
					  arg-page="{$page}" arg-perPage="{$perPage}" arg-total="{$total}" arg-filters="{$filters}" />
		</div>
	</div>
</div>


<xf:macro name="item_reviews" arg-item="!" arg-itemReviews="!" arg-visitorReview="" arg-page="!" arg-perPage="!" arg-total="!" arg-filters="">
	
	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
				link="bh-item/reviews" data="{$item}" params="{$filters}"
				wrapperclass="block-outer" />
	<div class="block-body block-row"></div>
	
	<xf:if is="$visitorReview">
		<h6 class="block-row block-row--separated">{{ phrase('bh_your_x_item_reviews', {'brandTitle': $item.brand_title, 'itemTitle': $item.item_title}) }}</h6><br>
		<xf:macro template="bh_item_review_macros" name="review_simple"
				  arg-review="{$visitorReview}" arg-item="{$item}" />
		
		<h6 class="block-row block-row--separated">{{ phrase('bh_most_recent_x_item_reviews', {'brandTitle': $item.brand_title, 'itemTitle': $item.item_title}) }}</h6><br>
	<xf:else />
		<span class="js-itemReview-{$item.item_id}-{$xf.visitor.user_id}"></span>
	</xf:if>
	
	<xf:if is="$itemReviews is not empty">
		<xf:foreach loop="$itemReviews" value="$review">
			<xf:macro template="bh_item_review_macros" name="review_simple"
					  arg-review="{$review}" arg-item="{$item}" />
			<br>
		</xf:foreach>

		<div class="block-footer">
			<span class="block-footer-counter">{{ display_totals($itemReviews, $total) }}</span>
		</div>
		<xf:else />
		<div class="blockMessage">{{ phrase('no_results_found') }}</div>
	</xf:if>

	
	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
				link="bh-item/reviews" data="{$item}" params="{$filters}"
				wrapperclass="block-outer block-outer--after" />
	
</xf:macro>]]></template>
  <template type="public" title="bh_list_ownerPage" version_id="3000800" version_string="3.0.8 Alpha"><![CDATA[<xf:macro template="bh_item_owner_page_all" name="owner_page" arg-item="{$item}" arg-itemPage="{$userItemPage}" />]]></template>
  <template type="public" title="bh_list_review" version_id="3000700" version_string="3.0.7 Alpha"><![CDATA[<xf:macro template="bh_item_review_macros" name="review_simple"
		  arg-review="{$itemReview}" arg-item="{$item}" />]]></template>
  <template type="public" title="bh_member_post_new_owner_page_posts" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:if is="$firstUnshownProfilePost">
	<div class="message message--simple">
		<div class="message-inner">
			<div class="message-cell message-cell--alert">
				{{ phrase('there_more_posts_to_display') }} <a href="{{ link('owner-page-posts', $firstUnshownProfilePost) }}">{{ phrase('view_them') }}</a>
			</div>
		</div>
	</div>
</xf:if>

<xf:foreach loop="$profilePosts" value="$profilePost">
	<xf:if is="$style == 'simple'">
		<div class="block-row">
			<xf:macro template="bh_owner_page_post_macros" name="profile_post_simple"
				arg-profilePost="{$profilePost}" />
		</div>
	<xf:else />
		<xf:macro template="bh_owner_page_post_macros" name="profile_post"
			arg-attachmentData="{$profilePostAttachData.{$profilePost.post_id}}"
			arg-profilePost="{$profilePost}" />
	</xf:if>
</xf:foreach>]]></template>
  <template type="public" title="bh_nav_for_ownerPage" version_id="1000900" version_string="1.0.9 Alpha"><![CDATA[<xf:macro name="navigation" arg-pageSelected="!" arg-total="" arg-route="" arg-brand="" >
	<xf:if is="property('findThreadsNavStyle') == 'tabs'">
		<div class="tabs tabs--standalone">
			<div class="hScroller" data-xf-init="h-scroller">
				<span class="hScroller-scroll">
					<xf:macro name="links"
						arg-pageSelected="{$pageSelected}"
						arg-baseClass="tabs-tab"
						arg-selectedClass="is-active"
						arg-total="{$total}"
						arg-route="{$route}"
						arg-brand="{$brand}"
						 />
				</span>
			</div>
		</div>
	<xf:else />
		<xf:sidenav>
			<div class="block">
				<div class="block-container">
					<h3 class="block-header">{{ phrase('bh_brand_lists') }}</h3>
					<div class="block-body">
						<xf:macro name="links"
							arg-pageSelected="{$pageSelected}"
							arg-baseClass="blockLink"
							arg-selectedClass="is-selected"
							arg-total="{$total}"
							arg-route="{$route}"
							arg-brand="{$brand}"
							 />
					</div>
				</div>
			</div>

		</xf:sidenav>
		<xf:page option="sideNavTitle">{{ phrase('bh_item_lists') }}</xf:page>
	</xf:if>
</xf:macro>

<xf:macro name="links" arg-pageSelected="!" arg-baseClass="!" arg-selectedClass="!" arg-total="" arg-route="" arg-brand="" >
	<a class="{$baseClass} {{ ($pageSelected == 'all') ? {$selectedClass} : '' }}"
		href="{{ link({$route}, $brand) }}" rel="nofollow">{{ phrase('bh_all') }} ({$total}) </a>
	
	<a class="{$baseClass} {{ $pageSelected == 'view_count' ? {$selectedClass} : '' }}"
		href="{{ link({$route}, $brand, {'type': 'view_count'}) }}" rel="nofollow">{{ phrase('bh_most_viewed') }}</a>
	
	<a class="{$baseClass} {{ $pageSelected == 'discussion_count' ? {$selectedClass} : '' }}"
		href="{{ link({$route}, $brand, {'type': 'discussion_count'}) }}" rel="nofollow">{{ phrase('bh_most_discussed') }}</a>
	
</xf:macro>]]></template>
  <template type="public" title="bh_overview_macros" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:macro name="list_filter_bar" arg-filters="!" arg-baseLinkPath="!" arg-content="{{ null }}">
	<xf:set var="$sortOrders" value="{{ {
									 
		'item_id': phrase('bh_item_id'),
		'item_title': phrase('bh_item_title'),
									 
		'brand_id': phrase('bh_brand_id'),
		'brand_title': phrase('bh_brand_title'),
		'discussion_count': phrase('bh_discussions'),
		'view_count': phrase('bh_views'),
		'rating_avg': phrase('bh_rating_avg'),
		'review_count': phrase('bh_reviews'),
		
		'rating': phrase('bh_rating'),
		'rating_date': phrase('bh_rating_date'),
		'reaction_score': phrase('bh_reaction_score'),
									 							 
		'page_id': phrase('bh_page_id')
									 
									 						 						 
	} }}" />

	<div class="block-filterBar">
		<div class="filterBar">
			<xf:if contentcheck="true">
				<ul class="filterBar-filters">
					<xf:contentcheck>
						<xf:if is="$filters.order AND {$sortOrders.{$filters.order}}">
							<li><a href="{{ link($baseLinkPath, $content, $filters|replace({'order': null, 'direction': null})) }}"
								class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('return_to_default_order')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('sort_by:') }}</span>
								{$sortOrders.{$filters.order}}
								<i class="fa {{ $filters.direction == 'asc' ? 'fa-angle-up' : 'fa-angle-down' }}" aria-hidden="true"></i>
								<span class="u-srOnly"><xf:if is="$filters.direction == 'asc'">{{ phrase('ascending') }}<xf:else />{{ phrase('descending') }}</xf:if></span>
							</a></li>
						</xf:if>
					</xf:contentcheck>
				</ul>
			</xf:if>

			<a class="filterBar-menuTrigger" data-xf-click="menu" role="button" tabindex="0" aria-expanded="false" aria-haspopup="true">{{ phrase('filters') }}</a>
			<div class="menu menu--wide" data-menu="menu" aria-hidden="true"
				data-href="{{ link($baseLinkPath . '/filters', $content, $filters?:[]) }}"
				data-load-target=".js-filterMenuBody">
				<div class="menu-content">
					<h4 class="menu-header">{{ phrase('show_only:') }}</h4>
					<div class="js-filterMenuBody">
						<div class="menu-row">{{ phrase('loading...') }}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="bh_ownerPage_delete_confirm" version_id="3000700" version_string="3.0.7 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:js src="xf/thread.js" min="1" />

<xf:form action="{$confirmUrl}" ajax="true" class="block" data-xf-init="thread-edit-form"
		 data-item-selector=".js-itemPage-{$item.item_id}-{$page->page_id}">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{{ phrase('please_confirm_that_you_want_to_delete_following:') }}
				<xf:if is="$contentUrl">
					<strong><a href="{$contentUrl}">{$contentTitle}</a></strong>
				<xf:else />
					<strong>{$contentTitle}</strong>
				</xf:if>
				<xf:if is="$deletionImportantPhrase">
					<div class="blockMessage blockMessage--important blockMessage--iconic">
						{{ phrase_dynamic($deletionImportantPhrase) }}
					</div>
				</xf:if>
			</xf:inforow>
		</div>
		<xf:submitrow rowtype="simple" icon="delete" />
	</div>
</xf:form>]]></template>
  <template type="public" title="bh_ownerPage_filters" version_id="3000800" version_string="3.0.8 Alpha"><![CDATA[<xf:form action="{{ link($route, $content) }}">
	
	<xf:set var="$defaultOrder" value="$xf.options.bh_ownerPageDefaultOrder|split" />
	
	<!--[brandHub:above_sort_by]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('sort_by:') }}
		<div class="inputGroup u-inputSpacer">
			<xf:select name="order" value="{{ $filters.order ?: $defaultOrder.0 }}">
				<xf:option value="page_id">{{ phrase('bh_page_id') }}</xf:option>
				<xf:option value="view_count">{{ phrase('bh_views') }}</xf:option>
				<xf:option value="discussion_count">{{ phrase('bh_discussions') }}</xf:option>
				<xf:option value="reaction_score">{{ phrase('bh_reaction_score') }}</xf:option>			
			</xf:select>
			<span class="inputGroup-splitter"></span>
			<xf:select name="direction" value="{{ $filters.direction ?: 'desc' }}">
				<xf:option value="desc">{{ phrase('descending') }}</xf:option>
				<xf:option value="asc">{{ phrase('ascending') }}</xf:option>
			</xf:select>
		</div>
	</div>

	<div class="menu-footer">
		<span class="menu-footer-controls">
			<xf:button type="submit" class="button--primary">{{ phrase('filter') }}</xf:button>
		</span>
	</div>
	<xf:hiddenval name="apply">1</xf:hiddenval>
</xf:form>]]></template>
  <template type="public" title="bh_ownerPage_posts" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<ul class="tabPanes js-memberTabPanes">
	<!--[XF:tab_panes:start]-->
	<xf:if is="$ownerPage.canViewPostsOnOwnerPage()">
		<li class="is-active" role="tabpanel" id="profile-posts">
			<xf:js src="xf/inline_mod.js" min="1" />

			<xf:macro template="lightbox_macros" name="setup" arg-canViewAttachments="{$canViewAttachments}" />

			<div class="block block--messages"
				data-xf-init="lightbox inline-mod"
				data-type="bh_ownerPage_post"
				data-href="{{ link('inline-mod') }}">

				<div class="block-container">
					<div class="block-body js-replyNewMessageContainer">
						<xf:if is="$ownerPage.canPostOnOwnerPage()">
							<xf:set var="$firstProfilePost" value="{$profilePosts|first}" />
							<xf:macro template="bh_owner_page_post_macros" name="quick_post"
								arg-ownerPage="{$ownerPage}"
								arg-lastDate="{{ $firstProfilePost.post_date ?: 0 }}"
								arg-containerSelector="< .js-replyNewMessageContainer"
								arg-attachmentData="{$attachmentData}" />
						</xf:if>

						<xf:if is="$profilePosts is not empty">
							<xf:foreach loop="$profilePosts" value="$profilePost">
								<xf:macro template="bh_owner_page_post_macros"
									name="{{ $profilePost.message_state == 'deleted' ? 'profile_post_deleted' : 'profile_post' }}"
									arg-attachmentData="{$profilePostAttachData.{$profilePost.post_id}}"
									arg-profilePost="{$profilePost}" />
							</xf:foreach>
						<xf:else />
							<div class="block-row js-replyNoMessages">{{ phrase('there_no_messages_on_xs_owner_page_yet', {'name': $ownerPage.title}) }}</div>
						</xf:if>
					</div>
				</div>

				<div class="block-outer block-outer--after">
					<xf:pagenav
						page="{$page}" perpage="{$perPage}" total="{$total}"
						link="owners" data="{$ownerPage}"
						wrapperclass="block-outer-main" />
					<div class="block-outer-opposite">
						<xf:showignored />
						<xf:if is="$canInlineMod">
							<xf:macro template="inline_mod_macros" name="button" />
						</xf:if>
					</div>
				</div>
			</div>
		</li>
	</xf:if>
</ul>]]></template>
  <template type="public" title="bh_owner_page_post" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:title>{{ phrase('owner_page_post_for_x', {'username': $profilePost.OwnerPage.title}) }}</xf:title>

<xf:if is="$canInlineMod">
	<xf:js src="xf/inline_mod.js" min="1" />
</xf:if>

<xf:macro template="lightbox_macros" name="setup" arg-canViewAttachments="{$profilePost.canViewAttachments()}" />

<div class="block" data-xf-init="lightbox {{ $canInlineMod ? 'inline-mod' : '' }}" data-type="bh_ownerPage_post" data-href="{{ link('inline-mod') }}">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="bh_owner_page_post_macros" name="profile_post"
				arg-attachmentData="{$profilePostAttachData.{$profilePost.post_id}}"
				arg-profilePost="{$profilePost}"
				arg-showTargetUser="{$showTargetUser}"
				arg-allowInlineMod="{$allowInlineMod}" />
		</div>
	</div>
</div>]]></template>
  <template type="public" title="bh_owner_page_post_comment" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:head option="metaNoindex"><meta name="robots" content="noindex" /></xf:head>

<div class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="bh_owner_page_post_macros" name="comment"
				arg-comment="{$comment}"
				arg-profilePost="{$profilePost}" />
		</div>
	</div>
</div>]]></template>
  <template type="public" title="bh_owner_page_post_comment_delete" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:title>{{ phrase('delete_owner_page_post_comment') }}</xf:title>

<xf:breadcrumb href="{{ link('owners', $profilePost.OwnerPage) }}">{$profilePost.OwnerPage.title}</xf:breadcrumb>
<xf:breadcrumb href="{{ link('owner-page-posts', $profilePost) }}">{{ phrase('owner_page_post_by_x', {'name': $profilePost.username}) }}</xf:breadcrumb>

<xf:form action="{{ link('owner-page-posts/comments/delete', $comment) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="helper_action" name="delete_type" arg-canHardDelete="{$comment.canDelete('hard')}" />

			<xf:if is="$comment.canSendModeratorActionAlert()">
				<xf:macro template="helper_action" name="author_alert" />
			</xf:if>
		</div>
		<xf:submitrow icon="delete" />
	</div>
	<xf:redirect />
</xf:form>]]></template>
  <template type="public" title="bh_owner_page_post_comment_edit" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:title>{{ phrase('edit_owner_page_post_comment') }}</xf:title>

<xf:breadcrumb href="{{ link('owners', $profilePost.OwnerPage) }}">{$profilePost.OwnerPage.title}</xf:breadcrumb>
<xf:breadcrumb href="{{ link('owner-page-posts', $profilePost) }}">{{ phrase('owner_page_post_by_x', {'name': $profilePost.username}) }}</xf:breadcrumb>

<xf:form action="{{ link('owner-page-posts/comments/edit', $comment) }}"
	data-xf-init="attachment-manager" class="{{ !$quickEdit ? 'block' : '' }}" ajax="true">
	<div class="{{ !$quickEdit ? 'block-container' : '' }}">
		<div class="{{ !$quickEdit ? 'block-body' : '' }}">
			<xf:editorrow name="message"
				value="{$comment.message}"
				attachments="{{ $attachmentData ? $attachmentData.attachments : [] }}"
				rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}"
				label="{{ phrase('message') }}"
				data-min-height="{{ $quickEdit ? 40 : 100 }}"
				rendereropts="{{ {'treatAsStructuredText': true} }}" />

			<xf:if is="$attachmentData">
				<xf:formrow rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}">
					<xf:macro template="helper_attach_upload" name="upload_link_from_data"
						arg-attachmentData="{$attachmentData}" />
					<xf:macro template="helper_attach_upload" name="uploaded_files_list"
						arg-attachments="{$attachmentData.attachments}"
						arg-class="attachmentUploads--spaced" />
				</xf:formrow>
			</xf:if>

			<xf:if is="$comment.canSendModeratorActionAlert()">
				<xf:formrow rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}">
					<xf:macro template="helper_action" name="author_alert" arg-row="{{ false }}" />
				</xf:formrow>
			</xf:if>
		</div>
		<xf:if is="$quickEdit">
			<xf:formrow rowtype="fullWidth noLabel">
				<xf:button type="submit" class="button--primary" icon="save" />
				<xf:button class="js-cancelButton">{{ phrase('button.cancel') }}</xf:button>
			</xf:formrow>
		<xf:else />
			<xf:submitrow icon="save" />
		</xf:if>
	</div>
</xf:form>]]></template>
  <template type="public" title="bh_owner_page_post_comment_edit_new_comment" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:macro template="bh_owner_page_post_macros" name="comment" arg-profilePost="{$profilePost}" arg-comment="{$comment}" />]]></template>
  <template type="public" title="bh_owner_page_post_comments" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:head option="metaNoindex"><meta name="robots" content="noindex" /></xf:head>

<xf:if is="$loadMore">
	<div class="message-responseRow js-commentLoader">
		<a href="{{ link('owner-page-posts/load-previous', $profilePost, {'before': $firstCommentDate}) }}"
			data-xf-click="comment-loader"
			data-container=".js-commentLoader"
			rel="nofollow">{{ phrase('view_previous_comments...') }}</a>
	</div>
</xf:if>

<xf:foreach loop="$comments" value="$comment">
	<xf:macro template="bh_owner_page_post_macros" name="comment"
		arg-comment="{$comment}"
		arg-profilePost="{$profilePost}" />
</xf:foreach>]]></template>
  <template type="public" title="bh_owner_page_post_delete" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:title>{{ phrase('delete_owner_page_post') }}</xf:title>

<xf:breadcrumb href="{{ link('owners', $ownerPage) }}">{$ownerPage.title}</xf:breadcrumb>

<xf:form action="{{ link('owner-page-posts/delete', $profilePost) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="helper_action" name="delete_type" arg-canHardDelete="{$profilePost.canDelete('hard')}" />

			<xf:if is="$profilePost.canSendModeratorActionAlert()">
				<xf:macro template="helper_action" name="author_alert" />
			</xf:if>
		</div>
		<xf:submitrow icon="delete" />
	</div>
	<xf:redirect />
</xf:form>]]></template>
  <template type="public" title="bh_owner_page_post_edit" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:title>{{ phrase('edit_owner_page_post') }}</xf:title>

<xf:breadcrumb href="{{ link('owners', $ownerPage) }}">{$ownerPage.title}</xf:breadcrumb>

<xf:form action="{{ link('owner-page-posts/edit', $profilePost) }}" data-xf-init="attachment-manager" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<span class="u-anchorTarget js-editContainer"></span>

			<xf:editorrow name="message"
				value="{$profilePost.message}"
				attachments="{{ $attachmentData ? $attachmentData.attachments : [] }}"
				rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}"
				label="{{ phrase('message') }}"
				data-min-height="{{ $quickEdit ? 40 : 100 }}"
				rendereropts="{{ {'treatAsStructuredText': true} }}" />

			<xf:if is="$attachmentData">
				<xf:formrow rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}">
					<xf:macro template="helper_attach_upload" name="upload_link_from_data"
						arg-attachmentData="{$attachmentData}" />
					<xf:macro template="helper_attach_upload" name="uploaded_files_list"
						arg-attachments="{$attachmentData.attachments}"
						arg-class="attachmentUploads--spaced" />
				</xf:formrow>
			</xf:if>

			<xf:if is="$profilePost.canSendModeratorActionAlert()">
				<xf:formrow rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}">
					<xf:macro template="helper_action" name="author_alert" arg-row="{{ false }}" />
				</xf:formrow>
			</xf:if>
		</div>
		<xf:submitrow icon="save" sticky="true" rowtype="{{ $quickEdit ? 'simple' : '' }}">
			<xf:html>
				<xf:if is="$quickEdit">
					<xf:button class="js-cancelButton">{{ phrase('button.cancel') }}</xf:button>
				</xf:if>
			</xf:html>
		</xf:submitrow>
	</div>

	<xf:if is="$noInlineMod">
		<xf:hiddenval name="_xfNoInlineMod">1</xf:hiddenval>
	</xf:if>
</xf:form>]]></template>
  <template type="public" title="bh_owner_page_post_edit_new_post" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:macro template="bh_owner_page_post_macros" name="profile_post"
	arg-profilePost="{$profilePost}"
	arg-allowInlineMod="{{ $noInlineMod ? false : true }}"
	arg-attachmentData="{$attachmentData}" />]]></template>
  <template type="public" title="bh_owner_page_post_macros" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:macro name="attribution" arg-profilePost="!" arg-showTargetUser="{{ false }}">
	<xf:if is="$showTargetUser AND $profilePost.user_id != $profilePost.OwnerPage.user_id">
		<xf:username user="$profilePost.User" rich="true" defaultname="{$profilePost.username}" aria-hidden="true" />
		<xf:fa icon="{{ $xf.isRtl ? 'fa-caret-left' : 'fa-caret-right' }} u-muted" />
		<xf:username user="$profilePost.OwnerPage.User" rich="true" defaultname="{{ phrase('unknown') }}" aria-hidden="true" />
		<span class="u-srOnly">{{ phrase('x_wrote_on_ys_profile', {
			'name': ($profilePost.User.username ?: {$profilePost.username}),
			'profile': ($profilePost.OwnerPage.User.username ?: phrase('unknown'))
		}) }}</span>
	<xf:else />
		<xf:username user="$profilePost.User" rich="true" defaultname="{$profilePost.username}" />
	</xf:if>
</xf:macro>

<xf:macro name="profile_post"
	arg-profilePost="!"
	arg-attachmentData="{{ null }}"
	arg-showTargetUser="{{ false }}"
	arg-allowInlineMod="{{ true }}">

	<xf:css src="message.less" />
	<xf:js src="xf/comment.js" min="1" />

	<article class="message message--simple {{ $profilePost.isIgnored() ? 'is-ignored' : '' }} js-inlineModContainer"
		data-author="{{ $profilePost.User.username ?: $profilePost.username }}"
		data-content="profile-post-{$profilePost.post_id}"
		id="js-profilePost-{$profilePost.post_id}">

		<span class="u-anchorTarget" id="profile-post-{$profilePost.post_id}"></span>
		<div class="message-inner">
			<div class="message-cell message-cell--user">
				<xf:macro template="message_macros" name="user_info_simple" arg-user="{$profilePost.User}" arg-fallbackName="{$profilePost.username}" />
			</div>
			<div class="message-cell message-cell--main">
				<div class="message-main js-quickEditTarget">
					<div class="message-content js-messageContent">
						<header class="message-attribution message-attribution--plain">
							<ul class="listInline listInline--bullet">
								<li class="message-attribution-user">
									<xf:avatar user="$profilePost.User" size="xxs" />
									<h4 class="attribution"><xf:macro name="attribution"
										arg-profilePost="{$profilePost}"
										arg-showTargetUser="{$showTargetUser}" /></h4>
								</li>
								<li><a href="{{ link('owner-page-posts', $profilePost) }}" class="u-concealed" rel="nofollow"><xf:date time="$profilePost.post_date" /></a></li>
							</ul>
						</header>

						<xf:if is="$profilePost.message_state == 'deleted'">
							<div class="messageNotice messageNotice--deleted">
								<xf:macro template="deletion_macros" name="notice" arg-log="{$profilePost.DeletionLog}" />
							</div>
						<xf:elseif is="$profilePost.message_state == 'moderated'" />
							<div class="messageNotice messageNotice--moderated">
								{{ phrase('this_message_is_awaiting_moderator_approval_and_is_invisible_to_normal') }}
							</div>
						</xf:if>
						<xf:if is="$profilePost.warning_message">
							<div class="messageNotice messageNotice--warning">
								{$profilePost.warning_message}
							</div>
						</xf:if>
						<xf:if is="$profilePost.isIgnored()">
							<div class="messageNotice messageNotice--ignored">
								{{ phrase('you_are_ignoring_content_by_this_member') }}
							</div>
						</xf:if>

						<div class="lbContainer js-lbContainer"
							data-lb-id="profile-post-{$profilePost.post_id}"
							data-lb-caption-desc="{{ $profilePost.User ? $profilePost.User.username : $profilePost.username }} &middot; {{ date_time($profilePost.post_date) }}">
							<article class="message-body">
								{{ bb_code($profilePost.message, 'bh_ownerPage_post', $profilePost) }}
							</article>

							<xf:if is="$profilePost.attach_count">
								<xf:macro template="message_macros" name="attachments"
									arg-attachments="{$profilePost.Attachments}"
									arg-message="{$profilePost}"
									arg-canView="{{ $xf.visitor.hasPermission('ownerPagePost', 'viewAttachment') }}" />
							</xf:if>
						</div>
					</div>

					<footer class="message-footer">
						<div class="message-actionBar actionBar">
							<xf:if contentcheck="true">
								<div class="actionBar-set actionBar-set--external">
								<xf:contentcheck>
									<xf:react content="{$profilePost}" link="owner-page-posts/react" list="< .message | .js-reactionsList" />

									<xf:if is="$profilePost.canComment() AND property('ownerPagePostCommentToggle')">
										<a class="actionBar-action actionBar-action--reply"
											data-xf-click="comment-toggle"
											data-target=".js-commentsTarget-{$profilePost.post_id}"
											data-scroll-to="true"
											role="button"
											tabindex="0">{{ phrase('comment') }}</a>
									</xf:if>
								</xf:contentcheck>
								</div>
							</xf:if>

							<xf:if contentcheck="true">
								<div class="actionBar-set actionBar-set--internal">
								<xf:contentcheck>
									<xf:if is="{$allowInlineMod} AND $profilePost.canUseInlineModeration()">
										<span class="actionBar-action actionBar-action--inlineMod">
											<xf:checkbox standalone="true">
												<xf:option value="{$profilePost.post_id}"
													class="js-inlineModToggle"
													data-xf-init="tooltip"
													title="{{ phrase('select_for_moderation') }}"
													label="{{ phrase('select_for_moderation') }}"
													hiddenlabel="true" />
											</xf:checkbox>
										</span>
									</xf:if>
									<xf:if is="$profilePost.canReport()">
										<a href="{{ link('owner-page-posts/report', $profilePost) }}" class="actionBar-action actionBar-action--report" data-xf-click="overlay">{{ phrase('report_verb') }}</a>
									</xf:if>

									<xf:set var="$hasActionBarMenu" value="{{ false }}" />
									<xf:if is="$profilePost.canEdit()">
										<xf:js src="xf/message.js" min="1" />
										<a href="{{ link('owner-page-posts/edit', $profilePost) }}"
											class="actionBar-action actionBar-action--edit actionBar-action--menuItem"
											data-xf-click="quick-edit"
											data-editor-target="#js-profilePost-{$profilePost.post_id} .js-quickEditTarget"
											data-no-inline-mod="{{ !$allowInlineMod ? 1 : 0 }}"
											data-menu-closer="true">{{ phrase('edit') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$profilePost.canDelete('soft')">
										<a href="{{ link('owner-page-posts/delete', $profilePost) }}"
											class="actionBar-action actionBar-action--delete actionBar-action--menuItem"
											data-xf-click="overlay">{{ phrase('delete') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$profilePost.message_state == 'deleted' AND $profilePost.canUndelete()">
										<a href="{{ link('owner-page-posts/undelete', $profilePost) }}" data-xf-click="overlay"
											class="actionBar-action actionBar-action--undelete actionBar-action--menuItem">{{ phrase('undelete') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$profilePost.canCleanSpam()">
										<a href="{{ link('spam-cleaner', $profilePost) }}"
											class="actionBar-action actionBar-action--spam actionBar-action--menuItem"
											data-xf-click="overlay">{{ phrase('spam') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$xf.visitor.canViewIps() && $profilePost.ip_id">
										<a href="{{ link('owner-page-posts/ip', $profilePost) }}"
											class="actionBar-action actionBar-action--ip actionBar-action--menuItem"
											data-xf-click="overlay">{{ phrase('ip') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$profilePost.canWarn()">
										<a href="{{ link('owner-page-posts/warn', $profilePost) }}"
											class="actionBar-action actionBar-action--warn actionBar-action--menuItem">{{ phrase('warn') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									<xf:elseif is="$profilePost.warning_id && $xf.visitor.canViewWarnings()" />
										<a href="{{ link('warnings', {'warning_id': $profilePost.warning_id}) }}"
											class="actionBar-action actionBar-action--warn actionBar-action--menuItem"
											data-xf-click="overlay">{{ phrase('view_warning') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>

									<xf:if is="$hasActionBarMenu">
										<a class="actionBar-action actionBar-action--menuTrigger"
											data-xf-click="menu"
											title="{{ phrase('more_options')|for_attr }}"
											role="button"
											tabindex="0"
											aria-expanded="false"
											aria-haspopup="true">&#8226;&#8226;&#8226;</a>
										<div class="menu" data-menu="menu" aria-hidden="true" data-menu-builder="actionBar">
											<div class="menu-content">
												<h4 class="menu-header">{{ phrase('more_options') }}</h4>
												<div class="js-menuBuilderTarget"></div>
											</div>
										</div>
									</xf:if>
								</xf:contentcheck>
								</div>
							</xf:if>

						</div>

						<section class="message-responses js-messageResponses">
							<div class="message-responseRow message-responseRow--reactions js-reactionsList {{ $profilePost.reactions ? 'is-active' : '' }}"><xf:if is="$profilePost.reactions">
								<xf:reactions content="{$profilePost}" link="owner-page-posts/reactions" />
							</xf:if></div>

							<xf:if is="$profilePost.LatestComments is not empty">
								<xf:if is="$profilePost.hasMoreComments()">
									<div class="message-responseRow u-jsOnly js-commentLoader">
										<a href="{{ link('owner-page-posts/load-previous', $profilePost, {'before': $profilePost.LatestComments.first().comment_date}) }}"
											data-xf-click="comment-loader"
											data-container=".js-commentLoader"
											rel="nofollow">{{ phrase('view_previous_comments...') }}</a>
									</div>
								</xf:if>
								<div class="js-replyNewMessageContainer">
									<xf:foreach loop="$profilePost.LatestComments" value="$comment">
										<xf:macro
											name="{{ $comment.message_state == 'deleted' ? 'comment_deleted' : 'comment' }}"
											arg-comment="{$comment}"
											arg-profilePost="{$profilePost}" />
									</xf:foreach>
								</div>
							<xf:else />
								<div class="js-replyNewMessageContainer"></div>
							</xf:if>

							<xf:if is="$profilePost.canComment()">
								<xf:js src="xf/message.js" min="1" />
								<div class="message-responseRow js-commentsTarget-{$profilePost.post_id} {{ property('ownerPagePostCommentToggle') ? 'toggleTarget' : '' }}">
									<xf:form action="{{ link('owner-page-posts/add-comment', $profilePost) }}" ajax="true" class="comment"
										data-xf-init="attachment-manager quick-reply"
										data-message-container="< .js-messageResponses | .js-replyNewMessageContainer">
										<div class="comment-inner">
											<span class="comment-avatar">
												<xf:avatar user="{$xf.visitor}" size="xxs" />
											</span>
											<div class="comment-main">
												<div class="editorPlaceholder" data-xf-click="editor-placeholder">
													<div class="editorPlaceholder-editor is-hidden">
														<xf:macro template="quick_reply_macros" name="editor"
															arg-attachmentData="{$attachmentData}"
															arg-minHeight="40"
															arg-placeholder="{{ phrase('write_comment...') }}"
															arg-submitText="{{ phrase('post_comment') }}"
															arg-deferred="{{ true }}"
															arg-simpleSubmit="{{ true }}"
														/>
													</div>
													<div class="editorPlaceholder-placeholder">
														<div class="input"><span class="u-muted"> {{ phrase('write_comment...') }}</span></div>
													</div>
												</div>
											</div>
										</div>
										<xf:set var="$lastProfilePostComment" value="{$profilePost.LatestComments|last}" />
										<xf:hiddenval name="last_date">{$lastProfilePostComment.comment_date}</xf:hiddenval>
									</xf:form>
								</div>
							</xf:if>
						</section>
					</footer>
				</div>
			</div>
		</div>
	</article>
</xf:macro>

<xf:macro name="profile_post_deleted"
	arg-profilePost="!"
	arg-showTargetUser="{{ false }}">

	<xf:css src="message.less" />
	<div class="message message--simple{{ $profilePost.isIgnored() ? ' is-ignored' : '' }} js-inlineModContainer"
		data-author="{{ $profilePost.User.username ?: $profilePost.username }}"
		data-content="profile-post-{$profilePost.post_id}">

		<span class="u-anchorTarget" id="profile-post-{$profilePost.post_id}"></span>
		<div class="message-inner">
			<div class="message-cell message-cell--user">
				<xf:macro template="message_macros" name="user_info_simple" arg-user="{$profilePost.User}" arg-fallbackName="{$profilePost.username}" />
			</div>
			<div class="message-cell message-cell--main">
				<div class="message-attribution message-attribution--plain">
					<ul class="listInline listInline--bullet">
						<li class="message-attribution-user">
							<xf:avatar user="$profilePost.User" size="xxs" />
							<h4 class="attribution"><xf:macro name="attribution"
								arg-profilePost="{$profilePost}"
								arg-showTargetUser="{$showTargetUser}" /></h4>
						</li>
						<li><xf:date time="$profilePost.post_date" /></li>
					</ul>
				</div>

				<div class="messageNotice messageNotice--deleted">
					<xf:macro template="deletion_macros" name="notice" arg-log="{$profilePost.DeletionLog}" />

					<a href="{{ link('owner-page-posts/show', $profilePost) }}" class="u-jsOnly" data-xf-click="inserter" data-replace="[data-content=profile-post-{$profilePost.post_id}]">{{ phrase('show...') }}</a>

					<xf:if is="$profilePost.canUseInlineModeration()">
						<span style="display: none">
							<!-- this can be actioned on the full post -->
							<xf:checkbox standalone="true">
								<xf:option value="{$profilePost.post_id}" class="js-inlineModToggle"
									hiddenlabel="true" />
							</xf:checkbox>
						</span>
					</xf:if>
				</div>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="profile_post_simple"
	arg-profilePost="!"
	arg-limitHeight="{{ false }}">

	<div class="contentRow">
		<div class="contentRow-figure">
			<xf:avatar user="$profilePost.User" size="xxs" defaultname="{$profilePost.username}" />
		</div>
		<div class="contentRow-main contentRow-main--close">
			<div class="contentRow-lesser">
				<xf:macro name="attribution"
					arg-profilePost="{$profilePost}"
					arg-showTargetUser="{{ true }}" />
			</div>

			<xf:if is="$limitHeight">
				<div class="contentRow-faderContainer">
					<div class="contentRow-faderContent">
						{{ bb_code($profilePost.message, 'bh_ownerPage_post', $profilePost, {'simpleUnfurl': true}) }}
					</div>
					<div class="contentRow-fader"></div>
				</div>
			<xf:else />
				{{ bb_code($profilePost.message, 'bh_ownerPage_post', $profilePost, {'simpleUnfurl': true}) }}
			</xf:if>

			<div class="contentRow-minor">
				<a href="{{ link('owner-page-posts', $profilePost) }}" rel="nofollow" class="u-concealed"><xf:date time="{$profilePost.post_date}" /></a>
				<a href="{{ link('owner-page-posts', $profilePost) }}" rel="nofollow" class="contentRow-extra" data-xf-click="overlay" data-xf-init="tooltip" title="{{ phrase('interact')|for_attr }}">&#8226;&#8226;&#8226;</a>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="comment"
	arg-comment="!"
	arg-profilePost="!">

	<div class="message-responseRow {{ $comment.isIgnored() ? 'is-ignored' : '' }}">
		<div class="comment"
			data-author="{$comment.User.username}"
			data-content="profile-post-comment-{$comment.post_comment_id}"
			id="js-profilePostComment-{$comment.post_comment_id}">

			<div class="comment-inner">
				<span class="comment-avatar">
					<xf:avatar user="$comment.User" size="xxs" defaultname="{$comment.username}" />
				</span>
				<div class="comment-main">
					<span class="u-anchorTarget" id="profile-post-comment-{$comment.post_comment_id}"></span>
					<div class="js-quickEditTargetComment">
						<div class="comment-content">
							<xf:if is="$comment.message_state == 'deleted'">
								<div class="messageNotice messageNotice--deleted">
									<xf:macro template="deletion_macros" name="notice" arg-log="{$comment.DeletionLog}" />
								</div>
							<xf:elseif is="$comment.message_state == 'moderated'" />
								<div class="messageNotice messageNotice--moderated">
									{{ phrase('this_message_is_awaiting_moderator_approval_and_is_invisible_to_normal') }}
								</div>
							</xf:if>
							<xf:if is="$comment.warning_message">
								<div class="messageNotice messageNotice--warning">
									{$comment.warning_message}
								</div>
							</xf:if>
							<xf:if is="$comment.isIgnored()">
								<div class="messageNotice messageNotice--ignored">
									{{ phrase('you_are_ignoring_content_by_this_member') }}
								</div>
							</xf:if>

							<div class="comment-contentWrapper">
								<xf:username user="$comment.User" rich="true" defaultname="{$comment.username}" class="comment-user" />
								<div class="lbContainer js-lbContainer"
									data-lb-id="profile-post-comment-{$comment.post_comment_id}"
									data-lb-caption-desc="{{ $comment.User ? $comment.User.username : $comment.username }} &middot; {{ date_time($comment.comment_date) }}">
									<article class="comment-body">
										{{ bb_code($comment.message, 'bh_ownerPage_post_comment', $comment) }}
									</article>
									<xf:if is="$comment.attach_count">
										<xf:macro template="message_macros" name="attachments"
											arg-attachments="{$comment.Attachments}"
											arg-message="{$comment}"
											arg-canView="{{ $xf.visitor.hasPermission('ownerPagePost', 'viewAttachment') }}" />
									</xf:if>
								</div>
							</div>
						</div>

						<footer class="comment-footer">
							<div class="comment-actionBar actionBar">
								<div class="actionBar-set actionBar-set--internal">
									<span class="actionBar-action"><xf:date time="{$comment.comment_date}" /></span>
									<xf:if is="$comment.canReport()">
										<a href="{{ link('owner-page-posts/comments/report', $comment) }}"
											class="actionBar-action actionBar-action--report"
											data-xf-click="overlay">{{ phrase('report_verb') }}</a>
									</xf:if>

									<xf:set var="$hasActionBarMenu" value="{{ false }}" />
									<xf:if is="$comment.canEdit()">
										<xf:js src="xf/message.js" min="1" />
										<a href="{{ link('owner-page-posts/comments/edit', $comment) }}"
											class="actionBar-action actionBar-action--edit actionBar-action--menuItem"
											data-xf-click="quick-edit"
											data-editor-target="#js-profilePostComment-{$comment.post_comment_id} .js-quickEditTargetComment"
											data-menu-closer="true">{{ phrase('edit') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$comment.canDelete('soft')">
										<a href="{{ link('owner-page-posts/comments/delete', $comment) }}"
											class="actionBar-action actionBar-action--delete actionBar-action--menuItem"
											data-xf-click="overlay">{{ phrase('delete') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$comment.message_state == 'deleted' AND $comment.canUndelete()">
										<a href="{{ link('owner-page-posts/comments/undelete', $comment) }}" data-xf-click="overlay"
											class="actionBar-action actionBar-action--undelete actionBar-action--menuItem">{{ phrase('undelete') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$comment.canCleanSpam()">
										<a href="{{ link('spam-cleaner', $comment) }}"
											class="actionBar-action actionBar-action--spam actionBar-action--menuItem"
											data-xf-click="overlay">{{ phrase('spam') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$xf.visitor.canViewIps() && $comment.ip_id">
										<a href="{{ link('owner-page-posts/comments/ip', $comment) }}"
											class="actionBar-action actionBar-action--ip actionBar-action--menuItem"
											data-xf-click="overlay">{{ phrase('ip') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$comment.canWarn()">
										<a href="{{ link('owner-page-posts/comments/warn', $comment) }}"
											class="actionBar-action actionBar-action--warn actionBar-action--menuItem">{{ phrase('warn') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									<xf:elseif is="$comment.warning_id && $xf.visitor.canViewWarnings()" />
										<a href="{{ link('warnings', {'warning_id': $comment.warning_id}) }}"
											class="actionBar-action actionBar-action--warn actionBar-action--menuItem"
											data-xf-click="overlay">{{ phrase('view_warning') }}</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$comment.canApproveUnapprove()">
										<xf:if is="$comment.message_state == 'moderated'">
											<a href="{{ link('owner-page-posts/comments/approve', $comment, {'t': csrf_token()}) }}"
												class="actionBar-action actionBar-action--approve actionBar-action--menuItem">{{ phrase('approve') }}</a>
											<xf:set var="$hasActionBarMenu" value="{{ true }}" />
										<xf:elseif is="$comment.message_state == 'visible'" />
											<a href="{{ link('owner-page-posts/comments/unapprove', $comment, {'t': csrf_token()}) }}"
												class="actionBar-action actionBar-action--unapprove actionBar-action--menuItem">{{ phrase('unapprove') }}</a>
											<xf:set var="$hasActionBarMenu" value="{{ true }}" />
										</xf:if>
									</xf:if>

									<xf:if is="$hasActionBarMenu">
										<a class="actionBar-action actionBar-action--menuTrigger"
											data-xf-click="menu"
											title="{{ phrase('more_options')|for_attr }}"
											role="button"
											tabindex="0"
											aria-expanded="false"
											aria-haspopup="true">&#8226;&#8226;&#8226;</a>
										<div class="menu" data-menu="menu" aria-hidden="true" data-menu-builder="actionBar">
											<div class="menu-content">
												<h4 class="menu-header">{{ phrase('more_options') }}</h4>
												<div class="js-menuBuilderTarget"></div>
											</div>
										</div>
									</xf:if>
								</div>
								<xf:if contentcheck="true">
									<div class="actionBar-set actionBar-set--external">
									<xf:contentcheck>
										<xf:react content="{$comment}" link="owner-page-posts/comments/react" list="< .comment | .js-commentReactionsList" />
									</xf:contentcheck>
									</div>
								</xf:if>
							</div>

							<div class="comment-reactions js-commentReactionsList {{ $comment.reactions ? 'is-active' : '' }}"><xf:if is="$comment.reactions">
								<xf:reactions content="{$comment}" link="owner-page-posts/comments/reactions" />
							</xf:if></div>
						</footer>

					</div>
				</div>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="comment_deleted"
	arg-comment="!"
	arg-profilePost="!">

	<div class="message-responseRow">
		<div class="comment{{ $comment.isIgnored() ? ' is-ignored' : '' }}"
			data-author="{$comment.User.username}"
			data-content="profile-post-comment-{$comment.post_comment_id}">

			<div class="comment-inner">
				<span class="comment-avatar">
					<xf:avatar user="$comment.User" size="xxs" defaultname="{$comment.username}" />
				</span>
				<div class="comment-main">
					<span class="u-anchorTarget" id="profile-post-comment-{$comment.post_comment_id}"></span>
					<div class="comment-content">
						<div class="messageNotice messageNotice--deleted">
							<xf:macro template="deletion_macros" name="notice" arg-log="{$comment.DeletionLog}" />

							<a href="{{ link('owner-page-posts/comments/show', $comment) }}" class="u-jsOnly"
								data-xf-click="inserter"
								data-replace="[data-content=profile-post-comment-{$comment.post_comment_id}]">{{ phrase('show...') }}</a>
						</div>
					</div>

					<div class="comment-actionBar actionBar">
						<div class="actionBar-set actionBar-set--internal">
							<span class="actionBar-action">
								<xf:date time="{$comment.comment_date}" />
								<span role="presentation" aria-hidden="true">&middot;</span>
								<xf:username user="{$comment.User}" defaultname="{$comment.username}" class="u-concealed" />
							</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="quick_post" arg-ownerPage="!" arg-containerSelector="!" arg-lastDate="!" arg-attachmentData="{{ null }}">
	<xf:js src="xf/message.js" min="1" />

	<xf:form action="{{ link('owners/post', $ownerPage) }}"
		ajax="true"
		class="message-spacer js-quickReply"
		data-xf-init="attachment-manager quick-reply"
		data-message-container="{$containerSelector}"
		data-ascending="0">

		<xf:macro template="quick_reply_macros" name="body"
			arg-attachmentData="{$attachmentData}"
			arg-simple="{{ true }}"
			arg-placeholder="{{ $xf.visitor.user_id == $ownerPage.user_id ? (phrase('leave_update...')) : phrase('leave_a_comment...') }}"
			arg-submitText="{{ phrase('post_verb') }}"
			arg-lastDate="{$lastDate}"
			arg-lastKnownDate="{$lastDate}"
			arg-minHeight="40"
			arg-deferred="{{ true }}"
			arg-simpleSubmit="{{ true }} " />
	</xf:form>
</xf:macro>

<xf:macro name="submit" arg-ownerPage="!" arg-lastDate="!" arg-containerSelector="!" arg-style="full" arg-context="user" arg-attachmentData="{{ null }}">
	<xf:js src="xf/message.js" min="1" />

	<xf:set var="$placeholder" value="{{ $xf.visitor.user_id == $ownerPage.user_id ? (phrase('leave_update...')) : phrase('leave_a_comment...') }}" />

	<xf:form action="{{ link('owners/post', $ownerPage) }}" ajax="true"
		class="{{ $style == 'full' ? 'message message--simple' : 'block-row' }} js-quickReply"
		data-xf-init="{{ $style == 'full' ? 'attachment-manager' : '' }} quick-reply"
		data-message-container="{$containerSelector}"
		data-ascending="0">

		<xf:if is="$style == 'full'">
			<xf:macro template="quick_reply_macros" name="body"
				arg-attachmentData="{$attachmentData}"
				arg-simple="{{ true }}"
				arg-placeholder="{$placeholder}"
				arg-submitText="{{ phrase('post_verb') }}"
				arg-lastDate="{$lastDate}"
				arg-lastKnownDate="{$lastDate}"
				arg-minHeight="40"
				arg-deferred="{{ true }}"
				arg-simpleSubmit="{{ true }} " />
		<xf:else />
			<div>
				<span class="u-srOnly" id="ctrl_message">{{ phrase('leave_update:') }}</span>

				<xf:textarea name="message" autosize="true" rows="1" maxlength="{$xf.options.profilePostMaxLength}"
					class="js-editor"
					data-xf-init="focus-trigger user-mentioner emoji-completer"
					data-display="< :next" aria-labelledby="ctrl_message"
					placeholder="{$placeholder}" />

				<div class="u-hidden u-hidden--transition u-inputSpacer">
					<xf:button type="submit" class="button--primary" icon="reply">{{ phrase('post_verb') }}</xf:button>
				</div>

				<xf:comment><!-- Posts are in descending order so last post is first! --></xf:comment>
				<xf:hiddenval name="last_date" autocomplete="off">{$lastDate}</xf:hiddenval>
			</div>
		</xf:if>

		<xf:hiddenval name="style">{$style}</xf:hiddenval>
		<xf:hiddenval name="context">{$context}</xf:hiddenval>
	</xf:form>
</xf:macro>]]></template>
  <template type="public" title="bh_owner_page_post_new_owner_page_post_comments" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:foreach loop="$profilePostComments" value="$profilePostComment">
	<xf:macro template="bh_owner_page_post_macros" name="comment" arg-profilePost="{$profilePost}" arg-comment="{$profilePostComment}" />
</xf:foreach>]]></template>
  <template type="public" title="bh_page_detail" version_id="3040000" version_string="3.4.0 Alpha"><![CDATA[<xf:if is="$ownerPage.title">
	<xf:title class="bh-title">{{ $ownerPage.title }}</xf:title><br>
<xf:else />
	<xf:title class="bh-title">{{ phrase('bh_ownerPage_title', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title, 'username':$ownerPage.User.username}) }}</xf:title><br>
</xf:if>

<xf:breadcrumb source="$ownerPage.getBreadcrumbs(false)" />


<xf:pageaction>

	<xf:if is="{$alreadySub}">
		<div class="block">
			<div class="block-container bh_center">
				{{phrase('you_have_followed')}}
			</div>
		</div>
	<xf:else/>
		<xf:button href="{{ link('owners/pagesub', $ownerPage) }}" class="button--fullWidth">{{ phrase('bh_follow_owner_page') }}</xf:button>
	</xf:if>
	<br/>
	
	<xf:button href="{{ link('owners/mainphoto', $ownerPage) }}" class="" overlay="true">{{ phrase('bh_main_photo') }}</xf:button>
	<xf:if is="($ownerPage.user_id == $xf.visitor.user_id)  && $xf.visitor.hasPermission('bh_brand_hub','bh_can_delete_Ownerpage')">
		<xf:button href="{{ link('owners/delete', $ownerPage) }}" class="" overlay="true">{{ phrase('bh_delete_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
	</xf:if>
</xf:pageaction>


<xf:css src="bh_brandHub_list.less" />
		

<xf:if is="$filmStripParams">
<div class="media">
	
	<xf:if is="{$filmStripParams.prevItem}">
		
	<a href="{{ link('owners',$ownerPage,{'attachment_id':$filmStripParams.prevItem.attachment_id}) }}" class="media-button media-button--prev" data-xf-key="ArrowLeft"><i class="media-button-icon"></i></a>	
	
		</xf:if>

		 <div class="media-container">

     	<xf:if is="{$mainItem}">
        <xf:macro template="bh_page_filmstrip_view_macros" name="main_content" arg-mainItem="{$mainItem}" arg-item="{$ownerPage}" />
		 </xf:if>
		</div>
	
	

	<xf:if is="$filmStripParams.nextItem">
		<a href="{{ link('owners',$ownerPage,{'attachment_id':$filmStripParams.nextItem.attachment_id}) }}" class="media-button media-button--next" data-xf-key="ArrowRight"><i class="media-button-icon"></i></a>
	
	</xf:if>
		
</div>

	
 <div class="block js-mediaInfoBlock">
	
	<xf:if is="$filmStripParams.Items">
	<xf:macro template="bh_page_filmstrip_view_macros" name="attachment_film_strip" arg-mainItem="{$mainItem}" arg-filmStripParams="{$filmStripParams}" arg-item="{$ownerPage}" />
	 </xf:if>
</div>
		</xf:if>


		
	
<div class='clearfix'></div>

<div class="block-container" style="border: 2px solid orange;">
	<div class="block-row">
	<blockquote class="message-body">
	
     <h1>{{ phrase('bh_page_about_my_x_item', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title, 'username':$ownerPage.User.username}) }}</h1>

		
		{{ bb_code($ownerPage.Detail.about, 'about', $ownerPage.Detail) }}<br>
		
		<xf:comment>
		<xf:if is="{$ownerPage.Detail.attachment}">
			<b>{{phrase('bh_page_attachment')}}</b><br><br>
			{{ bb_code($ownerPage.Detail.attachment, 'attachment', $ownerPage.Detail) }}<br>
		</xf:if>
		
		<xf:if is="{$ownerPage.Detail.customizations}">
			<b>{{phrase('bh_page_customizations')}}</b><br><br>
		   {{ bb_code($ownerPage.Detail.customizations, 'customizations', $ownerPage.Detail) }}
		 </xf:if>
		</xf:comment>
		
		<xf:if is="$xf.visitor.hasPermission('bh_brand_hub','bh_can_edit_ownerpage') && $xf.visitor.user_id==$ownerPage.user_id">
			<a href="{{ link('owners/edit', $ownerPage) }}"  data-xf-click="overlay">{{ phrase('edit') }}</a>
		</xf:if>
		<xf:if is="$xf.visitor.hasPermission('bh_brand_hub', 'react_page') && $xf.visitor.user_id">
			<xf:extension name="footer">
				<xf:macro name="page_reaction_footer" arg-ownerPage="{$ownerPage}"  />
			</xf:extension>
		</xf:if>
	</blockquote>
	</div>
</div>


<div class='clearfix'></div>
<xf:include template="bh_ownerPage_posts" />




<div class='clearfix'></div>
<div class="block">
	<div class="block-container">
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_my_x_page_topics', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title, 'username':$ownerPage.User.username}) }} ({$ownerPage.discussion_count})</h3>
			<div class="p-description">{{ phrase('bh_here_are_the_most_recent_x_item_topics_from_our_community', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
		</div>
		<div class="block-body block-row block-row--separated">
			<div class="block-body">
				
				
				<xf:if is="$discussions is not empty">
					<ol class="block-body">
						<xf:foreach loop="$discussions" value="$discussion">
							{{ $discussion.render({'mod': $activeModType})|raw }}
						</xf:foreach>
					</ol>
					<xf:else />
					<div class="blockMessage">{{ phrase('no_discussions_tagged') }}</div>
				</xf:if>
				
				
				
				<div class="block-footer block-footer--split">
					<xf:if is="$ownerPage.discussion_count > $xf.options.bh_discussions_on_item ">
						<span class="block-footer-counter"><a href="{{ link('owners/pagethreads', $ownerPage) }}" target="_blank">{{phrase('bh_view_more_threads', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title})}}&nbsp;&nbsp;<i class="fal fa-greater-than"></i></a></span>
					<xf:else />
						<span class="block-footer-counter"></span>
					</xf:if>
				</div>
				


			</div>
		</div>			
	</div>
</div>


<div class='clearfix'></div>
<xf:include template="bh_user_review" />
	


		

		<xf:sidebar key="">
			<div class="block">
				<div class="block-container">
					<xf:if contentcheck="true">
         
					<h2 class="block-minorHeader">{{ phrase('bh_page_rank_my_X_owner_page', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title, 'username':$ownerPage.User.username}) }}</h2>
					
 						<div class="block-body block-row">

									<xf:contentcheck>
										<xf:datalist data-xf-init="responsive-data-list">

											<xf:if is="$pageRanking.view_rank">
												<xf:datarow>
													<xf:cell >#{{$pageRanking.view_rank}} most Viewed</xf:cell>
												</xf:datarow>	
											</xf:if>

											<xf:if is="$pageRanking.discussion_rank">
												<xf:datarow>
													<xf:cell >#{{$pageRanking.discussion_rank}} most Discussions</xf:cell>
												</xf:datarow>	
											</xf:if>

											<xf:if is="$pageRanking.reaction_rank">
												<xf:datarow>
													<xf:cell >#{{$pageRanking.reaction_rank}} most Reactions</xf:cell>
												</xf:datarow>	
											</xf:if>

											<xf:if is="$pageRanking.follow_rank">
												<xf:datarow>
													<xf:cell >#{{$pageRanking.follow_rank}} most Followed</xf:cell>
												</xf:datarow>	
											</xf:if>
											<xf:if is="$pageRanking.attachment_rank">
												<xf:datarow>
													<xf:cell >#{{$pageRanking.attachment_rank}} most Photos</xf:cell>
												</xf:datarow>	
											</xf:if>
										</xf:datalist>
								</xf:contentcheck>


								<br><br>

							</div>
					</xf:if>
				</div>
			</div>
		</xf:sidebar>



<xf:macro  template="bh_ad_macros" name="sideBar_pageside" />

<xf:macro name="page_reaction_footer" arg-ownerPage="!">
	<footer class="message-footer">
		<xf:if contentcheck="true">
			<div class="message-actionBar actionBar">
				<xf:contentcheck>
					<xf:macro name="page_action_bar" arg-ownerPage="{$ownerPage}" />
				</xf:contentcheck>
			</div>
		</xf:if>

		<div class="reactionsBar js-ownerPage-reactionsList {{ $ownerPage.reactions ? 'is-active' : '' }}">
					<xf:reactions content="{$ownerPage}" link="owners/reactions" />
		</div>

		<div class="js-historyTarget message-historyTarget toggleTarget" data-href="trigger-href"></div>
	</footer>
</xf:macro>


<xf:macro name="page_action_bar" arg-ownerPage="!">
	<xf:if contentcheck="true">
		<div class="actionBar-set actionBar-set--external">
		<xf:contentcheck>
			<xf:react content="{$ownerPage}" link="owners/react" list=".js-ownerPage-reactionsList" />
		</xf:contentcheck>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="bh_page_filmstrip_view_macros" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[<xf:macro name="attachment_film_strip" arg-mainItem="!" arg-filmStripParams="!"  arg-item="!">
	
	<xf:if is="$filmStripParams.Items is not empty">
		<xf:js src="BrandHub/film_strip.js" min="1" />
		<xf:css src="bh_item_attachment_list.less" />

		<div class="block-outer">
			<div class="block-outer-middle">
				<div class="itemList itemList--strip js-filmStrip">
					
					<a data-xf-click="inserter" data-replace=".js-filmStrip"
						href="{{ link('owners/filmstripjump', $item, {'direction': 'prev', 'attachment_id': $filmStripParams.firstItem.attachment_id}) }}"
						class="js-filmStrip-button itemList-button itemList-button--prev{{ !$filmStripParams.hasPrev ? ' is-disabled' : '' }}">

						<i class="itemList-button-icon"></i>
					</a>

					<xf:foreach loop="$filmStripParams.Items" value="$attachItem">
						<div class="js-filmStrip-item itemList-item">
							<a href="{{ link('owners',$item,{'attachment_id':$attachItem.attachment_id}) }}">
								
	
					<span class="xfmgThumbnail xfmgThumbnail--image xfmgThumbnail--fluid xfmgThumbnail--iconSmallest {{$mainItem.attachment_id==$attachItem.attachment_id ? 'is-selected' :''}} ">
			        <img class="xfmgThumbnail-image" src="{{$attachItem.getThumbnailUrl()}}" >
			           <span class="xfmgThumbnail-icon"></span>
		           </span>
							</a>
						</div>
					</xf:foreach>

					<a data-xf-click="inserter" data-replace=".js-filmStrip"
						href="{{ link('owners/filmstripjump', $item, {'direction': 'next', 'attachment_id': $filmStripParams.lastItem.attachment_id}) }}"
						class="js-filmStrip-button itemList-button itemList-button--next{{ !$filmStripParams.hasNext ? ' is-disabled' : '' }}">

						<i class="itemList-button-icon"></i>
					</a>
				</div>
			</div>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="main_content" arg-mainItem="!" arg-item="!">
	<xf:css src="xfrb_media_view.less" />
	<xf:if is="$mainItem">
	
			<div class="media-container-image js-mediaContainerImage">
			
			<xf:set var="$imageHtml">
				<img src="{{link('attachments/full',$mainItem) }}" alt="{$mainItem.filename}" class="js-mediaImage" />
			</xf:set>
		

				{$imageHtml|raw}
				
		
	</div>
		
	<xf:elseif is="$mediaItem.media_type == 'video'" />
		<xf:macro template="videojs_macros" name="setup" />
   
		<div class="bbMediaWrapper">
			<div class="bbMediaWrapper-inner">
				<video data-xf-init="video-player"
					data-player-setup="{$mediaItem.player_setup|json}"
					class="video-js vjs-default-skin vjs-big-play-centered vjs-16-9">

					<source src="{$mediaItem.getVideoUrl()}" type="video/mp4" />
				</video>
			</div>
		</div>
	<xf:elseif is="$mediaItem.media_type == 'audio'" />
		<xf:macro template="videojs_macros" name="setup" />

		<xf:set var="$audioItem">
			<audio data-xf-init="video-player"
				data-player-setup="{$mediaItem.player_setup|json}"
				class="video-js vjs-default-skin vjs-big-play-centered bbMediaWrapper-fallback">

				<source src="{$mediaItem.getAudioUrl()}" type="audio/mpeg" />
			</audio>
		</xf:set>

		<xf:if is="$mediaItem.thumbnail_date">
			<div class="bbMediaWrapper">
				<div class="bbMediaWrapper-inner bbMediaWrapper-inner--thumbnail">
					{$audioItem|raw}
				</div>
			</div>
		<xf:else />
			{$audioItem|raw}
		</xf:if>
	<xf:elseif is="$mediaItem.media_type == 'embed'" />
		{{ bb_code($mediaItem.media_tag, 'xfmg_media', $mediaItem) }}
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="bh_page_main_photo" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[<xf:title>{$item.item_title}</xf:title>
<xf:h1 hidden="true" />

<xf:css src="bh_item_main_photo_view.less" />


<xf:form action="{{ link('owners/setmainphoto',$page) }}" ajax="true" class="block" data-force-flash-message="true">
<div class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:if is="$pageAttachments is not empty">
			
				<xf:macro template="bh_item_list_main_photo_macros" name="item_list" arg-Items="{$pageAttachments}"  arg-Selected="{$selectedAttachment}" arg-allowInlineMod="true" />
			</xf:if>
		</div>
	</div>
	<xf:submitrow icon="save" sticky="true" />
</div>
</xf:form>]]></template>
  <template type="public" title="bh_quick_ownerPage_content" version_id="3000800" version_string="3.0.8 Alpha"><![CDATA[<xf:css src="bh_brandHub_list.less" />

<div class='clearfix'></div>
<xf:include template="bh_user_ownerPage" />]]></template>
  <template type="public" title="bh_quick_owner_page" version_id="3000800" version_string="3.0.8 Alpha"><![CDATA[<xf:title>{{ phrase('bh_quick_ownerPage') }}</xf:title>

<xf:css src="bh_select2.less" />
<xf:css src="select2.less" />
<xf:css src="bh_brandHub_list.less" />
<xf:js prod="xf/token_input-compiled.js" dev="vendor/select2/select2.full.js, xf/token_input.js" />

<xf:css>
.quickContentBody{display:none;}
</xf:css>

	
	<div class="block-container">
		<div class="block-body">
			

			<xf:selectrow name="brand_id" 
						  value=""
						  data-xf-init="token-input-select"
						  label="{{ phrase('bh_brand') }}"
						  explain="{{ phrase('bh_select_brand_desc') }}">

				
				
				<xf:foreach loop="$brands" value="$brand">
					<xf:option value="{$brand.brand_id}" label="{$brand.brand_title}" />
				</xf:foreach>
			</xf:selectrow>
			
			<xf:selectrow name="item_id" 
					   value="" 
					   data-xf-init="token-input-select"
					   label="{{ phrase('bh_item') }}"
					   explain="{{ phrase('bh_select_item_desc') }}">
				<xf:option value="">{{ phrase('bh_select_item') }}</xf:option>
			</xf:selectrow>
			
		</div>
	</div>

	<!--[after selection]-->
	<div class="clearfix quickContentBody">
		<div class="blockMessage">{{ phrase('loading...') }}</div>
	</div>

<xf:js>
	jQuery.extend(XF.phrases, {
			s2_no_results: "{{ phrase('s2_no_results')|escape('js') }}"
		});	
</xf:js>

<xf:js src="BrandHub/quick_owner_page.js" />]]></template>
  <template type="public" title="bh_quick_review" version_id="3000800" version_string="3.0.8 Alpha"><![CDATA[<xf:title>{{ phrase('bh_quick_review') }}</xf:title>

<xf:css src="bh_select2.less" />
<xf:css src="select2.less" />
<xf:css src="bh_brandHub_list.less" />
<xf:js prod="xf/token_input-compiled.js" dev="vendor/select2/select2.full.js, xf/token_input.js" />

<xf:css>
.quickContentBody{display:none;}
</xf:css>

	
	<div class="block-container">
		<div class="block-body">
			

			<xf:selectrow name="brand_id" 
						  value=""
						  data-xf-init="token-input-select"
						  label="{{ phrase('bh_brand') }}"
						  explain="{{ phrase('bh_select_brand_desc') }}">

				
				
				<xf:foreach loop="$brands" value="$brand">
					<xf:option value="{$brand.brand_id}" label="{$brand.brand_title}" />
				</xf:foreach>
			</xf:selectrow>
			
			<xf:selectrow name="item_id" 
					   value="" 
					   data-xf-init="token-input-select"
					   label="{{ phrase('bh_item') }}"
					   explain="{{ phrase('bh_select_item_desc') }}">
				<xf:option value="">{{ phrase('bh_select_item') }}</xf:option>
			</xf:selectrow>
			
		</div>
	</div>

	<!--[after selection]-->
	<div class="clearfix quickContentBody">
		<div class="blockMessage">{{ phrase('loading...') }}</div>
	</div>

<xf:js>
	jQuery.extend(XF.phrases, {
			s2_no_results: "{{ phrase('s2_no_results')|escape('js') }}"
		});	
</xf:js>

<xf:js src="BrandHub/quick_review.js" />]]></template>
  <template type="public" title="bh_quick_review_content" version_id="3000800" version_string="3.0.8 Alpha"><![CDATA[<xf:css src="bh_brandHub_list.less" />

<div class='clearfix'></div>
<xf:include template="bh_user_review" />]]></template>
  <template type="public" title="bh_recent_reviews" version_id="3000700" version_string="3.0.7 Alpha"><![CDATA[<xf:css src="bh_brandHub_list.less" />

<xf:title class="bh-title">{{  phrase('bh_recent_reviews') }} ({{ $total|number }})</xf:title>

<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
			link="bh-recent-reviews" params="{$filters}"
			wrapperclass="block-outer block-outer--after" />

<div class="block">
	<div class="block-container">
		<xf:comment>
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_user_reviews') }} ({{ $total|number }})</h3>
			<div class="p-description">{{ phrase('bh_read_what_tractor_by_net_members_thinkabout_the_x_item', {'brandTitle': $item.brand_title, 'itemTitle': $item.item_title}) }}</div>
		</div>
		</xf:comment>
		<div class="block-body block-row block-row--separated">
			<div class="block-body">
				
				
				
				<xf:if is="$itemReviews is not empty">
							<xf:foreach loop="$itemReviews" value="$review">
								<xf:macro template="bh_item_review_macros" name="review_simple"
									arg-review="{$review}" arg-route="bh-item/review" arg-item="{$review.Item}" />
								<br>
							</xf:foreach>

					<div class="block-footer">
						<span class="block-footer-counter">{{ display_totals($itemReviews, $total) }}</span>
					</div>
				<xf:else />
					<div class="blockMessage">{{ phrase('no_results_found') }}</div>
				</xf:if>
		
			</div>
		</div>
	</div>
</div>
	<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
		link="bh-recent-reviews" params="{$filters}"
		wrapperclass="block-outer block-outer--after" />]]></template>
  <template type="public" title="bh_review_undelete_confirm" version_id="3000700" version_string="3.0.7 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:js src="xf/thread.js" min="1" />
<xf:form action="{$confirmUrl}" ajax="true" class="block"
		 data-xf-init="thread-edit-form"
		 data-item-selector=".js-itemReview-{$content.Item.item_id}-{$content->item_rating_id}">
	
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{{ phrase('please_confirm_that_you_want_to_undelete_following:') }}
				<xf:if is="$contentUrl">
					<strong><a href="{$contentUrl}">{$contentTitle}</a></strong>
				<xf:else />
					<strong>{$contentTitle}</strong>
				</xf:if>
			</xf:inforow>
		</div>
		<xf:submitrow submit="{{ phrase('undelete') }}" rowtype="simple" />
	</div>
</xf:form>]]></template>
  <template type="public" title="bh_reviews_filters" version_id="3000700" version_string="3.0.7 Alpha"><![CDATA[<xf:form action="{{ link($route, $content) }}">
	
	<xf:set var="$defaultOrder" value="$xf.options.bh_reviewsDefaultOrder|split" />
	
	<!--[brandHub:above_sort_by]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('sort_by:') }}
		<div class="inputGroup u-inputSpacer">
			<xf:select name="order" value="{{ $filters.order ?: $defaultOrder.0 }}">
				<xf:option value="rating">{{ phrase('bh_rating') }}</xf:option>
				<xf:option value="rating_date">{{ phrase('bh_rating_date') }}</xf:option>
				<xf:option value="reaction_score">{{ phrase('bh_reaction_score') }}</xf:option>			
			</xf:select>
			<span class="inputGroup-splitter"></span>
			<xf:select name="direction" value="{{ $filters.direction ?: 'desc' }}">
				<xf:option value="desc">{{ phrase('descending') }}</xf:option>
				<xf:option value="asc">{{ phrase('ascending') }}</xf:option>
			</xf:select>
		</div>
	</div>

	<div class="menu-footer">
		<span class="menu-footer-controls">
			<xf:button type="submit" class="button--primary">{{ phrase('filter') }}</xf:button>
		</span>
	</div>
	<xf:hiddenval name="apply">1</xf:hiddenval>
</xf:form>]]></template>
  <template type="public" title="bh_search_result_thread" version_id="3040000" version_string="3.4.0 Alpha"><![CDATA[<li class="block-row block-row--separated {{ $thread.isIgnored() ? 'is-ignored' : '' }} js-inlineModContainer" data-author="{{ $thread.User.username ?: $thread.username }}">
	<div class="contentRow {{ !$thread.isVisible() ? 'is-deleted' : '' }}">
		<span class="contentRow-figure">
			<xf:avatar user="{$thread.User}" size="s" defaultname="{$thread.username}" />
		</span>
		<div class="contentRow-main">
			<h3 class="contentRow-title">
				<a href="{{ link('threads', $thread) }}">{{ prefix('thread', $thread) . highlight($thread.title, $options.term) }}</a>
			</h3>

			<xf:if is="$xf.options.bh_displayExcerpt">
				<div class="contentRow-snippet">{{ snippet($thread.FirstPost.message, $xf.options.bh_excerptLength, {'term': $options.term, 'stripQuote': true}) }}</div>
			</xf:if>
			

			<div class="contentRow-minor contentRow-minor--hideLinks">
				<ul class="listInline listInline--bullet">
					<xf:if is="$options.mod == 'thread' && $thread.canUseInlineModeration()">
						<li><xf:checkbox standalone="true">
							<xf:option value="{$thread.thread_id}" class="js-inlineModToggle"
								data-xf-init="tooltip"
								title="{{ phrase('select_for_moderation') }}" />
						</xf:checkbox></li>
					</xf:if>
					<li><xf:username user="{$thread.User}" defaultname="{$thread.username}" /></li>
					<li>{{ phrase('thread') }}</li>
					<li><xf:date time="{$thread.post_date}" /></li>

					<xf:if is="$xf.options.enableTagging AND ($thread.canEditTags() OR $thread.tags)">
						<li>
							<xf:macro template="tag_macros" name="list"
								arg-tags="{$thread.tags}"
								arg-tagList="tagList--thread-{$thread.thread_id}"
								arg-editLink="{{ $thread.canEditTags() ? link('threads/tags', $thread) : '' }}" />
						</li>
					</xf:if>
					
					<li>{{ phrase('replies:') }} {$thread.reply_count|number}</li>
					<li>{{ phrase('forum:') }} <a href="{{ link('forums', $thread.Forum) }}">{$thread.Forum.title}</a></li>
				</ul>
			</div>
		</div>
	</div>
</li>]]></template>
  <template type="public" title="bh_select2.less" version_id="3000700" version_string="3.0.7 Alpha"><![CDATA[.select2-container{box-sizing:border-box;display:inline-block;margin:0;position:relative;vertical-align:middle}.select2-container .select2-selection--single{box-sizing:border-box;cursor:pointer;display:block;height:28px;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--single .select2-selection__rendered{display:block;padding-left:8px;padding-right:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-selection--single .select2-selection__clear{background-color:transparent;border:none;font-size:1em}.select2-container[dir="rtl"] .select2-selection--single .select2-selection__rendered{padding-right:8px;padding-left:20px}.select2-container .select2-selection--multiple{box-sizing:border-box;cursor:pointer;display:block;min-height:32px;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--multiple .select2-selection__rendered{display:inline;list-style:none;padding:0}.select2-container .select2-selection--multiple .select2-selection__clear{background-color:transparent;border:none;font-size:1em}.select2-container .select2-search--inline .select2-search__field{box-sizing:border-box;border:none;font-size:100%;margin-top:5px;margin-left:5px;padding:0;max-width:100%;resize:none;height:18px;vertical-align:bottom;font-family:sans-serif;overflow:hidden;word-break:keep-all}.select2-container .select2-search--inline .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-dropdown{background-color:white;border:1px solid #aaa;border-radius:4px;box-sizing:border-box;display:block;position:absolute;left:-100000px;width:100%;z-index:1051}.select2-results{display:block}.select2-results__options{list-style:none;margin:0;padding:0}.select2-results__option{padding:6px;user-select:none;-webkit-user-select:none}.select2-results__option--selectable{cursor:pointer}.select2-container--open .select2-dropdown{left:0}.select2-container--open .select2-dropdown--above{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--open .select2-dropdown--below{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-search--dropdown{display:block;padding:4px}.select2-search--dropdown .select2-search__field{padding:4px;width:100%;box-sizing:border-box}.select2-search--dropdown .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-search--dropdown.select2-search--hide{display:none}.select2-close-mask{border:0;margin:0;padding:0;display:block;position:fixed;left:0;top:0;min-height:100%;min-width:100%;height:auto;width:auto;opacity:0;z-index:99;background-color:#fff;filter:alpha(opacity=0)}.select2-hidden-accessible{border:0 !important;clip:rect(0 0 0 0) !important;-webkit-clip-path:inset(50%) !important;clip-path:inset(50%) !important;height:1px !important;overflow:hidden !important;padding:0 !important;position:absolute !important;width:1px !important;white-space:nowrap !important}.select2-container--default .select2-selection--single{background-color:#fff;border:1px solid #aaa;border-radius:4px}.select2-container--default .select2-selection--single .select2-selection__rendered{color:#444;line-height:28px}.select2-container--default .select2-selection--single .select2-selection__clear{cursor:pointer;float:right;font-weight:bold;height:26px;margin-right:20px;padding-right:0px}.select2-container--default .select2-selection--single .select2-selection__placeholder{color:#999}.select2-container--default .select2-selection--single .select2-selection__arrow{height:26px;position:absolute;top:1px;right:1px;width:20px}.select2-container--default .select2-selection--single .select2-selection__arrow b{border-color:#888 transparent transparent transparent;border-style:solid;border-width:5px 4px 0 4px;height:0;left:50%;margin-left:-4px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--default[dir="rtl"] .select2-selection--single .select2-selection__clear{float:left}.select2-container--default[dir="rtl"] .select2-selection--single .select2-selection__arrow{left:1px;right:auto}.select2-container--default.select2-container--disabled .select2-selection--single{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection--single .select2-selection__clear{display:none}.select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b{border-color:transparent transparent #888 transparent;border-width:0 4px 5px 4px}.select2-container--default .select2-selection--multiple{background-color:white;border:1px solid #aaa;border-radius:4px;cursor:text;padding-bottom:5px;padding-right:5px;position:relative}.select2-container--default .select2-selection--multiple.select2-selection--clearable{padding-right:25px}.select2-container--default .select2-selection--multiple .select2-selection__clear{cursor:pointer;font-weight:bold;height:20px;margin-right:10px;margin-top:5px;position:absolute;right:0;padding:1px}.select2-container--default .select2-selection--multiple .select2-selection__choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;box-sizing:border-box;display:inline-block;margin-left:5px;margin-top:5px;padding:0;padding-left:20px;position:relative;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;white-space:nowrap}.select2-container--default .select2-selection--multiple .select2-selection__choice__display{cursor:default;padding-left:2px;padding-right:5px}.select2-container--default .select2-selection--multiple .select2-selection__choice__remove{background-color:transparent;border:none;border-right:1px solid #aaa;border-top-left-radius:4px;border-bottom-left-radius:4px;color:#999;cursor:pointer;font-size:1em;font-weight:bold;padding:0 4px;position:absolute;left:0;top:0}.select2-container--default .select2-selection--multiple .select2-selection__choice__remove:hover,.select2-container--default .select2-selection--multiple .select2-selection__choice__remove:focus{background-color:#f1f1f1;color:#333;outline:none}.select2-container--default[dir="rtl"] .select2-selection--multiple .select2-selection__choice{margin-left:5px;margin-right:auto}.select2-container--default[dir="rtl"] .select2-selection--multiple .select2-selection__choice__display{padding-left:5px;padding-right:2px}.select2-container--default[dir="rtl"] .select2-selection--multiple .select2-selection__choice__remove{border-left:1px solid #aaa;border-right:none;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px}.select2-container--default[dir="rtl"] .select2-selection--multiple .select2-selection__clear{float:left;margin-left:10px;margin-right:auto}.select2-container--default.select2-container--focus .select2-selection--multiple{border:solid black 1px;outline:0}.select2-container--default.select2-container--disabled .select2-selection--multiple{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection__choice__remove{display:none}.select2-container--default.select2-container--open.select2-container--above .select2-selection--single,.select2-container--default.select2-container--open.select2-container--above .select2-selection--multiple{border-top-left-radius:0;border-top-right-radius:0}.select2-container--default.select2-container--open.select2-container--below .select2-selection--single,.select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple{border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--default .select2-search--dropdown .select2-search__field{border:1px solid #aaa}.select2-container--default .select2-search--inline .select2-search__field{background:transparent;border:none;outline:0;box-shadow:none;-webkit-appearance:textfield}.select2-container--default .select2-results>.select2-results__options{max-height:200px;overflow-y:auto}.select2-container--default .select2-results__option .select2-results__option{padding-left:1em}.select2-container--default .select2-results__option .select2-results__option .select2-results__group{padding-left:0}.select2-container--default .select2-results__option .select2-results__option .select2-results__option{margin-left:-1em;padding-left:2em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-2em;padding-left:3em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-3em;padding-left:4em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-4em;padding-left:5em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-5em;padding-left:6em}.select2-container--default .select2-results__option--group{padding:0}.select2-container--default .select2-results__option--disabled{color:#999}.select2-container--default .select2-results__option--selected{background-color:#ddd}.select2-container--default .select2-results__option--highlighted.select2-results__option--selectable{background-color:#5897fb;color:white}.select2-container--default .select2-results__group{cursor:default;display:block;padding:6px}.select2-container--classic .select2-selection--single{background-color:#f7f7f7;border:1px solid #aaa;border-radius:4px;outline:0;background-image:-webkit-linear-gradient(top, #fff 50%, #eee 100%);background-image:-o-linear-gradient(top, #fff 50%, #eee 100%);background-image:linear-gradient(to bottom, #fff 50%, #eee 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF', endColorstr='#FFEEEEEE', GradientType=0)}.select2-container--classic .select2-selection--single:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--single .select2-selection__rendered{color:#444;line-height:28px}.select2-container--classic .select2-selection--single .select2-selection__clear{cursor:pointer;float:right;font-weight:bold;height:26px;margin-right:20px}.select2-container--classic .select2-selection--single .select2-selection__placeholder{color:#999}.select2-container--classic .select2-selection--single .select2-selection__arrow{background-color:#ddd;border:none;border-left:1px solid #aaa;border-top-right-radius:4px;border-bottom-right-radius:4px;height:26px;position:absolute;top:1px;right:1px;width:20px;background-image:-webkit-linear-gradient(top, #eee 50%, #ccc 100%);background-image:-o-linear-gradient(top, #eee 50%, #ccc 100%);background-image:linear-gradient(to bottom, #eee 50%, #ccc 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE', endColorstr='#FFCCCCCC', GradientType=0)}.select2-container--classic .select2-selection--single .select2-selection__arrow b{border-color:#888 transparent transparent transparent;border-style:solid;border-width:5px 4px 0 4px;height:0;left:50%;margin-left:-4px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--classic[dir="rtl"] .select2-selection--single .select2-selection__clear{float:left}.select2-container--classic[dir="rtl"] .select2-selection--single .select2-selection__arrow{border:none;border-right:1px solid #aaa;border-radius:0;border-top-left-radius:4px;border-bottom-left-radius:4px;left:1px;right:auto}.select2-container--classic.select2-container--open .select2-selection--single{border:1px solid #5897fb}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection__arrow{background:transparent;border:none}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection__arrow b{border-color:transparent transparent #888 transparent;border-width:0 4px 5px 4px}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--single{border-top:none;border-top-left-radius:0;border-top-right-radius:0;background-image:-webkit-linear-gradient(top, #fff 0%, #eee 50%);background-image:-o-linear-gradient(top, #fff 0%, #eee 50%);background-image:linear-gradient(to bottom, #fff 0%, #eee 50%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF', endColorstr='#FFEEEEEE', GradientType=0)}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--single{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0;background-image:-webkit-linear-gradient(top, #eee 50%, #fff 100%);background-image:-o-linear-gradient(top, #eee 50%, #fff 100%);background-image:linear-gradient(to bottom, #eee 50%, #fff 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE', endColorstr='#FFFFFFFF', GradientType=0)}.select2-container--classic .select2-selection--multiple{background-color:white;border:1px solid #aaa;border-radius:4px;cursor:text;outline:0;padding-bottom:5px;padding-right:5px}.select2-container--classic .select2-selection--multiple:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--multiple .select2-selection__clear{display:none}.select2-container--classic .select2-selection--multiple .select2-selection__choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;display:inline-block;margin-left:5px;margin-top:5px;padding:0}.select2-container--classic .select2-selection--multiple .select2-selection__choice__display{cursor:default;padding-left:2px;padding-right:5px}.select2-container--classic .select2-selection--multiple .select2-selection__choice__remove{background-color:transparent;border:none;border-top-left-radius:4px;border-bottom-left-radius:4px;color:#888;cursor:pointer;font-size:1em;font-weight:bold;padding:0 4px}.select2-container--classic .select2-selection--multiple .select2-selection__choice__remove:hover{color:#555;outline:none}.select2-container--classic[dir="rtl"] .select2-selection--multiple .select2-selection__choice{margin-left:5px;margin-right:auto}.select2-container--classic[dir="rtl"] .select2-selection--multiple .select2-selection__choice__display{padding-left:5px;padding-right:2px}.select2-container--classic[dir="rtl"] .select2-selection--multiple .select2-selection__choice__remove{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px}.select2-container--classic.select2-container--open .select2-selection--multiple{border:1px solid #5897fb}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--multiple{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--multiple{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--classic .select2-search--dropdown .select2-search__field{border:1px solid #aaa;outline:0}.select2-container--classic .select2-search--inline .select2-search__field{outline:0;box-shadow:none}.select2-container--classic .select2-dropdown{background-color:#fff;border:1px solid transparent}.select2-container--classic .select2-dropdown--above{border-bottom:none}.select2-container--classic .select2-dropdown--below{border-top:none}.select2-container--classic .select2-results>.select2-results__options{max-height:200px;overflow-y:auto}.select2-container--classic .select2-results__option--group{padding:0}.select2-container--classic .select2-results__option--disabled{color:grey}.select2-container--classic .select2-results__option--highlighted.select2-results__option--selectable{background-color:#3875d7;color:#fff}.select2-container--classic .select2-results__group{cursor:default;display:block;padding:6px}.select2-container--classic.select2-container--open .select2-dropdown{border-color:#5897fb}]]></template>
  <template type="public" title="bh_tab_item_sub" version_id="3000500" version_string="3.0.5 Alpha"><![CDATA[<div class="block">
	<div class="block-container">
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_item_subscribe') }}</h3>
		</div>
		<div class="block-body block-row block-row--separated">
			<div class="block-body">

			<div class="block-body">
				<xf:if is="$sublist is not empty">
		            <xf:datalist data-xf-init="responsive-data-list">
					<xf:datarow rowtype="header">
						<xf:cell>{{ phrase('bh_item_title') }}</xf:cell>
						<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
						<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
						<xf:cell>{{ phrase('subcribe_date') }}</xf:cell>
						<xf:if is="$user.user_id == $xf.visitor.user_id">
							<xf:cell>{{ phrase('action') }}</xf:cell>
						</xf:if>
				
					</xf:datarow>
					<xf:foreach loop="$sublist" value="$sub">
						<xf:datarow>
						<xf:cell href="{{ link({$xf.options.bh_main_route}.'/item', $sub.Item) }}">{$sub.Item.item_title}</xf:cell>
						<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
						<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
						<xf:cell><xf:date time="$sub.create_date"/></xf:cell>
						<xf:if is="$user.user_id == $xf.visitor.user_id">
							<xf:action href="{{ link('bh-item/unsub', $sub.Item) }}" overlay="true">{{ phrase('bh_unsubscribe') }}</xf:action>	
						</xf:if>
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
				<xf:else />
					<div class="blockMessage">{{ phrase('no_results_found') }}</div>
				</xf:if>
		

				</div>
			</div>
		</div>
	</div>
</div>]]></template>
  <template type="public" title="bh_tab_owner_pages" version_id="3050100" version_string="3.5.1 Alpha"><![CDATA[<xf:title class="bh-title">{{ $item.Brand.brand_title }} {{ $item.item_title }}</xf:title>
<xf:css src="bh_brandHub_list.less" />
<div class="block">
	<div class="block-container">
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_x_item_owner_pages', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</h3>
			<div class="p-description">{{ phrase('bh_view_owner_pages_to_see_photos_customizations', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
		</div>
		<div class="block-body block-row block-row--separated">
			<div class="block-body">

			<div class="block-body">
				<xf:if is="$ownerPages is not empty">
						<div class="brandHub">		
							<ul class="grid-list">
								<xf:foreach loop="$ownerPages" value="$ownerPage">
								<li class="bh_item">
									<div class="borderpage">

										<xf:set var="$pageThumbnailUrl" value="{$ownerPage.getthumbnailurl()}" />

												<a href="{{ link('owners', $ownerPage) }}" class="bh_a" >
													<xf:if is="$pageThumbnailUrl">
														<img src="{{ $pageThumbnailUrl }}"  />	
													<xf:else />
														<i class="fas fa-image fa-6x" ></i>
													</xf:if>	<br>

													<xf:comment>
													<strong>{$ownerPage.User.username} in {{$ownerPage.Item.item_title}} </strong>
													</xf:comment>
													
													<strong>{{ $ownerPage.title ?: phrase('bh_ownerPage_title', {'brandTitle': $ownerPage.Item.Brand.brand_title, 'itemTitle': $ownerPage.Item.item_title, 'username':$ownerPage.User.username}) }}</strong></a>
												</a>
									</div>

									</li>
								</xf:foreach>
							</ul>	
						</div>
				<xf:else />
					<div class="blockMessage">{{ phrase('no_results_found') }}</div>
				</xf:if>
		

				</div>
			</div>
		</div>
	</div>
</div>



<xf:comment>
<xf:title class="bh-title">{{ $item.Brand.brand_title }} {{ $item.item_title }}</xf:title>
<xf:css src="bh_brandHub_list.less" />
<div class="block">
	<div class="block-container">
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_x_item_owner_pages', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</h3>
			<div class="p-description">{{ phrase('bh_view_owner_pages_to_see_photos_customizations', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
		</div>
		<div class="block-row block-row--separated">
				<div class="block-body">
					<xf:macro template="bh_item_owner_page_all" name="owner_pages" arg-item="{$ownerPages.first().Item}" arg-itemPages="{$ownerPages}" />
				</div>
		</div>
	</div>
</div>
</xf:comment>]]></template>
  <template type="public" title="bh_thread_description_edit" version_id="1020900" version_string="1.2.9 Alpha"><![CDATA[<xf:if is="$thread.thread_description">
	<xf:title>{{ phrase('bh_edit_description:') }} {$thread.title}</xf:title>
<xf:else />
	<xf:title>{{ phrase('bh_add_description:') }} {$thread.title}</xf:title>
</xf:if>


<xf:form action="{{ link('threads/save-description', $thread) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:editorrow name="thread_description" value="{$thread.thread_description}" data-min-height="200"
				label="{{ phrase('bh_thread_description') }}" />
		</div>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="public" title="bh_thread_list_macros" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<xf:macro name="item"
	arg-thread="!"
	arg-forum=""
	arg-forceRead="{{ false }}"
	arg-showWatched="{{ true }}"
	arg-allowInlineMod="{{ true }}"
	arg-chooseName=""
	arg-extraInfo=""
	arg-allowEdit="{{ true }}">

	<xf:css src="structured_list.less" />

	<div class="structItem structItem--thread{{ $thread.prefix_id ? ' is-prefix' . $thread.prefix_id : '' }}{{ $thread.isIgnored() ? ' is-ignored' : '' }}{{ ($thread.isUnread() AND !$forceRead) ? ' is-unread' : '' }}{{ $thread.discussion_state == 'moderated' ? ' is-moderated' : '' }}{{ $thread.discussion_state == 'deleted' ? ' is-deleted' : '' }} js-inlineModContainer js-threadListItem-{$thread.thread_id}" data-author="{{ $thread.User.username ?: $thread.username }}">

			
	<xf:extension name="icon_cell">
		<div class="structItem-cell structItem-cell--icon">
			<div class="structItem-iconContainer">
				<xf:avatar user="$thread.User" size="s" defaultname="{$thread.username}" />
				<xf:if is="$thread.getUserPostCount()">
					<xf:avatar user="$xf.visitor" size="s"
						href=""
						class="avatar--separated structItem-secondaryIcon"
						tabindex="0"
						data-xf-init="tooltip"
						data-trigger="auto"
						title="{{ phrase('you_have_posted_x_messages_in_this_thread', {'count': $thread.getUserPostCount() }) }}" />
				</xf:if>
			</div>
		</div>
	</xf:extension>

	<xf:extension name="main_cell">
		<div class="structItem-cell structItem-cell--main" data-xf-init="touch-proxy">
			<xf:if contentcheck="true">
				<ul class="structItem-statuses">
				<xf:contentcheck>
				<xf:extension name="statuses">
					<xf:if is="property('reactionSummaryOnLists') == 'status' && $thread.first_post_reactions">
						<li><xf:reactions summary="true" reactions="{$thread.first_post_reactions}" /></li>
					</xf:if>
					<xf:extension name="before_status_state"></xf:extension>
					<xf:if is="$thread.discussion_state == 'moderated'">
						<li>
							<i class="structItem-status structItem-status--moderated" aria-hidden="true" title="{{ phrase('awaiting_approval')|for_attr }}"></i>
							<span class="u-srOnly">{{ phrase('awaiting_approval') }}</span>
						</li>
					</xf:if>
					<xf:if is="$thread.discussion_state == 'deleted'">
						<li>
							<i class="structItem-status structItem-status--deleted" aria-hidden="true" title="{{ phrase('deleted')|for_attr }}"></i>
							<span class="u-srOnly">{{ phrase('deleted') }}</span>
						</li>
					</xf:if>
					<xf:if is="!$thread.discussion_open">
						<li>
							<i class="structItem-status structItem-status--locked" aria-hidden="true" title="{{ phrase('locked')|for_attr }}"></i>
							<span class="u-srOnly">{{ phrase('locked') }}</span>
						</li>
					</xf:if>

					<xf:extension name="status_sticky">
						<xf:if is="$thread.sticky">
							<li>
								<i class="structItem-status structItem-status--sticky" aria-hidden="true" title="{{ phrase('sticky')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('sticky') }}</span>
							</li>
						</xf:if>
					</xf:extension>

					<xf:extension name="before_status_watch"></xf:extension>
					<xf:if is="{$showWatched} AND {$xf.visitor.user_id}">
						<xf:if is="{$thread.Watch.{$xf.visitor.user_id}}">
							<li>
								<i class="structItem-status structItem-status--watched" aria-hidden="true" title="{{ phrase('thread_watched')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('thread_watched') }}</span>
							</li>
							<xf:elseif is="!$forum AND {$thread.Forum.Watch.{$xf.visitor.user_id}}" />
							<li>
								<i class="structItem-status structItem-status--watched" aria-hidden="true" title="{{ phrase('forum_watched')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('forum_watched') }}</span>
							</li>
						</xf:if>
					</xf:if>

					<xf:extension name="before_status_type"></xf:extension>
					<xf:if is="$thread.discussion_type == 'redirect'">
						<xf:extension name="thread_type_redirect">
							<li>
								<i class="structItem-status structItem-status--redirect" aria-hidden="true" title="{{ phrase('redirect')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('redirect') }}</span>
							</li>
						</xf:extension>
					<xf:elseif is="$thread.discussion_type == 'question' && $thread.type_data.solution_post_id" />
						<xf:extension name="thread_type_question_solved">
							<li>
								<i class="structItem-status structItem-status--solved" aria-hidden="true" title="{{ phrase('solved')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('solved') }}</span>
							</li>
						</xf:extension>
					<xf:elseif is="!$forum || $forum.forum_type_id == 'discussion'" />
						<xf:extension name="thread_type_icon">
							<xf:if is="$thread.discussion_type != 'discussion'">
								<xf:set var="$threadTypeHandler" value="{{ $thread.getTypeHandler() }}" />
								<xf:if is="$threadTypeHandler.getTypeIconClass()">
									<li>
										<xf:set var="$threadTypePhrase" value="{{ $threadTypeHandler.getTypeTitle() }}" />
										<xf:fa class="structItem-status" icon="{{ $threadTypeHandler.getTypeIconClass() }}" title="{$threadTypePhrase|for_attr}" />
										<span class="u-srOnly">{$threadTypePhrase}</span>
									</li>
								</xf:if>
							</xf:if>
						</xf:extension>
					</xf:if>
				</xf:extension>
				</xf:contentcheck>
				</ul>
			</xf:if>

			<div class="structItem-title">
				<xf:set var="$canPreview" value="{{ $thread.canPreview() }}" />
				<xf:if is="$thread.prefix_id">
					<xf:if is="$forum">
						<a href="{{ link('forums', $forum, {'prefix_id': $thread.prefix_id}) }}" class="labelLink" rel="nofollow">{{ prefix('thread', $thread, 'html', '') }}</a>
					<xf:else />
						{{ prefix('thread', $thread, 'html', '') }}
					</xf:if>
				</xf:if>
				<a href="{{ link('threads' . (($thread.isUnread() AND !$forceRead) ? '/unread' : ''), $thread) }}" class="" data-tp-primary="on" data-xf-init="{{ $canPreview ? 'preview-tooltip' : '' }}" data-preview-url="{{ $canPreview ? link('threads/preview', $thread) : '' }}">{$thread.title}</a>
				<xf:if contentcheck="true">
					&#13;
					<div class="p-description">
						<xf:contentcheck>
							{{ snippet($thread.thread_description, 120, {'stripBbCode': true}) }}
						</xf:contentcheck>
					</div>
				</xf:if>
			</div>

			<div class="structItem-minor">
				
				<xf:if contentcheck="true">
					<ul class="structItem-extraInfo">
					<xf:contentcheck>
												
						<xf:if is="$xf.visitor.hasPermission('bh_brand_hub','bh_canEditDiscussionDesc')">
							<li class="structItem-extraInfoMinor">	
								<a href="{{ link('threads/edit-description', $thread) }}" data-xf-click="overlay">{{ $thread.thread_description? phrase('bh_edit_description') : phrase('bh_add_description') }}</a>
							</li>
						</xf:if>
						
						<xf:if is="property('reactionSummaryOnLists') == 'minor_opposite' && $thread.first_post_reactions">
							<li><xf:reactions summary="true" reactions="{$thread.first_post_reactions}" /></li>
						</xf:if>
						<xf:if is="{$extraInfo}">
							<li>{$extraInfo}</li>
						<xf:elseif is="$allowEdit AND $thread.canEdit() AND $thread.canUseInlineModeration()" />
							<xf:if is="!$allowInlineMod OR !$forum">
								<xf:set var="$editParams" value="{{ {
									'_xfNoInlineMod': !$allowInlineMod ? 1 : null,
									 '_xfForumName': !$forum ? 1 : 0
								} }}" />
							<xf:else />
								<xf:set var="$editParams" value="{{ [] }}" />
							</xf:if>
							<xf:if is="$thread.discussion_type != 'redirect'">

								<li class="structItem-extraInfoMinor">
									<a href="{{ link('threads/edit', $thread) }}" data-xf-click="overlay" data-cache="false" data-href="{{ link('threads/edit', $thread, $editParams) }}">
										{{ phrase('edit') }}
									</a>
								</li>
							</xf:if>
						</xf:if>

						<xf:comment>
							<xf:if is="$chooseName">
								<li><xf:checkbox standalone="true">
									<xf:option name="{$chooseName}[]" value="{$thread.thread_id}" class="js-chooseItem" />
								</xf:checkbox></li>
							<xf:elseif is="$allowInlineMod AND $thread.canUseInlineModeration()" />
								<li><xf:checkbox standalone="true">
									<xf:option value="{$thread.thread_id}" class="js-inlineModToggle"
										data-xf-init="tooltip"
										title="{{ phrase('select_for_moderation') }}"
										label="{{ phrase('select_for_moderation') }}"
										hiddenlabel="true"
									/>
								</xf:checkbox></li>
							</xf:if>
						</xf:comment>
					</xf:contentcheck>
					</ul>
				</xf:if>

				<xf:if is="$thread.discussion_state == 'deleted'">
					<xf:if is="{$extraInfo}"><span class="structItem-extraInfo">{$extraInfo}</span></xf:if>

					<xf:macro template="deletion_macros" name="notice" arg-log="{$thread.DeletionLog}" />
				<xf:else />
					<ul class="structItem-parts">
						<li><xf:username user="$thread.User" defaultname="{$thread.username}" /></li>
						<li class="structItem-startDate"><a href="{{ link('threads', $thread) }}" rel="nofollow"><xf:date time="{$thread.post_date}" /></a></li>
						<xf:if is="!$forum">
							<li><a href="{{ link('forums', $thread.Forum) }}">{$thread.Forum.title}</a></li>
						</xf:if>
					</ul>

					<xf:if is="$thread.discussion_type != 'redirect' && $thread.reply_count >= $xf.options.messagesPerPage && $xf.options.lastPageLinks">
						<span class="structItem-pageJump">
						<xf:foreach loop="{{ last_pages($thread.reply_count + 1, $xf.options.messagesPerPage, $xf.options.lastPageLinks) }}" value="$p">
							<a href="{{ link('threads', $thread, {'page': $p}) }}">{$p}</a>
						</xf:foreach>
						</span>
					</xf:if>
				</xf:if>
			</div>
		</div>
	</xf:extension>

	<xf:extension name="meta_cell">
		<div class="structItem-cell structItem-cell--meta" title="{{ phrase('first_message_reaction_score:')|for_attr }} {$thread.first_post_reaction_score|number}">
			<dl class="pairs pairs--justified">
				<dt>{{ phrase('replies') }}</dt>
				<dd>{{ $thread.discussion_type == 'redirect' ? '&ndash;' : $thread.reply_count|number_short }}</dd>
			</dl>
			<dl class="pairs pairs--justified structItem-minor">
				<dt>{{ phrase('views') }}</dt>
				<dd>{{ $thread.discussion_type == 'redirect' ? '&ndash;' : ($thread.view_count > $thread.reply_count ? $thread.view_count|number_short : number_short($thread.reply_count+1)) }}</dd>
			</dl>
		</div>
	</xf:extension>

	<xf:extension name="latest_cell">
		<div class="structItem-cell structItem-cell--latest">
			<xf:if is="$thread.discussion_type == 'redirect'">
				{{ phrase('n_a') }}
			<xf:else />
				<a href="{{ link('threads/latest', $thread) }}" rel="nofollow"><xf:date time="{$thread.last_post_date}" class="structItem-latestDate" /></a>
				<div class="structItem-minor">
					<xf:if is="$xf.visitor.isIgnoring($thread.last_post_user_id)">
						{{ phrase('ignored_member') }}
					<xf:else />
						<xf:username user="{$thread.LastPoster}" defaultname="{$thread.last_post_username}" />
					</xf:if>
				</div>
			</xf:if>
		</div>
	</xf:extension>

	<xf:extension name="icon_end_cell">
		<div class="structItem-cell structItem-cell--icon structItem-cell--iconEnd">
			<div class="structItem-iconContainer">
				<xf:if is="$xf.visitor.isIgnoring($thread.last_post_user_id) OR $thread.discussion_type == 'redirect'">
					<xf:avatar user="{{ null }}" size="xxs" />
				<xf:else />
					<xf:avatar user="{$thread.LastPoster}" defaultname="{$thread.last_post_username}" size="xxs" />
				</xf:if>
			</div>
		</div>
	</xf:extension>

	</div>
</xf:macro>

<xf:macro name="item_new_posts" arg-thread="!">
	<div class="contentRow">
		<div class="contentRow-figure">
			<xf:avatar user="$thread.LastPoster" size="xxs" defaultname="{$thread.last_post_username}" />
		</div>
		<div class="contentRow-main contentRow-main--close">
			<xf:if is="$thread.isUnread()">
				<a href="{{ link('threads/unread', $thread) }}">{{ prefix('thread', $thread) }}{$thread.title}</a>
			<xf:else />
				<a href="{{ link('threads/post', $thread, {'post_id': $thread.last_post_id}) }}">{{ prefix('thread', $thread) }}{$thread.title}</a>
			</xf:if>

			<div class="contentRow-minor contentRow-minor--hideLinks">
				<ul class="listInline listInline--bullet">
					<li>{{ phrase('latest_x', {'name': $thread.last_post_cache.username}) }}</li>
					<li><xf:date time="{$thread.last_post_date}" /></li>
				</ul>
			</div>
			<div class="contentRow-minor contentRow-minor--hideLinks">
				<a href="{{ link('forums', $thread.Forum) }}">{$thread.Forum.title}</a>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="item_new_threads" arg-thread="!">
	<div class="contentRow">
		<div class="contentRow-figure">
			<xf:avatar user="$thread.User" size="xxs" defaultname="{$thread.username}" />
		</div>
		<div class="contentRow-main contentRow-main--close">
			<a href="{{ link('threads', $thread) }}">{{ prefix('thread', $thread) }}{$thread.title}</a>
			
			<xf:if contentcheck="true">
				&#13;
				<div class="p-description">
					<xf:contentcheck>
						{{ snippet($thread.thread_description, 120, {'stripBbCode': true}) }}
					</xf:contentcheck>
				</div>
			</xf:if>

			<div class="contentRow-minor contentRow-minor--hideLinks">
				<ul class="listInline listInline--bullet">
					<li>{{ phrase('started_by_x', {'name': $thread.username}) }}</li>
					<li><xf:date time="{$thread.post_date}" /></li>
					<li>{{ phrase('replies:') }} {$thread.reply_count|number_short}</li>
				</ul>
			</div>
			<div class="contentRow-minor contentRow-minor--hideLinks">
				<a href="{{ link('forums', $thread.Forum) }}">{$thread.Forum.title}</a>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="quick_thread"
	arg-forum="!"
	arg-page="1"
	arg-order="last_post_date"
	arg-direction="desc"
	arg-prefixes="{{ [] }}">

	<xf:css src="structured_list.less" />

	<xf:if is="$forum.canCreateThread() OR $forum.canCreateThreadPreReg()">

		<xf:js src="xf/thread.js" min="1" />

		<xf:set var="$inlineMode" value="{{ ($page == 1 && $order == 'last_post_date' && $direction == 'desc') ? true : false }}" />

		<xf:form action="{{ link('forums/post-thread', $forum, {'inline-mode': $inlineMode}) }}" ajax="true"
			class="structItem structItem--quickCreate"
			draft="{{ link('forums/draft', $forum) }}"
			data-xf-init="quick-thread"
			data-focus-activate=".js-titleInput"
			data-focus-activate-href="{{ link('forums/post-thread', $forum, {'inline-mode': true}) }}"
			data-focus-activate-target=".js-quickThreadFields"
			data-insert-target=".js-threadList"
			data-replace-target=".js-emptyThreadList">

		<xf:extension name="icon_cell">
			<div class="structItem-cell structItem-cell--icon">
				<div class="structItem-iconContainer">
					<xf:avatar user="$xf.visitor" size="s" />
				</div>
			</div>
		</xf:extension>

		<xf:extension name="main_cell">
			<div class="structItem-cell structItem-cell--newThread js-prefixListenContainer">

				<xf:formrow rowtype="noGutter noLabel fullWidth noPadding mergeNext"
					label="{{ phrase('title') }}">

					<xf:prefixinput maxlength="{{ max_length('XF:Thread', 'title') }}"
						placeholder="{$forum.thread_prompt}"
						title="{{ phrase('post_new_thread_in_this_forum') }}"
						prefix-value="{$forum.default_prefix_id}"
						type="thread"
						prefixes="{$prefixes}"
						data-xf-init="tooltip"
						rows="1"
						help-href="{{ link('forums/prefix-help', $forum) }}"
						help-skip-initial="{{ true }}" />

					<!--[XF:qt_title_after]-->
				</xf:formrow>

				<div class="js-quickThreadFields inserter-container is-hidden"><!--{{ phrase('loading...') }}--></div>
			</div>
		</xf:extension>

		</xf:form>
	</xf:if>

</xf:macro>]]></template>
  <template type="public" title="bh_uploadPhoto" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[<xf:title>{{ phrase('bh_upload_photos') }}</xf:title>


<xf:form action="{{ link('bh-item/savephoto', $brand) }}" ajax="true" data-xf-init="attachment-manager">
	<div class="block-container">
		<div class="block-body">
		
			<xf:hiddenval name="attachment_time">{$attachment_time}</xf:hiddenval>
			<xf:selectrow name="item_id" value="{$selectedItem.item_id}" label="{{ phrase('bh_item') }}">
				<xf:option value="0" selected="!{$selectedItem.item_id}">{{ phrase('(none)') }}</xf:option>

				<xf:foreach loop="$items" value="$item">
					<xf:option value="{$item.item_id}" label="{$item.item_title}" />
				</xf:foreach>
			</xf:selectrow>
				
				<xf:formrow>
					<xf:macro template="bh_helper_attachment_photo" name="upload_block"
							  arg-attachmentData="{$attachmentData}" />
				</xf:formrow>
			
			<xf:submitrow sticky="true" icon="save" />
				

		</div>
	</div>
</xf:form>]]></template>
  <template type="public" title="bh_user_ownerPage" version_id="3000800" version_string="3.0.8 Alpha"><![CDATA[<div class="block" id="ownerPage">
	<div class="block-container">
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_x_user_x_item_ownerPage', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title, 'username': $xf.visitor.username}) }}</h3>
			<div class="p-description">{{ phrase('bh_view_owner_pages_to_see_photos_customizations', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
		</div>
		<div class="block-body block-row block-row--separated">
			<div class="block-body">

				<div class="">
					<xf:if is="$userItemPage && $xf.visitor.hasPermission('bh_brand_hub','bh_can_delete_Ownerpage')">
						<div style="float:right;margin-left:2px;">
							<xf:button href="{{ link('owners/delete', $userItemPage) }}" class="button--fullWidth" overlay="true" data-cache="false">{{ phrase('bh_delete_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
						</div>
					</xf:if>
					
					<xf:if is="!$userItemPage">
						<div style="float:right;">
							<xf:button href="{{ link('owners/add', $item,{'item': $item.item_id}) }}" class="button--fullWidth" overlay="true" data-cache="false">{{ phrase('bh_create_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
						</div>
					<xf:elseif is="$userItemPage && $xf.visitor.hasPermission('bh_brand_hub','bh_can_edit_ownerpage')"  />
						<div style="float:right;">
							<xf:button href="{{ link('owners/edit', $userItemPage) }}" class="button--fullWidth" overlay="true" data-cache="false">{{ phrase('bh_edit_owner_page', {'itemTitle': $item.item_title}) }}</xf:button>
						</div>
					</xf:if>
				</div>
				<div class="clearfix"></div>
				

				<span class="{{ $userItemPage ? '' : 'js-itemPage-' . $item.item_id . '-' . $xf.visitor.user_id}}">
					<xf:if is="$userItemPage">
						<div class="brandHub">		
							<ul class="grid-page-all">
								<xf:macro template="bh_item_owner_page_all" name="owner_page" arg-item="{$item}" arg-itemPage="{$userItemPage}" />
							</ul>
						</div>
					<xf:else />
						<div class="blockMessage">{{ phrase('x_user_has_not_created_an_owner_page_yet', {'username':$xf.visitor.username}) }}</div>
					</xf:if>
				</span>
			</div>
		</div>
	</div>
</div>]]></template>
  <template type="public" title="bh_user_review" version_id="3010000" version_string="3.1.0 Alpha"><![CDATA[<div class="block" id="reviews">

	<xf:set var="$username" value="{{ $ownerPage ? $ownerPage.User.username : $xf.visitor.username }}" />
		
		
	
	<div class="block-container">
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_user_x_item_review', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title, 'username': $username}) }}</h3>
			<div class="p-description">{{ phrase('bh_read_what_tractor_by_net_members_thinkabout_the_x_item', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
		</div>
		<div class="block-body block-row block-row--separated">
			<div class="block-body">
				
				
				<span class="{{ $itemReview ? '' : 'js-itemReview-' . $item.item_id . '-' . $xf.visitor.user_id}}">
					<xf:if is="$itemReview is not empty">
						<xf:macro template="bh_item_review_macros" name="review_simple"
								  arg-review="{$itemReview}" arg-item="{$item}" />
						<br>
						<hr class="menu-separator menu-separator--hard" />
					<xf:else />
						<div class="blockMessage">{{ phrase('x_user_has_not_posted_a_review_yet', {'username': $username}) }}</div>
					</xf:if>
				</span>
				
				<xf:if is="!$ownerPage">
					<div class="block-footer">
						<a href="{{ link('bh-item/rate', $item) }}" class="bh_a button--link button" data-name="{$item.item_title}" data-xf-click="overlay" data-cache="false"><span class="button-text">{{ phrase('bh_write_a_review') }}</span></a>
					</div>
				<xf:elseif is="$xf.visitor.user_id == $ownerPage.user_id" />
					<div class="block-footer">
						<a href="{{ link('bh-item/rate', $item) }}" class="bh_a button--link button" data-name="{$item.item_title}" data-xf-click="overlay" data-cache="false"><span class="button-text">{{ phrase('bh_write_a_review') }}</span></a>
					</div>
				</xf:if>
				
			</div>
		</div>
	</div>
</div>]]></template>
  <template type="public" title="bh_user_reviews" version_id="3020000" version_string="3.2.0 Alpha"><![CDATA[<xf:css src="bh_brandHub_list.less" />

<div class="block" id="reviews">
	<div class="block-container">
		<div class="block-header">
			<h3 class="block-minorHeader">{{ phrase('bh_user_reviews') }} ({{ $item.rating_count|number }})</h3>
			<div class="p-description">{{ phrase('bh_read_what_tractor_by_net_members_thinkabout_the_x_item', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
		</div>
		<div class="block-body block-row block-row--separated">

				<div class="reviewStarsDiv">
					<strong>{{ $item.rating_avg|number(1) }}<xf:macro template="rating_macros" name="stars" arg-rating="{$item.rating_avg}" /></strong>  <br/><br/>

					<a href="{{ link('bh-item/rate', $item) }}" class="bh_a" data-name="{$item.item_title}" data-xf-click="overlay">{{ phrase('bh_write_a_review') }}</a><br />
					<a href="{{ link('bh-item/reviews', $item) }}" target="_blank" class="bh_a" data-name="{$item.item_title}">{{ phrase('bh_view_all_x_reviews', {'total':$item.review_count}) }}</a>
				</div>
				<div class="ratingBarsDiv">
					<xf:foreach loop="$itemRatings" key="$key" value="$itemRating" i="$i">		
						<xf:macro name="ratingBar" arg-number="{{$key}}" arg-percentage="{{ $itemRating }}" />
					</xf:foreach>
				</div>
				<div class="clearfix"></div>
				
			<div class="block-row block-row--separated"></div>
			
				<xf:js src="BrandHub/brand_hub.js" />
				<div data-xf-init="xb-bh-pagenav">
					<div class="block">
						<div class="block-container">
							<xf:macro template="bh_overview_macros" name="list_filter_bar"
								  arg-filters="{$filters}"
								  arg-baseLinkPath="bh-item/reviews"
								  arg-content="{$item}" />
							
							<div class="bloc block-row block-row--separated">
								<xf:macro template="bh_item_reviews" name="item_reviews"
										  arg-item="{$item}" arg-itemReviews="{$itemReviews}" arg-visitorReview="{$visitorReview}" 
										  arg-page="{$page}" arg-perPage="{$perPage}" arg-total="{$total}" arg-filters="{$filters}" />
							</div>
						</div>
					</div>
				</div>
				
				<div class="block-footer">
					<xf:comment>
					<xf:if is="count($itemRatings) > $xf.options.bh_RecentReviewsCount">
						<span class="block-footer-controls"><a href="{{ link('bh-item/reviews', $item) }}" target="_blank" class="bh_a button--link button" data-name="{$item.item_title}"><span class="button-text">{{ phrase('bh_load_more_x_item_reviews', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</span></a></span>
					</xf:if>
					</xf:comment>
					
					<a href="{{ link('bh-item/rate', $item) }}" class="bh_a button--link button" data-name="{$item.item_title}" data-xf-click="overlay" data-cache="false"><span class="button-text">{{ phrase('bh_write_a_review') }}</span></a>
				</div>
				
		
		<xf:sidebar>
			<div class="block">
				<div class="block-container">
					<xf:widget key="bh_highest_rated_items" />
				</div>
			</div>
		</xf:sidebar>
		
		
		<xf:sidebar key="">
			<xf:macro template="bh_brand_hub_macros" name="brandRelatedLinks" arg-brandObj="{$item.Brand}" />
		</xf:sidebar>
		
		</div>
	</div>
</div>


<xf:macro name="ratingBar" arg-number="!" arg-percentage="!" >
	<div class="side">
		<div>{$number} <span class="fa fa-star checked ratingStars--smaller"></span></div>
	</div>
	<div class="middle" >
		<div class="bar-container">
			<div class="bar" style="width:{$percentage}%;"></div>
		</div>
	</div>
	<div class="side right">
		<div>{$percentage} %</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="delete_confirm_unsub" version_id="1020700" version_string="1.2.7 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link('bh-item/unsubitem',$item) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{{ phrase('are_sure_to_unsub:') }}
				<xf:if is="$item">
					<strong>{$item.item_title}</strong>
				</xf:if>
			</xf:inforow>
		</div>
		<xf:submitrow rowtype="simple"  icon="submit" />
	</div>
</xf:form>]]></template>
  <template type="public" title="helper_attachment_owner_page" version_id="1000600" version_string="1.0.6 Alpha"><![CDATA[<xf:macro name="upload_link" arg-attachmentData="!">

<xf:js prod="xf/attachment_manager-compiled.js" dev="vendor/flow.js/flow-compiled.js, xf/attachment_manager.js" />

<xf:button  href="{{ link('attachments/upload', null, {'type': 'bh_ownerpage', 'context': $attachmentData.context, 'hash': $attachmentData.hash}) }}"
	 class="button--link js-attachmentUpload" icon="attach"
	data-accept=".{$attachmentData.constraints.extensions|join(',.')}" />
						
	<xf:hiddenval name="attachment_hash">{$attachmentData.hash}</xf:hiddenval>
								<xf:hiddenval name="attachment_hash_combined">{{ {
									'type': 'bh_item',
									'context': $attachmentData.context,
									'hash': $attachmentData.hash
								}|json }}</xf:hiddenval>
</xf:macro>

<xf:macro name="upload_link_from_data" arg-attachmentData="!">
	<xf:macro name="upload_link"  arg-attachmentData="{$attachmentData}" />
</xf:macro>



<xf:macro name="uploaded_files_list" arg-attachments="{{ [] }}" arg-class="">
	<xf:css src="attachments.less" />
	<div class="attachmentUploads js-attachmentUploads {$class} {{ $attachments is not empty ? 'is-active' : '' }}">
		<div class="hScroller" data-xf-init="h-scroller">
			<div class="hScroller-scroll">
				<ul class="attachUploadList js-attachmentFiles">
				<xf:foreach loop="$attachments" value="$attachment">
					<xf:macro name="uploaded_file" arg-attachment="{$attachment}" />
				</xf:foreach>
				</ul>
			</div>
		</div>

		<div class="attachmentUploads-banner js-attachmentInsertMultiRow u-hidden">
			<xf:button class="button--link js-attachmentSelect" data-toggle="{{ phrase('button.cancel') }}">
				{{ phrase('insert_multiple...') }}
			</xf:button>
			<ul class="attachmentUploads-selectActions js-attachmentSelectActions">
				<li>
					<span class="button button--link selectAll">
						<span class="button-text">
							<xf:checkbox standalone="true">
								<xf:option check-all="< .attachmentUploads" label="{{ phrase('select_all') }}" />
							</xf:checkbox>
						</span>
					</span>
				</li>
				<li class="js-attachmentSelectInsertActions">
					<span class="insert-label">{{ phrase('insert:') }}</span>
					<span class="buttonGroup">
						<xf:button class="button--link js-attachmentSelectAction" data-action="thumbnail">
							{{ phrase('thumbnail') }}
						</xf:button>
						<xf:button class="button--link js-attachmentSelectAction" data-action="full">
							{{ phrase('full_image') }}
						</xf:button>
					</span>
				</li>
				<li>
					<xf:button class="button--link button--iconOnly js-attachmentSelectAction" fa="fa-trash-alt" data-action="delete">
						<span class="u-srOnly">{{ phrase('button.delete') }}</span>
					</xf:button>
				</li>
			</ul>
		</div>

	</div>
	<xf:macro name="uploaded_file_template" />
</xf:macro>



<xf:macro name="uploaded_file" arg-attachment="!" arg-noJsFallback="{{ false }}">
	<li class="js-attachmentFile file" data-attachment-id="{$attachment.attachment_id}">
		<xf:if is="$attachment.has_thumbnail">
			<a class="file-preview js-attachmentView" href="{$attachment.direct_url}" target="_blank">
				<img src="{{ base_url($attachment.thumbnail_url) }}" class="js-attachmentThumb" alt="{$attachment.filename}"
					width="{$attachment.thumbnail_width}" height="{$attachment.thumbnail_height}" loading="lazy" />
			</a>
		<xf:elseif is="$attachment.is_video" />
			<a class="file-preview js-attachmentView" href="{$attachment.direct_url}" target="_blank">
				<video data-xf-init="video-init">
					<source src="{$attachment.direct_url}" />
				</video>
			</a>
		<xf:else />
			<a class="file-preview js-attachmentView" href="{$attachment.direct_url}" target="_blank">
				<span class="file-typeIcon">
					<xf:fa icon="{$attachment.icon}" />
				</span>
			</a>
		</xf:if>

	
		<div class="file-content">

			<xf:if is="!$noJsFallback">
				<xf:if is="$attachment.has_thumbnail">
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink"
							data-xf-click="toggle"
							data-target="< .js-attachmentInsert"
							role="button"
							tabindex="0">
							{{ phrase('insert...') }}
						</a>
						<div class="file-menuOptions">
							<a class="js-attachmentAction" data-action="thumbnail" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('thumbnail') }}</a>
							<a class="js-attachmentAction" data-action="full" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('full_image') }}</a>
						</div>
					</div>
				<xf:elseif is="$attachment.is_video" />
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink js-attachmentAction" data-action="full" data-type="video" role="button" tabindex="0">
							{{ phrase('insert') }}
						</a>
					</div>
				<xf:elseif is="$attachment.is_audio" />
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink js-attachmentAction" data-action="full" data-type="audio" role="button" tabindex="0">
							{{ phrase('insert') }}
						</a>
					</div>
				</xf:if>

				<div class="file-checkbox">
					<xf:checkbox standalone="true">
						<xf:option value="" />
					</xf:checkbox>
				</div>
			</xf:if>

			<span class="file-delete">
				<xf:if is="$noJsFallback">
					<xf:button type="submit" class="button--small button--link" name="delete" value="{$attachment.attachment_id}">
						<xf:fa icon="fa-trash-alt" />
						<span class="u-srOnly">{{ phrase('button.delete') }}</span>
					</xf:button>
				<xf:else />
					<a class="file-deleteLink js-attachmentAction"
						data-action="delete"
						data-type="{$attachment.type_grouping}"
						role="button"
						tabindex="0">
						<xf:fa icon="fa-trash-alt" />
						<span class="u-srOnly">{{ phrase('button.delete') }}</span>
					</a>
				</xf:if>
			</span>

			<a class="file-info"
				href="{$attachment.direct_url}"
				target="_blank">

				<span class="file-name">{$attachment.filename}</span>

				<div class="file-meta">
					<xf:if is="$attachment.Data.width">{$attachment.Data.width} x {$attachment.Data.height} &middot; </xf:if>
					{$attachment.file_size|file_size}
				</div>
			</a>
		</div>
	</li>
</xf:macro>



<xf:macro name="uploaded_file_template">
	<script type="text/template" class="js-attachmentUploadTemplate">
		<li class="file js-attachmentFile" {{ mustache('#attachment_id', 'data-attachment-id="{{attachment_id}}"') }}>
			<xf:mustache name="#uploading">
				<div class="file-preview">
					<div class="file-progress js-attachmentProgress"></div>
					<span class="file-error js-attachmentError"></span>
				</div>
			</xf:mustache>
			<xf:mustache name="^uploading">
				<xf:mustache name="#thumbnail_url">
					<a class="file-preview js-attachmentView" href="{{ mustache('link') }}" target="_blank">
						<img src="{{ mustache('thumbnail_url') }}" class="js-attachmentThumb" alt="{{ mustache('filename') }}" />
					</a>
				</xf:mustache>
				<xf:mustache name="^thumbnail_url">
					<xf:mustache name="#is_video">
						<a class="file-preview js-attachmentView" href="{{ mustache('link') }}" target="_blank">
							<video data-xf-init="video-init">
								<source src="{{ mustache('link') }}" />
							</video>
						</a>
					</xf:mustache>
					<xf:mustache name="^is_video">
						<a class="file-preview js-attachmentView" href="{{ mustache('link') }}" target="_blank">
							<span class="file-typeIcon">
								<i class="fa--xf fa{{ fa_weight() }} {{ mustache('icon') }}" aria-hidden="true"></i>
							</span>
						</a>
					</xf:mustache>
				</xf:mustache>
			</xf:mustache>

			<div class="file-content">

				<xf:mustache name="#thumbnail_url">
					<div class="file-insert js-attachmentInsert">
						<a class="file-insertLink"
							data-xf-click="toggle"
							data-target="< .js-attachmentInsert"
							role="button"
							tabindex="0">
							{{ phrase('insert...') }}
						</a>
						<div class="file-menuOptions">
							<a class="js-attachmentAction" data-action="thumbnail" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('thumbnail') }}</a>
							<a class="js-attachmentAction" data-action="full" role="button" tabindex="0"
								data-xf-click="toggle" data-target="< .js-attachmentInsert">{{ phrase('full_image') }}</a>
						</div>
					</div>
				</xf:mustache>
				<xf:mustache name="^thumbnail_url">
					<xf:mustache name="#is_video">
						<div class="file-insert js-attachmentInsert">
							<a class="file-insertLink js-attachmentAction" data-action="full" data-type="video" role="button" tabindex="0">
								{{ phrase('insert') }}
							</a>
						</div>
					</xf:mustache>
					<xf:mustache name="#is_audio">
						<div class="file-insert js-attachmentInsert">
							<a class="file-insertLink js-attachmentAction" data-action="full" data-type="audio" role="button" tabindex="0">
								{{ phrase('insert') }}
							</a>
						</div>
					</xf:mustache>
				</xf:mustache>

				<div class="file-checkbox">
					<xf:checkbox standalone="true">
						<xf:option value="" />
					</xf:checkbox>
				</div>

				<span class="file-delete">
					<xf:mustache name="#uploading">
						<a class="file-deleteLink js-attachmentAction"
							data-action="cancel"
							role="button"
							tabindex="0">
							<xf:fa icon="fa-trash-alt" />
							<span class="u-srOnly">{{ phrase('button.cancel') }}</span>
						</a>
					</xf:mustache>
					<xf:mustache name="^uploading">
						<a class="file-deleteLink js-attachmentAction"
							data-action="delete"
							data-type="{{ mustache('type_grouping') }}"
							role="button"
							tabindex="0">
							<xf:fa icon="fa-trash-alt" />
							<span class="u-srOnly">{{ phrase('button.delete') }}</span>
						</a>
					</xf:mustache>
				</span>

				<a class="file-info" href="{{ mustache('link') }}" target="_blank">
					<span class="file-name">{{ mustache('filename') }}</span>

					<div class="file-meta">
						<xf:mustache name="#thumbnail_url">{{ mustache('width') }} x {{ mustache('height') }} &middot; </xf:mustache>
						{{ mustache('file_size_printable') }}
					</div>
				</a>

			</div>
		</li>
	</script>
</xf:macro>




<xf:macro name="upload_block" arg-attachmentData="!">

	<xf:macro name="uploaded_files_list" arg-attachments="{$attachmentData.attachments}" />

	<xf:macro name="upload_link_from_data" arg-attachmentData="{$attachmentData}" />
</xf:macro>]]></template>
  <template type="public" title="item_custom_fields_macros_public" version_id="1000400" version_string="1.0.4 Alpha"><![CDATA[<xf:macro name="custom_fields_view"
	arg-type="!"
	arg-group="!"
	arg-set="!"
	arg-onlyInclude="{{ null }}"
	arg-additionalFilters="{{ [] }}"
	arg-wrapperClass=""
	arg-valueClass="pairs pairs--columns pairs--fixedSmall pairs--customField">

	<xf:if contentcheck="true">
		<div class="{$wrapperClass}">
		<xf:contentcheck>
			<xf:macro name="custom_fields_values"
				arg-type="{$type}"
				arg-group="{$group}"
				arg-set="{$set}"
				arg-onlyInclude="{$onlyInclude}"
				arg-additionalFilters="{$additionalFilters}"
				arg-valueClass="{$valueClass}" />
		</xf:contentcheck>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="custom_fields_values"
	arg-type="!"
	arg-group="!"
	arg-set="!"
	arg-onlyInclude="{{ null }}"
	arg-additionalFilters="{{ [] }}"
	arg-valueClass="pairs pairs--columns pairs--fixedSmall pairs--customField">

	<xf:foreach loop="$xf.app.getCustomFields({$type}, {$group}, {$onlyInclude}, {$additionalFilters})" key="$fieldId" value="$fieldDefinition">
		<xf:if is="$fieldDefinition.hasValue({$set.{$fieldDefinition.field_id}})">
			
			<xf:set var="$fieldValue"><xf:macro name="custom_field_value"
				arg-definition="{$fieldDefinition}"
				arg-value="{$set.{$fieldDefinition.field_id}}" /></xf:set>

			<xf:if is="$fieldDefinition.wrapper_template">
				{$fieldDefinition.getFormattedOutput($fieldValue)|raw}
			<xf:else />
				
				<dl	class="pairs pairs--justified">
					<dt>{$fieldDefinition.title}</dt>
					<dd>{$fieldValue}</dd>
				</dl>
			</xf:if>
		</xf:if>
	</xf:foreach>
</xf:macro>

<xf:macro name="custom_field_value" arg-definition="!" arg-value="!">

	<xf:if is="$definition.field_type == 'stars'">
		<xf:macro template="rating_macros" name="stars" arg-rating="{$value}" />
	<xf:else />
		<xf:if is="$definition.match_type == 'date'">
			<xf:macro name="custom_field_value_date" arg-date="{$value}" />
		<xf:elseif is="$definition.match_type == 'color'" />
			<xf:macro name="custom_field_value_color" arg-color="{$value}" />
		<xf:else />
			{$definition.getFormattedValue($value)|raw}
		</xf:if>
	</xf:if>
</xf:macro>

<xf:macro name="custom_field_value_date"
	arg-date="!">

	{{ date(date_from_format('Y-m-d', $date)) }}
</xf:macro>

<xf:macro name="custom_field_value_color"
	arg-color="!">

	<span class="colorChip" data-xf-init="tooltip" title="{$color}">
		<span class="colorChip-inner" style="background-color: {$color}">
			<span class="colorChip-value">{$color}</span>
		</span>
	</span>
</xf:macro>

<xf:macro name="custom_fields_edit"
	arg-type="!"
	arg-group="{{ null }}"
	arg-set="!"
	arg-editMode="user"
	arg-onlyInclude="{{ null }}"
	arg-additionalFilters="{{ [] }}"
	arg-rowType=""
	arg-rowClass=""
	arg-namePrefix="custom_fields"
	arg-requiredOnly="{{ false }}">
<xf:set var="$checkLabel" value="1"/>

	<xf:foreach loop="$xf.app.getCustomFieldsForEdit({$type}, {$set}, {$editMode}, {$group}, {$onlyInclude}, {$additionalFilters})" key="$fieldId" value="$fieldDefinition">
		<xf:if is="!$requiredOnly OR ($requiredOnly AND $fieldDefinition.required)">
			<xf:set var="$controlId" value="{{
				in_array($fieldDefinition.field_type, ['textbox', 'textarea', 'select', 'multiselect', 'date', 'stars', 'color'])
				? unique_id()
				: '' }}" />
			<xf:set var="$labelId" value="{{
				in_array($fieldDefinition.field_type, ['radio', 'checkbox'])
				? unique_id()
				: '' }}" />

		
		
			<xf:if is ="$checkLabel=='1'">
			<xf:set var="$label" value="{{phrase('custom_fields') }}"/>
				<xf:else />
				<xf:set var="$label" value=" "/>
			</xf:if>
			
			
			
			<xf:checkboxrow hideempty="true" rowtype="{$rowType}" label="{{$label}}">
		
					<xf:option  data-hide="true"
					 label="{$fieldDefinition.title}" checked="{{$set.{{$fieldDefinition.field_id}} ? true : false }}" >
					
		<xf:dependent>
	
			<xf:set var="$checkLabel" value="2"/>
	
			<xf:formrow
				explain="{$fieldDefinition.description}"
				hint="{{ $fieldDefinition.isRequired($editMode) ? phrase('required') : '' }}"
				rowtype="{$rowType} customField {{ in_array($fieldDefinition.field_type, ['textbox', 'textarea', 'bbcode', 'select']) ? 'input' : '' }}"
				rowclass="{}"
				labelid="{$labelId}"
				controlid="{$controlId}"
				data-field="{$fieldDefinition.field_id}"label="{$fieldDefinition.title}">

				<xf:macro name="custom_fields_edit_{$fieldDefinition.field_type}"
					arg-set="{$set}"
					arg-definition="{$fieldDefinition}"
					arg-editMode="{$editMode}"
					arg-refId="{{ $controlId ?: $labelId }}"
					arg-namePrefix="{$namePrefix}" />
			        
			</xf:formrow>
				</xf:dependent>
				</xf:option>
		</xf:checkboxrow>
		</xf:if>
	</xf:foreach>
</xf:macro>

<xf:macro name="custom_fields_edit_groups"
	arg-type="!"
	arg-groups="!"
	arg-set="!"
	arg-editMode="user"
	arg-onlyInclude="{{ null }}"
	arg-additionalFilters="{{ [] }}"
	arg-rowType=""
	arg-namePrefix="custom_fields"
	arg-requiredOnly="">

	<xf:foreach loop="$groups" value="$group">
		<xf:macro name="custom_fields_edit"
			arg-type="{$type}"
			arg-group="{$group}"
			arg-set="{$set}"
			arg-editMode="{$editMode}"
			arg-onlyInclude="{$onlyInclude}"
			arg-additionalFilters="{$additionalFilters}"
			arg-rowType="{$rowType}"
			arg-namePrefix="{$namePrefix}"
			arg-requiredOnly="{$requiredOnly}" />
	</xf:foreach>
</xf:macro>

<xf:macro name="custom_fields_edit_textbox" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:if is="$definition.match_type == 'date'">

		<xf:dateinput name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
			data-field="{$definition.field_id}"
			maxlength="{{ $definition.max_length ? $definition.max_length : '' }}"
			required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
			id="{$refId}"
			class="field_{$definition.field_id}" />

	<xf:elseif is="$definition.match_type == 'color'" />

		<xf:macro template="color_picker_macros" name="color_picker"
			arg-name="{$namePrefix}[{$definition.field_id}]"
			arg-value="{$set.{$definition.field_id}}"
			arg-mapName=""
			arg-row="{{ false }}"
			arg-controlId="{$refId}"
			arg-required="{$definition.isRequired($editMode)}" />

	<xf:elseif is="$definition.match_type == 'number'" />

		<xf:set var="$step" value="1" />

		<xf:if is="$definition.match_params.number_integer">
			<xf:if is="$definition.match_params.number_min >= 0">
				<xf:set var="$pattern" value="\d*" />
			</xf:if>
		<xf:else />
			<xf:set var="$step" value="any" />
		</xf:if>
		<xf:if is="$definition.match_params.number_min !== ''">
			<xf:set var="$min" value="{$definition.match_params.number_min}" />
		</xf:if>
		<xf:if is="$definition.match_params.number_max !== ''">
			<xf:set var="$max" value="{$definition.match_params.number_max}" />
		</xf:if>

		<xf:numberbox name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
			maxlength="{{ $definition.max_length ? $definition.max_length : '' }}"
			pattern="{$pattern}"
			default=""
			min="{$min}"
			max="{$max}"
			step="{$step}"
			required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
			id="{$refId}"
			class="field_{$definition.field_id}" />

	<xf:else />

		<xf:if is="in_array($definition.match_type, ['regex', 'alphanumeric'])">

			<xf:set var="$type" value="text" />
			<xf:set var="$pattern" value="{{ $definition.match_type == 'regex' ? $definition.match_params.regex : '\w+' }}" />
			<xf:set var="$title">{{ phrase('please_enter_value_that_matches_required_format') }}</xf:set>

		<xf:elseif is="in_array($definition.match_type, ['date', 'email', 'url', 'color'])" />

			<xf:set var="$type" value="{$definition.match_type}" />

		<xf:else />

			<xf:set var="$type" value="text" />

		</xf:if>

		<xf:textbox name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
			type="{$type}"
			maxlength="{{ $definition.max_length ? $definition.max_length : '' }}"
			pattern="{$pattern}"
			title="{$title}"
			min="{$min}"
			max="{$max}"
			step="{$step}"
			required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
			id="{$refId}"
			class="field_{$definition.field_id}" />
	</xf:if>
</xf:macro>

<xf:macro name="custom_fields_edit_textarea" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:textarea name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
		maxlength="{{ $definition.max_length ? $definition.max_length : '' }}"
		autosize="true"
		required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
		id="{$refId}"
		class="field_{$definition.field_id}" />
</xf:macro>

<xf:macro name="custom_fields_edit_bbcode" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:editor name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
		previewable="0"
		data-min-height="80"
		data-attachment-target="false"
		class="field_{$definition.field_id}" />
</xf:macro>

<xf:macro name="custom_fields_edit_select" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-multi="" arg-namePrefix="custom_fields">

	<xf:select name="{$namePrefix}[{$definition.field_id}]"
		value="{{ $set.{$definition.field_id} === null ? '' : {$set.{$definition.field_id}} }}"
		multiple="{$multi}"
		id="{$refId}"
		class="field_{$definition.field_id}">
			<xf:option value="" />
			<xf:options source="$definition.field_choices" />
	</xf:select>
</xf:macro>

<xf:macro name="custom_fields_edit_radio" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:radio name="{$namePrefix}[{$definition.field_id}]"
		value="{{ $set.{$definition.field_id} === null ? '' : {$set.{$definition.field_id}} }}"
		class="field_{$definition.field_id}"
		role="radiogroup" aria-labelledby="{$refId}"
		listclass="listColumns">
			<xf:if is="!$definition.isRequired($editMode)">
				<xf:option value="">{{ phrase('no_selection') }}</xf:option>
			</xf:if>
			<xf:foreach loop="$definition.field_choices" key="$value" value="$label">
				<xf:option value="{$value}" required="{{ $definition.isRequired($editMode) ? 'required' : '' }}">{$label}</xf:option>
			</xf:foreach>
	</xf:radio>
</xf:macro>

<xf:macro name="custom_fields_edit_checkbox" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:checkbox name="{$namePrefix}[{$definition.field_id}]" value="{$set.{$definition.field_id}}"
		required="{{ $definition.isRequired($editMode) ? 'required' : '' }}"
		role="group" aria-labelledby="{$refId}"
		listclass="field_{$definition.field_id} listColumns">
			<xf:options source="$definition.field_choices" />
	</xf:checkbox>
</xf:macro>

<xf:macro name="custom_fields_edit_multiselect" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">

	<xf:macro name="custom_fields_edit_select"
		arg-set="{$set}"
		arg-definition="{$definition}"
		arg-editMode="{$editMode}"
		arg-refId="{$refId}"
		arg-multi="1"
		arg-namePrefix="{$namePrefix}" />
</xf:macro>

<xf:macro name="custom_fields_edit_stars" arg-set="!" arg-definition="!" arg-editMode="!" arg-refId="" arg-namePrefix="custom_fields">
	<xf:macro template="rating_macros" name="rating"
		arg-name="{$namePrefix}[{$definition.field_id}]"
		arg-controlId="{$refId}"
		arg-currentRating="{$set.{$definition.field_id}}"
		arg-deselectable="{{ $definition.isRequired($editMode) ? 'false' : 'true' }}"
		arg-row="{{ false }}" />
</xf:macro>]]></template>
  <template type="public" title="item_thread_lists" version_id="3040000" version_string="3.4.0 Alpha"><![CDATA[<xf:title></xf:title>
<div class="block">
		<div class="block-container">
			<div class="block-body">
					<div class="block-header">
						<h3 class="block-minorHeader">{{ phrase('bh_x_item_descussion', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</h3>
						<div class="p-description">{{ phrase('bh_here_are_the_most_recent_x_item_topics_from_our_community', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
					</div>
						<div class="block-body block-row block-row--separated">
								<div class="block-body">
										<xf:if is="$discussions is not empty">
											<ol class="block-body">
												<xf:foreach loop="$discussions" value="$discussion">
													{{ $discussion.render({'mod': $activeModType})|raw }}
												</xf:foreach>
											</ol>
										<xf:else />
											<div class="blockMessage">{{ phrase('no_discussions_tagged') }}</div>
										</xf:if>
								</div>
							</div>			
			</div>
		</div>
</div>]]></template>
  <template type="public" title="ownerPage_thread_lists" version_id="3040000" version_string="3.4.0 Alpha"><![CDATA[<xf:title></xf:title>
<div class="block">
		<div class="block-container">
			<div class="block-body">
					<div class="block-header">
						<h3 class="block-minorHeader">{{ phrase('bh_my_x_page_topics', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title, 'username':$ownerPage.User.username}) }}</h3>
						<div class="p-description">{{ phrase('bh_here_are_the_most_recent_x_item_topics_from_our_community', {'brandTitle': $item.Brand.brand_title, 'itemTitle': $item.item_title}) }}</div>
					</div>
					<div class="block-body block-row block-row--separated">
						<div class="block-body">
							<xf:if is="$discussions is not empty">
								<ol class="block-body">
									<xf:foreach loop="$discussions" value="$discussion">
										{{ $discussion.render({'mod': $activeModType})|raw }}
									</xf:foreach>
								</ol>
								<xf:else />
								<div class="blockMessage">{{ phrase('no_discussions_tagged') }}</div>
							</xf:if>
						</div>
					</div>			
			</div>
		</div>
</div>]]></template>
  <template type="public" title="push_bh_ownerPage_post_comment_mention" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[{{ phrase('push_x_mentioned_you_comment_on_ys_owner_page', {
	'name': $user.username ?: $alert.username,
	'ownerPage': $content.OwnerPagePost.OwnerPage.title
}) }}
<push:url>{{ link('canonical:owner-page-posts/comments', $content) }}</push:url>]]></template>
  <template type="public" title="push_bh_ownerPage_post_comment_other_commenter" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:if is="$content.OwnerPagePost.OwnerPage.user_id == $content.OwnerPagePost.user_id">
	{{ phrase('push_x_also_commented_on_ys_owner_page_update', {
		'name': $user.username ?: $alert.username,
		'poster': $content.OwnerPagePost.username,
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	}) }}
<xf:else />
	{{ phrase('push_x_also_commented_on_ys_owner_page_post', {
		'name': $user.username ?: $alert.username,
		'poster': $content.OwnerPagePost.username,
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	}) }}
</xf:if>
<push:url>{{ link('canonical:owner-page-posts/comments', $content) }}</push:url>]]></template>
  <template type="public" title="push_bh_ownerPage_post_comment_reaction" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:if is="$xf.visitor.user_id == $content.OwnerPagePost.user_id">
	{{ phrase('push_x_reacted_to_your_comment_on_your_owner_page_post', {
		'name': $user.username ?: $alert.username,
		'reaction': reaction_title($extra.reaction_id)
	}) }}
<xf:else />
	{{ phrase('push_x_reacted_to_your_comment_on_ys_owner_page_post', {
		'name': $user.username ?: $alert.username,
		'poster': $content.OwnerPagePost.username,
		'reaction': reaction_title($extra.reaction_id),
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	}) }}
</xf:if>
<push:url>{{ link('canonical:owner-page-posts', $content) }}</push:url>
<push:tag>bh_ownerPage_post_comment_reaction_{$content.post_comment_id}_{$extra.reaction_id}</push:tag>]]></template>
  <template type="public" title="push_bh_ownerPage_post_comment_your_owner_page" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:if is="$xf.visitor.user_id == $content.OwnerPagePost.user_id">
	{{ phrase('push_x_commented_on_your_owner_page_update', {
		'name': $user.username ?: $alert.username,
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	}) }}
<xf:else />
	{{ phrase('push_x_commented_on_ys_post_on_your_owner_page', {
		'name': $user.username ?: $alert.username,
		'poster': $content.OwnerPagePost.username,
		'ownerPage': $content.OwnerPagePost.OwnerPage.title
	}) }}
</xf:if>
<push:url>{{ link('canonical:owner-page-posts/comments', $content) }}</push:url>]]></template>
  <template type="public" title="push_bh_ownerPage_post_comment_your_post" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[{{ phrase('push_x_commented_on_your_post_on_ys_owner_page', {
	'name': $user.username ?: $alert.username,
	'ownerPage': $content.OwnerPagePost.OwnerPage.title
}) }}
<push:url>{{ link('canonical:owner-page-posts/comments', $content) }}</push:url>]]></template>
  <template type="public" title="push_bh_ownerPage_post_insert" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[{{ phrase('push_alert_owner_page_post_insert', {
	'username': $user.username ?: $alert.username
}) }}
<push:url>{{ link('canonical:owner-page-posts', $content) }}</push:url>]]></template>
  <template type="public" title="push_bh_ownerPage_post_mention" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[{{ phrase('push_x_mentioned_you_message_on_ys_owner_page', {
	'name': $user.username ?: $alert.username,
	'ownerPage': $content.OwnerPage.title
}) }}
<push:url>{{ link('canonical:owner-page-posts', $content) }}</push:url>]]></template>
  <template type="public" title="push_bh_ownerPage_post_reaction" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<xf:if is="$xf.visitor.user_id == $content.OwnerPage.user_id">
	{{ phrase('push_x_reacted_to_your_owner_page_update', {
		'name': $user.username ?: $alert.username,
		'reaction': reaction_title($extra.reaction_id)
	}) }}
<xf:else />
	{{ phrase('push_x_reacted_to_your_post_on_ys_owner_page', {
		'name': $user.username ?: $alert.username,
		'ownerPage': $content.OwnerPage.title,
		'reaction': reaction_title($extra.reaction_id)
	}) }}
</xf:if>
<push:url>{{ link('canonical:owner-page-posts', $content) }}</push:url>
<push:tag>bh_ownerPage_post_reaction_{$content.post_id}_{$extra.reaction_id}</push:tag>]]></template>
  <template type="public" title="report_content_bh_ownerPage_post" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<div class="block-row block-row--separated">
	{{ bb_code($report.content_info.message, 'bh_ownerPage_post', $content ?: $report.User) }}
</div>

<xf:if is="$report.content_info.user">
	<xf:if is="$report.content_info.user.user_id != $report.content_info.ownerPage.user_id">
		<div class="block-row block-row--separated block-row--minor">
			<dl class="pairs pairs--inline">
				<dt>{{ phrase('owner_page') }}</dt>
				<dd><a href="{{ link('owners', $report.content_info.ownerPage) }}">{$report.content_info.ownerPage.title}</a></dd>
			</dl>
		</div>
	</xf:if>
<xf:else />
	<div class="block-row block-row--separated block-row--minor">
		<dl class="pairs pairs--inline">
			<dt>{{ phrase('owner_page') }}</dt>
			<dd>{$report.content_info.ownerPage.title}</dd>
		</dl>
	</div>
</xf:if>]]></template>
  <template type="public" title="report_content_bh_ownerPage_post_comment" version_id="3000900" version_string="3.0.9 Alpha"><![CDATA[<div class="block-row block-row--separated">
	{{ bb_code($report.content_info.message, 'bh_ownerPage_post_comment', $content ?: $report.User) }}
</div>

<xf:if is="$report.content_info.user">
	<xf:if is="$report.content_info.user.user_id != $report.content_info.ownerPage.user_id">
		<div class="block-row block-row--separated block-row--minor">
			<dl class="pairs pairs--inline">
				<dt>{{ phrase('owner_page_post') }}</dt>
				<dd><a href="{{ link('owner-page-posts', $report.content_info) }}">{{ phrase('owner_page_post_for_x', {'username': {$report.content_info.ownerPage.title}}) }}</a></dd>
			</dl>
		</div>
	</xf:if>
<xf:else />
	<div class="block-row block-row--separated block-row--minor">
		<dl class="pairs pairs--inline">
			<dt>{{ phrase('owner_page_post') }}</dt>
			<dd><a href="{{ link('owner-page-posts', $report.content_info) }}">{{ phrase('owner_page_post_for_x', {'username': {$report.content_info.ownerPage.title}}) }}</a></dd>
		</dl>
	</div>
</xf:if>]]></template>
  <template type="public" title="whiteThreeButton" version_id="3000100" version_string="3.0.1 Alpha"><![CDATA[<div class="tab-white-button">
	

				<xf:if is="{$alreadySub}">
				
					 <xf:button id="white-button" data-xf-click="overlay" href="{{ link('bh-item/unsub', $item) }}">{{ phrase('bh_unsubscribe') }}</xf:button>
						<xf:else/>
					 <xf:button id="white-button"  href="{{ link('bh-item/itemsub', $item) }}">{{ phrase('bh_subscribe') }}</xf:button>
				</xf:if>
	
	<xf:if is="$xf.visitor.hasPermission('bh_brand_hub', 'create_bookmark') && $xf.visitor.user_id">

      	<xf:macro name="link" arg-content="{$item}" arg-confirmUrl="{{ link('bh-item/bookmark', $item) }}"/>
	
	</xf:if>
	

</div>
<xf:macro name="link"
	arg-content="!"
	arg-confirmUrl="!"
	arg-editText="{{ phrase('bh_remove_bookmark') }}"
	arg-addText="{{ phrase('bh_bookmark') }}"
	arg-showText="{{ true }}">
 
	<xf:if is="$content.canBookmark()">

		<xf:button href="{$confirmUrl}" id="white-button"
			title="{{ $showText ? '' : phrase('bookmark')|for_attr }}"
			data-xf-click="bookmark-click"
			data-label=".js-bookmarkText"
			data-sk-bookmarked="addClass:is-bookmarked, {$editText|for_attr}"
			data-sk-bookmarkremoved="removeClass:is-bookmarked, {$addText|for_attr}"><xf:trim>
			<span class="js-bookmarkText"><xf:if is="$content.isBookmarked()">{$editText}<xf:else/>{$addText}</xf:if></span>
		</xf:trim></xf:button>
	</xf:if>
</xf:macro>]]></template>
</templates>
