<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="payment_profile_thmonetize_free" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[]]></template>
  <template type="admin" title="payment_profile_thmonetize_other" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:foreach loop="$userUpgrades" key="$upgradeId" value="$upgrade">
	<xf:set var="$optionName" value="alt_url.{$upgradeId}" />
	<xf:textboxrow name="options[{$optionName}]" value="{$profile.options.{$optionName}}"
		label="{$upgrade.title}"
		explain="{{ phrase('thmonetize_alternative_url_for_x', { 'upgrade': $upgrade.title }) }}" />
</xf:foreach>]]></template>
  <template type="admin" title="thmonetize_affiliate_link_edit" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:if is="$affiliateLink.isInsert()">
	<xf:title>{{ phrase('thmonetize_add_affiliate_link') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('thmonetize_edit_affiliate_link:') }} {$affiliateLink.title}</xf:title>
</xf:if>

<xf:pageaction if="$affiliateLink.isUpdate()">
	<xf:button href="{{ link('thmonetize-affiliate-links/delete', $affiliateLink) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:form action="{{ link('thmonetize-affiliate-links/save', $affiliateLink) }}" ajax="true" class="block">
	<div class="block-container">
		<h2 class="block-tabHeader tabs hScroller" data-xf-init="tabs h-scroller" role="tablist">
			<span class="hScroller-scroll">
				<a class="tabs-tab is-active" role="tab" tabindex="0"
				   aria-controls="general-options">{{ phrase('general_options') }}</a>
				<a class="tabs-tab" role="tab" tabindex="1"
				   aria-controls="link-criteria">{{ phrase('thmonetize_link_criteria') }}</a>
				<xf:macro template="helper_criteria" name="user_tabs" />
			</span>
		</h2>

		<ul class="tabPanes block-body">
			<li class="is-active" role="tabpanel" id="general-options">
				<xf:textboxrow name="title" value="{$affiliateLink.title}"
							   maxlength="{{ max_length($affiliateLink, 'title') }}"
					label="{{ phrase('title') }}" />
				
				<xf:textboxrow name="reference_link_prefix"
							   value="{$affiliateLink.reference_link_prefix}"
							   maxlength="{{ max_length($affiliateLink, 'reference_link_prefix') }}"
					label="{{ phrase('thmonetize_reference_link_prefix') }}"
					explain="{{ phrase('thmonetize_reference_link_prefix_explain') }}" />
				
				<xf:textboxrow name="reference_link_suffix"
							   value="{$affiliateLink.reference_link_suffix}"
							   maxlength="{{ max_length($affiliateLink, 'reference_link_suffix') }}"
					label="{{ phrase('thmonetize_reference_link_suffix') }}"
					explain="{{ phrase('thmonetize_reference_link_suffix_explain') }}" />

				<xf:formrow rowtype="input"
					label="{{ phrase('thmonetize_reference_link_find_and_replace') }}"
					explain="{{ phrase('thmonetize_reference_link_find_and_replace_explain') }}">
					
					<ul class="listPlain inputPair-container">
						<xf:foreach loop="$affiliateLink.reference_link_parser" value="$linkParser">
							<xf:if is="$linkParser.type === 'replace'">
								<li class="inputPair">
									<xf:textbox name="reference_link_parser_param_one[]" value="{$linkParser.param_one}"
										placeholder="{{ phrase('thmonetize_find') }}" size="20" />
									<xf:textbox name="reference_link_parser_param_two[]" value="{$linkParser.param_two}"
										placeholder="{{ phrase('thmonetize_replace') }}" size="20" />
									<xf:hiddenval name="reference_link_parser_type[]" value="replace" />
								</li>
							</xf:if>
						</xf:foreach>
						<li class="inputPair" data-xf-init="field-adder">
							<xf:textbox name="reference_link_parser_param_one[]"
								placeholder="{{ phrase('thmonetize_find') }}" size="20" data-i="0" />
							<xf:textbox name="reference_link_parser_param_two[]"
								placeholder="{{ phrase('thmonetize_replace') }}" size="20" data-i="0" />
							<xf:hiddenval name="reference_link_parser_type[]" value="replace" />
						</li>
					</ul>
				</xf:formrow>
				
				<xf:formrow rowtype="input"
					label="{{ phrase('thmonetize_reference_link_component_replace') }}"
					explain="{{ phrase('thmonetize_reference_link_component_replace_explain') }}">
					
					<ul class="listPlain inputPair-container">
						<xf:foreach loop="$affiliateLink.reference_link_parser" value="$linkParser">
							<xf:if is="$linkParser.type === 'parse'">
								<li class="inputPair">
									<xf:select name="reference_link_parser_param_one[]" value="{$linkParser.param_one}">
										<xf:option value="">{{ phrase('(thmonetize_component)') }}</xf:option>
										<xf:option value="scheme">{{ phrase('thmonetize_scheme') }}</xf:option>
										<xf:option value="host">{{ phrase('thmonetize_host') }}</xf:option>
										<xf:option value="port">{{ phrase('thmonetize_port') }}</xf:option>
										<xf:option value="user">{{ phrase('thmonetize_username') }}</xf:option>
										<xf:option value="pass">{{ phrase('thmonetize_password') }}</xf:option>
										<xf:option value="path">{{ phrase('thmonetize_path') }}</xf:option>
										<xf:option value="query">{{ phrase('thmonetize_query') }}</xf:option>
										<xf:option value="fragment">{{ phrase('thmonetize_fragment') }}</xf:option>
									</xf:select>
									<xf:textbox name="reference_link_parser_param_two[]" value="{$linkParser.param_two}"
										placeholder="{{ phrase('thmonetize_replace') }}" size="20" />
									<xf:hiddenval name="reference_link_parser_type[]" value="parse" />
								</li>
							</xf:if>
						</xf:foreach>
						<li class="inputPair" data-xf-init="field-adder">
							<xf:select name="reference_link_parser_param_one[]" data-i="0">
								<xf:option value="">{{ phrase('(thmonetize_component)') }}</xf:option>
								<xf:option value="scheme">{{ phrase('thmonetize_scheme') }}</xf:option>
								<xf:option value="host">{{ phrase('thmonetize_host') }}</xf:option>
								<xf:option value="port">{{ phrase('thmonetize_port') }}</xf:option>
								<xf:option value="user">{{ phrase('thmonetize_username') }}</xf:option>
								<xf:option value="pass">{{ phrase('thmonetize_password') }}</xf:option>
								<xf:option value="path">{{ phrase('thmonetize_path') }}</xf:option>
								<xf:option value="query">{{ phrase('thmonetize_query') }}</xf:option>
								<xf:option value="fragment">{{ phrase('thmonetize_fragment') }}</xf:option>
							</xf:select>
							<xf:textbox name="reference_link_parser_param_two[]"
								placeholder="{{ phrase('thmonetize_replace') }}" size="20" data-i="0" />
							<xf:hiddenval name="reference_link_parser_type[]" value="parse" />
						</li>
					</ul>
				</xf:formrow>
				
				<hr class="formRowSep" />

				<xf:checkboxrow label="{{ phrase('options') }}">
					<xf:option name="active" selected="$affiliateLink.active"
						label="{{ phrase('thmonetize_active') }}" />
					<xf:option name="url_cloaking" selected="$affiliateLink.url_cloaking"
						label="{{ phrase('thmonetize_url_cloaking') }}"
						hint="{{ phrase('thmonetize_url_cloaking_hint') }}" />
					<xf:option name="url_encoding" selected="$affiliateLink.url_encoding"
						label="{{ phrase('thmonetize_url_encoding') }}"
						hint="{{ phrase('thmonetize_url_encoding_hint') }}" />
				</xf:checkboxrow>
			</li>
			
			<li role="tabpanel" id="link-criteria">
				<xf:textboxrow name="link_criteria[domain_match]"
							   value="{$affiliateLink.link_criteria.domain_match}"
					label="{{ phrase('thmonetize_domain_matches') }}"
					explain="{{ phrase('thmonetize_domain_matches_explain') }}" />
				
				<xf:textboxrow name="link_criteria[domain_no_match]"
							   value="{$affiliateLink.link_criteria.domain_no_match}"
					label="{{ phrase('thmonetize_domain_does_not_match') }}"
					explain="{{ phrase('thmonetize_domain_does_not_match_explain') }}" />

				<xf:textboxrow name="link_criteria[domain_extension_match]"
							   value="{$affiliateLink.link_criteria.domain_extension_match}"
					label="{{ phrase('thmonetize_domain_extension_matches') }}"
					explain="{{ phrase('thmonetize_domain_extension_matches_explain') }}" />

				<xf:textboxrow name="link_criteria[domain_extension_no_match]"
							   value="{$affiliateLink.link_criteria.domain_extension_no_match}"
					label="{{ phrase('thmonetize_domain_extension_does_not_match') }}"
					explain="{{ phrase('thmonetize_domain_extension_does_not_match_explain') }}" />

				<xf:textboxrow name="link_criteria[ref_link_match]"
							   value="{$affiliateLink.link_criteria.ref_link_match}"
					label="{{ phrase('thmonetize_reference_link_matches') }}"
					explain="{{ phrase('thmonetize_reference_link_matches_explain') }}" />

				<xf:textboxrow name="link_criteria[ref_link_no_match]"
							   value="{$affiliateLink.link_criteria.ref_link_no_match}"
					label="{{ phrase('thmonetize_reference_link_does_not_match') }}"
					explain="{{ phrase('thmonetize_reference_link_does_not_match_explain') }}" />
			</li>

			<xf:macro template="helper_criteria" name="user_panes"
				arg-criteria="{{ $userCriteria.getCriteriaForTemplate() }}"
				arg-data="{{ $userCriteria.getExtraTemplateData() }}" />
		</ul>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="thmonetize_affiliate_link_list" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('thmonetize_affiliate_links') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('thmonetize-affiliate-links/add') }}" icon="add">
		{{ phrase('thmonetize_add_affiliate_link') }}
	</xf:button>
</xf:pageaction>

<xf:if is="$affiliateLinks is not empty">
	<xf:form action="{{ link('thmonetize-affiliate-links/toggle') }}" class="block" ajax="true">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter" arg-key="affiliate-links"
					  arg-class="block-outer-opposite" />
		</div>
		<div class="block-container">
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="{$affiliateLinks}" value="$affiliateLink">
						<xf:datarow
									label="{$affiliateLink.title}"
									href="{{ link('thmonetize-affiliate-links/edit', $affiliateLink) }}"
									delete="{{ link('thmonetize-affiliate-links/delete', $affiliateLink) }}">
							<xf:toggle name="active[{$affiliateLink.affiliate_link_id}]" selected="$affiliateLink.active"
									   class="dataList-cell--separated" submit="true"
									   tooltip="{{ phrase('enable_disable_x', {'title': $affiliateLink.title}) }}" />
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
				<div class="block-footer">
					<span class="block-footer-counter">{{ display_totals($totalAffiliateLinks) }}</span>
				</div>
			</div>
		</div>
	</xf:form>
<xf:else />
	<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
</xf:if>

<xf:macro template="option_macros" name="option_form_block" arg-options="{$options}" />]]></template>
  <template type="admin" title="thmonetize_communication_edit" version_id="1010595" version_string="1.1.5 Patch Level 5"><![CDATA[<xf:if is="$communication.isInsert()">
	<xf:title>{{ phrase('thmonetize_add_communication') }}</xf:title>
	<xf:else />
	<xf:title>{{ phrase('thmonetize_edit_communication:') }} {$communication.title}</xf:title>
</xf:if>

<xf:pageaction if="$communication.isUpdate()">
	<xf:button href="{{ link('thmonetize-communications/delete', $communication) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:form action="{{ link('thmonetize-communications/save', $communication) }}" ajax="true" class="block">
	<div class="block-container">
		<h2 class="block-tabHeader tabs hScroller" data-xf-init="tabs h-scroller" role="tablist">
			<span class="hScroller-scroll">
				<a class="tabs-tab is-active" role="tab" tabindex="0" aria-controls="general-options">
					{{ phrase('general_options') }}
				</a>
				<xf:macro template="thmonetize_helper_criteria" name="user_upgrade_tabs" />
				<xf:macro template="helper_criteria" name="user_tabs" />
			</span>
		</h2>

		<ul class="tabPanes block-body">
			<li class="is-active" role="tabpanel" id="general-options">

				<xf:macro template="thmonetize_communication_edit_macros"
						  name="time" arg-sendRules="{$communication.send_rules}" />

				<hr class="formRowSep" />

				<xf:formrow rowtype="input"	label="{{ phrase('thmonetize_per_user_limit')}}"
							explain="{{ phrase('thmonetize_alert_per_user_limit_explain')}}">
					<div class="inputGroup inputGroup--numbers">
						<xf:numberbox name="limit" value="{$communication.limit}"
									  placeholder="{{ phrase('thmonetize_alerts') }}" min="0" />
						<span class="inputGroup-text">{{ phrase('thmonetize_per') }}</span>
						<xf:numberbox name="limit_days" value="{$communication.limit_days}"
									  placeholder="{{ phrase('units_days') }}" min="0"
									  max="{{ $xf.options.thmonetize_alertLogLength ?: '' }}" />
						<span class="inputGroup-text">{{ phrase('units_days') }}</span>
					</div>
				</xf:formrow>

				<hr class="formRowSep" />

				<xf:textboxrow name="title" value="{$communication.title}"
							   maxlength="{{ max_length($communication, 'title') }}"
							   label="{{ phrase('title') }}" required="true"
							   explain="{{ phrase('thmonetize_alert_title_is_not_visible_to_the_user') }}" />

				<xf:textboxrow name="username"
							   value="{{ $communication.User ? $communication.User.username : ($communication.isInsert() ? $xf.visitor.username : '') }}"
							   ac="single"
							   label="{{ phrase('from_user') }}"
							   explain="{{ phrase('thmonetize_communication_from_user_explain') }}" />

				<xf:codeeditorrow name="body" value="{$communication.body}"
								  mode="html" data-line-wrapping="true"
								  class="codeEditor--autoSize codeEditor--proportional"
								  label="{{ phrase('thmonetize_communication_body') }}"
								  hint="{{ phrase('you_may_use_html') }}"
								  explain="{{ phrase('thmonetize_communication_body_explain') }}" />


				<hr class="formRowSep" />

				<xf:radiorow name="type">
					<xf:option value="alert" label="{{ phrase('thmonetize_alert') }}" selected="{{ $communication.type == 'alert' }}">
						<xf:textbox name="type_options[alert][link_url]" type="url"
									value="{{ $communication.type == 'alert' ? $communication.type_options.link_url : '' }}"
									label="{{ phrase('link_url') }}"
									dir="ltr" />

						<xf:textbox name="type_options[alert][link_title]"
									value="{{ $communication.type == 'alert' ? $communication.type_options.link_title : '' }}"
									label="{{ phrase('link_title') }}"
									explain="{{ phrase('link_title_explain') }}" />
					</xf:option>
					<xf:option value="email" label="{{ phrase('thmonetize_email') }}" selected="{{ $communication.type == 'email' }}">
						<xf:checkbox label="{{ phrase('options') }}">
							<xf:option name="type_options[email][wrapped]"
									   selected="{{ $communication.type == 'email' ? $communication.type_options.wrapped : 0 }}"
									   label="{{ phrase('include_default_email_wrapper') }}"
									   hint="{{ phrase('include_default_email_wrapper_explain') }}" />
							<xf:option name="type_options[email][unsub]"
									   selected="{{ $communication.type == 'email' ? $communication.type_options.unsub : 0 }}"
									   label="{{ phrase('automatically_include_unsubscribe_link') }}"
									   hint="{{ phrase('automatically_include_unsubscribe_link_desc') }}" />
							<xf:option name="type_options[email][receive_admin_email_only]"
									   selected="{{ $communication.type == 'email' ? $communication.type_options.receive_admin_email_only : 0 }}">
								{{ phrase('only_send_to_users_opting_to_receive_emails_from_admin') }}
							</xf:option>
						</xf:checkbox>
					</xf:option>
					<xf:option value="message" label="{{ phrase('thmonetize_message') }}" selected="{{ $communication.type == 'message' }}">

						<xf:checkbox label="{{ phrase('options') }}">
							<xf:option name="type_options[message][open_invite]"
									   selected="{{ $communication.type == 'message' ? $communication.type_options.open_invite : 0 }}">
								{{ phrase('allow_anyone_in_conversation_to_invite_others') }}</xf:option>
							<xf:option name="type_options[message][conversation_locked]"
									   selected="{{ $communication.type == 'message' ? $communication.type_options.conversation_locked : 0 }}">
								{{ phrase('lock_conversation_no_responses_will_be_allowed') }}</xf:option>
						</xf:checkbox>

						<xf:radio name="type_options[message][delete_type]"
								  value="{{ $communication.type == 'message' ? $communication.type_options.delete_type : 0 }}"
								  label="{{ phrase('future_message_handling') }}">
							<xf:option value=""
									   label="{{ phrase('do_not_leave_conversation') }}"
									   explain="{{ phrase('remain_in_inbox_and_notified_of_replies') }}" />
							<xf:option value="deleted"
									   label="{{ phrase('leave_conversation_and_accept_future_messages') }}"
									   explain="{{ phrase('should_conversation_receive_responses_restored_to_inbox') }}" />
							<xf:option value="deleted_ignored"
									   label="{{ phrase('leave_conversation_and_ignore_future_messages') }}"
									   explain="{{ phrase('not_notified_of_responses_conversation_remain_deleted') }}" />
						</xf:radio>
					</xf:option>
				</xf:radiorow>

				<hr class="formRowSep" />

				<xf:checkboxrow label="{{ phrase('options') }}">
					<xf:option name="active" selected="$communication.active"
							   label="{{ phrase('thmonetize_active') }}" />
				</xf:checkboxrow>
			</li>

			<xf:macro template="thmonetize_helper_criteria" name="user_upgrade_panes"
					  arg-criteria="{{ $userUpgradeCriteria.getCriteriaForTemplate() }}"
					  arg-data="{{ $userUpgradeCriteria.getExtraTemplateData() }}" />

			<xf:macro template="helper_criteria" name="user_panes"
					  arg-criteria="{{ $userCriteria.getCriteriaForTemplate() }}"
					  arg-data="{{ $userCriteria.getExtraTemplateData() }}" />

		</ul>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="thmonetize_communication_edit_macros" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:macro name="time" arg-sendRules="!">
	<xf:radiorow name="send_rules[day_type]" value="{$sendRules.day_type}"
				 label="{{ phrase('thmonetize_send_on_days') }}">

		<xf:option value="dom" label="{{ phrase('day_of_month:') }}">
			<xf:select name="send_rules[dom]"
					   value="{{ $sendRules.dom ?: [-1] |raw }}"
					   multiple="true" size="8" style="width: 200px">

				<xf:option value="-1">{{ phrase('any') }}</xf:option>
				<xf:option value="1">1</xf:option>
				<xf:option value="2">2</xf:option>
				<xf:option value="3">3</xf:option>
				<xf:option value="4">4</xf:option>
				<xf:option value="5">5</xf:option>
				<xf:option value="6">6</xf:option>
				<xf:option value="7">7</xf:option>
				<xf:option value="8">8</xf:option>
				<xf:option value="9">9</xf:option>
				<xf:option value="10">10</xf:option>
				<xf:option value="11">11</xf:option>
				<xf:option value="12">12</xf:option>
				<xf:option value="13">13</xf:option>
				<xf:option value="14">14</xf:option>
				<xf:option value="15">15</xf:option>
				<xf:option value="16">16</xf:option>
				<xf:option value="17">17</xf:option>
				<xf:option value="18">18</xf:option>
				<xf:option value="19">19</xf:option>
				<xf:option value="20">20</xf:option>
				<xf:option value="21">21</xf:option>
				<xf:option value="22">22</xf:option>
				<xf:option value="23">23</xf:option>
				<xf:option value="24">24</xf:option>
				<xf:option value="25">25</xf:option>
				<xf:option value="26">26</xf:option>
				<xf:option value="27">27</xf:option>
				<xf:option value="28">28</xf:option>
				<xf:option value="29">29</xf:option>
				<xf:option value="30">30</xf:option>
				<xf:option value="31">31</xf:option>
			</xf:select>
		</xf:option>
		<xf:option value="dow" label="{{ phrase('day_of_week:') }}">
			<xf:select name="send_rules[dow]"
					   value="{{ $sendRules.dow ?: [-1] |raw }}"
					   multiple="true" size="8" style="width: 200px">

				<xf:option value="-1">{{ phrase('any') }}</xf:option>
				<xf:option value="0">{{ phrase('day_sunday') }}</xf:option>
				<xf:option value="1">{{ phrase('day_monday') }}</xf:option>
				<xf:option value="2">{{ phrase('day_tuesday') }}</xf:option>
				<xf:option value="3">{{ phrase('day_wednesday') }}</xf:option>
				<xf:option value="4">{{ phrase('day_thursday') }}</xf:option>
				<xf:option value="5">{{ phrase('day_friday') }}</xf:option>
				<xf:option value="6">{{ phrase('day_saturday') }}</xf:option>
			</xf:select>
		</xf:option>
	</xf:radiorow>

	<xf:selectrow  name="send_rules[hours]"
				  label="{{ phrase('thmonetize_send_at_hours') }}"
				  value="{{ $sendRules.hours ?: [-1] |raw }}"
				  multiple="true" size="8" style="width: 200px">

		<xf:option value="-1">{{ phrase('any') }}</xf:option>
		<xf:option value="0">0 {{ phrase('(midnight)') }}</xf:option>
		<xf:option value="1">1</xf:option>
		<xf:option value="2">2</xf:option>
		<xf:option value="3">3</xf:option>
		<xf:option value="4">4</xf:option>
		<xf:option value="5">5</xf:option>
		<xf:option value="6">6</xf:option>
		<xf:option value="7">7</xf:option>
		<xf:option value="8">8</xf:option>
		<xf:option value="9">9</xf:option>
		<xf:option value="10">10</xf:option>
		<xf:option value="11">11</xf:option>
		<xf:option value="12">12 {{ phrase('(noon)') }}</xf:option>
		<xf:option value="13">13</xf:option>
		<xf:option value="14">14</xf:option>
		<xf:option value="15">15</xf:option>
		<xf:option value="16">16</xf:option>
		<xf:option value="17">17</xf:option>
		<xf:option value="18">18</xf:option>
		<xf:option value="19">19</xf:option>
		<xf:option value="20">20</xf:option>
		<xf:option value="21">21</xf:option>
		<xf:option value="22">22</xf:option>
		<xf:option value="23">23</xf:option>

		<xf:explain>{{ phrase('thmonetize_send_times_based_on_utc_time_zone') }}</xf:explain>
	</xf:selectrow>

	<xf:selectrow name="send_rules[minutes]"
				  label="{{ phrase('thmonetize_send_at_minutes') }}"
				  value="{{ $sendRules.minutes ?: [-1] |raw }}"
				  multiple="true" size="8" style="width: 200px">

		<xf:option value="-1">{{ phrase('any') }}</xf:option>
		<xf:option value="0">0</xf:option>
		<xf:option value="1">1</xf:option>
		<xf:option value="2">2</xf:option>
		<xf:option value="3">3</xf:option>
		<xf:option value="4">4</xf:option>
		<xf:option value="5">5</xf:option>
		<xf:option value="6">6</xf:option>
		<xf:option value="7">7</xf:option>
		<xf:option value="8">8</xf:option>
		<xf:option value="9">9</xf:option>
		<xf:option value="10">10</xf:option>
		<xf:option value="11">11</xf:option>
		<xf:option value="12">12</xf:option>
		<xf:option value="13">13</xf:option>
		<xf:option value="14">14</xf:option>
		<xf:option value="15">15</xf:option>
		<xf:option value="16">16</xf:option>
		<xf:option value="17">17</xf:option>
		<xf:option value="18">18</xf:option>
		<xf:option value="19">19</xf:option>
		<xf:option value="20">20</xf:option>
		<xf:option value="21">21</xf:option>
		<xf:option value="22">22</xf:option>
		<xf:option value="23">23</xf:option>
		<xf:option value="24">24</xf:option>
		<xf:option value="25">25</xf:option>
		<xf:option value="26">26</xf:option>
		<xf:option value="27">27</xf:option>
		<xf:option value="28">28</xf:option>
		<xf:option value="29">29</xf:option>
		<xf:option value="30">30</xf:option>
		<xf:option value="31">31</xf:option>
		<xf:option value="32">32</xf:option>
		<xf:option value="33">33</xf:option>
		<xf:option value="34">34</xf:option>
		<xf:option value="35">35</xf:option>
		<xf:option value="36">36</xf:option>
		<xf:option value="37">37</xf:option>
		<xf:option value="38">38</xf:option>
		<xf:option value="39">39</xf:option>
		<xf:option value="40">40</xf:option>
		<xf:option value="41">41</xf:option>
		<xf:option value="42">42</xf:option>
		<xf:option value="43">43</xf:option>
		<xf:option value="44">44</xf:option>
		<xf:option value="45">45</xf:option>
		<xf:option value="46">46</xf:option>
		<xf:option value="47">47</xf:option>
		<xf:option value="48">48</xf:option>
		<xf:option value="49">49</xf:option>
		<xf:option value="50">50</xf:option>
		<xf:option value="51">51</xf:option>
		<xf:option value="52">52</xf:option>
		<xf:option value="53">53</xf:option>
		<xf:option value="54">54</xf:option>
		<xf:option value="55">55</xf:option>
		<xf:option value="56">56</xf:option>
		<xf:option value="57">57</xf:option>
		<xf:option value="58">58</xf:option>
		<xf:option value="59">59</xf:option>
	</xf:selectrow>
</xf:macro>]]></template>
  <template type="admin" title="thmonetize_communication_list" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('thmonetize_communcations') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('thmonetize-communications/add') }}" icon="add">
		{{ phrase('thmonetize_add_communication') }}
	</xf:button>
</xf:pageaction>

<xf:if is="$communications is not empty">
	<xf:form action="{{ link('thmonetize-communications/toggle') }}" class="block" ajax="true">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter"
					  arg-key="thmonetize-communications"
					  arg-class="block-outer-opposite" />
		</div>
		<div class="block-container">
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="$communications" value="$communication">
						<xf:datarow
								label="{$communication.title}" hint="{$communication.type_phrase}"
								href="{{ link('thmonetize-communications/edit', $communication) }}"
								delete="{{ link('thmonetize-communications/delete', $communication) }}">
							<xf:explain>
								<xf:if is="{$communication.active}">
									{{ phrase('thmonetize_next_send') . ': ' . date_time($communication.next_send)  }}
								</xf:if>
							</xf:explain>
							<xf:toggle name="active[{$communication.communication_id}]" selected="$communication.active"
								class="dataList-cell--separated" submit="true"
								tooltip="{{ phrase('enable_disable_x', {'title': $communication.title}) }}" />
							<xf:action href="{{ link('thmonetize-communications/send', $communication) }}" overlay="true"
									data-xf-init="tooltip" title="{{ phrase('thmonetize_send_now') }}"
									class="dataList-cell--iconic">
								<xf:fa icon="fa-envelope" />
							</xf:action>
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
				<div class="block-footer">
					<span class="block-footer-counter">{{ display_totals($total) }}</span>
				</div>
			</div>
		</div>
	</xf:form>
<xf:else />
	<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
</xf:if>]]></template>
  <template type="admin" title="thmonetize_communication_send" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link('thmonetize-communications/send', $communication) }}" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{$confirmation}
				<strong>
					<a href="{{ link('thmonetize-communications/edit', $communication) }}">
						{$communication.title}
					</a>
				</strong>
			</xf:inforow>
		</div>
		<xf:submitrow submit="{{ phrase('thmonetize_send_now') }}" rowtype="simple" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="thmonetize_coupon_edit" version_id="1010770" version_string="1.1.7"><![CDATA[<xf:if is="$coupon.isInsert()">
	<xf:title>{{ phrase('thmonetize_add_coupon') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('thmonetize_edit_coupon:') }} {$coupon.title}</xf:title>
</xf:if>

<xf:pageaction if="$coupon.isUpdate()">
	<xf:button href="{{ link('thmonetize-coupons/delete', $coupon) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:form action="{{ link('thmonetize-coupons/save', $coupon) }}" ajax="true" class="block">
	<div class="block-container">
		<h2 class="block-tabHeader tabs hScroller" data-xf-init="tabs h-scroller" role="tablist">
            <span class="hScroller-scroll">
                <a class="tabs-tab is-active" role="tab" aria-controls="thmonetize-coupons-options">{{ phrase('thmonetize_coupon_options') }}</a>
                <xf:macro template="helper_criteria" name="user_tabs" />
            </span>
        </h2>
		
		<ul class="tabPanes block-body">
            <li class="is-active" role="tabpanel" id="thmonetize-coupons-options">
				<xf:textboxrow name="title" value="{$coupon.title}" maxlength="{{ max_length($coupon, 'title') }}"
					label="{{ phrase('title') }}" />

				<xf:textboxrow name="code" value="{$coupon.code}" maxlength="{{ max_length($coupon, 'code') }}"
					label="{{ phrase('code') }}" />

				<hr class="formRowSep" />

				<xf:radiorow name="type" value="{$coupon.type}" label="{{ phrase('type') }}">
					<xf:option value="amount" label="{{ phrase('thmonetize_coupon_type_amount') }}">
						<xf:dependent>
							<xf:numberbox label="{{ phrase('value') }}" name="value" min="1" value="{{ $coupon.type == 'amount' ? $coupon.value : '' }}" />
						</xf:dependent>
					</xf:option>
					<xf:option value="percent" label="{{ phrase('thmonetize_coupon_type_percent') }}">
						<xf:dependent>
							<xf:numberbox label="{{ phrase('value') }}" name="value" min="1" max="99" value="{{ $coupon.type == 'percent' ? $coupon.value : '' }}" />
						</xf:dependent>
					</xf:option>
				</xf:radiorow>

				<hr class="formRowSep" />

				<xf:checkboxrow label="{{ phrase('options') }}">
					<xf:option name="active" selected="$coupon.active"
						label="{{ phrase('thmonetize_active') }}" />
				</xf:checkboxrow>
			</li>
			
			<xf:macro template="helper_criteria" name="user_panes"
					  arg-criteria="{{ $userCriteria.getCriteriaForTemplate() }}"
					  arg-data="{{ $userCriteria.getExtraTemplateData() }}" />
		</ul>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="thmonetize_coupon_list" version_id="1010770" version_string="1.1.7"><![CDATA[<xf:title>{{ phrase('thmonetize_coupons') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('thmonetize-coupons/add') }}" icon="add">{{ phrase('thmonetize_add_coupon') }}</xf:button>
</xf:pageaction>

<xf:if is="$coupons is not empty">
	<xf:form action="{{ link('thmonetize-coupons/toggle') }}" class="block" ajax="true">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter" arg-key="coupons" arg-class="block-outer-opposite" />
		</div>
		<div class="block-container">
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="{$coupons}" value="$coupon">
						<xf:datarow
									label="{$coupon.code} - {$coupon.title}"
									href="{{ link('thmonetize-coupons/edit', $coupon) }}"
									delete="{{ link('thmonetize-coupons/delete', $coupon) }}">
							<xf:toggle name="active[{$coupon.coupon_id}]" selected="$coupon.active"
									   class="dataList-cell--separated" submit="true"
									   tooltip="{{ phrase('enable_disable_x', {'title': $coupon.title}) }}" />
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
				<div class="block-footer">
					<span class="block-footer-counter">{{ display_totals($totalCoupons) }}</span>
				</div>
			</div>
		</div>
	</xf:form>
<xf:else />
	<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
</xf:if>

<xf:macro template="option_macros" name="option_form_block" arg-options="{$options}" />]]></template>
  <template type="admin" title="thmonetize_helper_criteria" version_id="1010011" version_string="1.1.0 Alpha 1"><![CDATA[<xf:macro name="after_groups" arg-criteria="!">
	<xf:checkboxrow label="{{ phrase('thmonetize_user_upgrades') }}">

		<xf:option name="user_criteria[thmonetize_active_upgrades_count][rule]"
				   value="thmonetize_active_upgrades_count" selected="{$criteria.thmonetize_active_upgrades_count}"
				label="{{ phrase('thmonetize_user_has_at_least_x_active_upgrades:') }}">
			<xf:numberbox name="user_criteria[thmonetize_active_upgrades_count][data][upgrades]" value="{$criteria.thmonetize_active_upgrades_count.upgrades}"
				size="5" min="0" step="1" />
		</xf:option>

		<xf:option name="user_criteria[thmonetize_active_upgrades_maximum][rule]"
				   value="thmonetize_active_upgrades_maximum" selected="{$criteria.thmonetize_active_upgrades_maximum}"
				label="{{ phrase('thmonetize_user_has_no_more_than_x_active_upgrades:') }}">
			<xf:numberbox name="user_criteria[thmonetize_active_upgrades_maximum][data][upgrades]"
						  value="{$criteria.thmonetize_active_upgrades_maximum.upgrades}"
				size="5" min="0" step="1" />
		</xf:option>

		<xf:option name="user_criteria[thmonetize_active_upgrades_expiry][rule]"
				   value="thmonetize_active_upgrades_expiry" selected="{$criteria.thmonetize_active_upgrades_expiry}"
				label="{{ phrase('thmonetize_user_has_upgrades_expiring_in_no_more_than_x_days:') }}">
			<xf:numberbox name="user_criteria[thmonetize_active_upgrades_expiry][data][days]"
						  value="{$criteria.thmonetize_active_upgrades_expiry.days}"
				size="5" min="0" step="1" />
		</xf:option>
	</xf:checkboxrow>

	<hr class="formRowSep" />
</xf:macro>

<xf:macro name="user_upgrade_tabs" arg-container="" arg-userUpgradeTabTitle="" arg-active="">
	<xf:set var="$tabs">
		<a class="tabs-tab{{ $active == 'user_upgrade' ? ' is-active' : '' }}"
			role="tab" tabindex="0" aria-controls="{{ unique_id('criteriaUserUpgrade') }}">
			{{ $userUpgradeTabTitle ? $userUpgradeTabTitle : phrase('thmonetize_user_upgrade_criteria') }}</a>
	</xf:set>
	<xf:if is="$container">
		<div class="tabs" role="tablist">
			{$tabs|raw}
		</div>
	<xf:else />
		{$tabs|raw}
	</xf:if>
</xf:macro>

<xf:macro name="user_upgrade_panes" arg-container="" arg-active="" arg-criteria="!" arg-data="!">
	<xf:set var="$panes">
		<li class="{{ $active == 'user_upgrade' ? ' is-active' : '' }}" role="tabpanel"
			id="{{ unique_id('criteriaUserUpgrade') }}">
			<xf:checkboxrow label="{{ phrase('thmonetize_user_upgrade_status') }}">
				<xf:option name="user_upgrade_criteria[is_active][rule]" value="is_active"
						   selected="{$criteria.is_active}"
					label="{{ phrase('thmonetize_user_upgrade_is_active') }}" />
				<xf:option name="user_upgrade_criteria[is_not_active][rule]" value="is_not_active"
						   selected="{$criteria.is_not_active}"
					label="{{ phrase('thmonetize_user_upgrade_is_not_active') }}" />
				<xf:option name="user_upgrade_criteria[is_expired][rule]" value="is_expired"
						   selected="{$criteria.is_expired}"
					label="{{ phrase('thmonetize_user_upgrade_is_expired') }}" />
				<xf:option name="user_upgrade_criteria[is_not_expired][rule]" value="is_not_expired"
						   selected="{$criteria.is_not_expired}"
					label="{{ phrase('thmonetize_user_upgrade_is_not_expired') }}" />
			</xf:checkboxrow>

			<xf:checkboxrow label="{{ phrase('thmonetize_user_upgrade_details') }}">
				<xf:option name="user_upgrade_criteria[is_recurring][rule]" value="is_recurring"
						   selected="{$criteria.is_recurring}"
					label="{{ phrase('thmonetize_user_upgrade_is_recurring') }}" />
				<xf:option name="user_upgrade_criteria[is_not_recurring][rule]" value="is_not_recurring"
						   selected="{$criteria.is_not_recurring}"
					label="{{ phrase('thmonetize_user_upgrade_is_not_recurring') }}" />
			</xf:checkboxrow>

			<xf:checkboxrow label="{{ phrase('thmonetize_user_upgrade_start_date') }}">
				<xf:option name="user_upgrade_criteria[start_date_within][rule]" value="start_date_within"
						   selected="{$criteria.start_date_within}"
					label="{{ phrase('thmonetize_user_upgrade_start_date_is_within_x_days:') }}">
					<xf:numberbox name="user_upgrade_criteria[start_date_within][data][days]"
								  value="{$criteria.start_date_within.days}"
						size="5" min="0" step="1" />
				</xf:option>
				<xf:option name="user_upgrade_criteria[start_date_not_within][rule]" value="start_date_not_within"
						   selected="{$criteria.start_date_not_within}"
					label="{{ phrase('thmonetize_user_upgrade_start_date_is_not_within_x_days:') }}">
					<xf:numberbox name="user_upgrade_criteria[start_date_not_within][data][days]"
								  value="{$criteria.start_date_not_within.days}"
						size="5" min="0" step="1" />
				</xf:option>
			</xf:checkboxrow>

			<xf:checkboxrow label="{{ phrase('thmonetize_user_upgrade_end_date') }}">
				<xf:option name="user_upgrade_criteria[end_date_within][rule]" value="end_date_within"
						   selected="{$criteria.end_date_within}"
					label="{{ phrase('thmonetize_user_upgrade_end_date_is_within_x_days:') }}">
					<xf:numberbox name="user_upgrade_criteria[end_date_within][data][days]"
								  value="{$criteria.end_date_within.days}"
						size="5" min="0" step="1" />
				</xf:option>
				<xf:option name="user_upgrade_criteria[end_date_not_within][rule]" value="end_date_not_within"
						   selected="{$criteria.end_date_not_within}"
					label="{{ phrase('thmonetize_user_upgrade_end_date_is_not_within_x_days:') }}">
					<xf:numberbox name="user_upgrade_criteria[end_date_not_within][data][days]"
								  value="{$criteria.end_date_not_within.days}"
						size="5" min="0" step="1" />
				</xf:option>
			</xf:checkboxrow>

			<xf:checkboxrow label="{{ phrase('thmonetize_user_upgrade_last_updated') }}">
				<xf:option name="user_upgrade_criteria[updated_within][rule]" value="updated_within"
						   selected="{$criteria.updated_within}"
					label="{{ phrase('thmonetize_user_upgrade_last_updated_is_within_x_days:') }}">
					<xf:numberbox name="user_upgrade_criteria[updated_within][data][days]"
								  value="{$criteria.updated_within.days}"
						size="5" min="0" step="1" />
				</xf:option>
				<xf:option name="user_upgrade_criteria[updated_not_within][rule]" value="updated_not_within"
						   selected="{$criteria.updated_not_within}"
					label="{{ phrase('thmonetize_user_upgrade_last_updated_is_not_within_x_days:') }}">
					<xf:numberbox name="user_upgrade_criteria[updated_not_within][data][days]"
								  value="{$criteria.updated_not_within.days}"
						size="5" min="0" step="1" />
				</xf:option>
			</xf:checkboxrow>

			<xf:checkboxrow label="{{ phrase('thmonetize_specific_user_upgrades') }}">
				<xf:option name="user_upgrade_criteria[user_upgrades][rule]" value="user_upgrades"
						   selected="{$criteria.user_upgrades}"
					label="{{ phrase('thmonetize_user_upgrade_is_one_of_the_selected_upgrades:') }}">
					<xf:select name="user_upgrade_criteria[user_upgrades][data][user_upgrade_ids]"
							   size="4" multiple="true" value="{$criteria.user_upgrades.user_upgrade_ids}">
						<xf:foreach loop="$data.userUpgrades" key="$userUpgradeId" value="$userUpgradeTitle">
							<xf:option value="{$userUpgradeId}">{$userUpgradeTitle}</xf:option>
						</xf:foreach>
					</xf:select>
				</xf:option>
				<xf:option name="user_upgrade_criteria[not_user_upgrades][rule]" value="not_user_upgrades"
						   selected="{$criteria.not_user_upgrades}"
					label="{{ phrase('thmonetize_user_upgrade_is_not_one_of_the_selected_upgrades:') }}">
					<xf:select name="user_upgrade_criteria[not_user_upgrades][data][user_upgrade_ids]" size="4"
							   multiple="true" value="{$criteria.not_user_upgrades.user_upgrade_ids}">
						<xf:foreach loop="$data.userUpgrades" key="$userUpgradeId" value="$userUpgradeTitle">
							<xf:option value="{$userUpgradeId}">{$userUpgradeTitle}</xf:option>
						</xf:foreach>
					</xf:select>
				</xf:option>
			</xf:checkboxrow>
		</li>
	</xf:set>

	<xf:if is="$container">
		<ul class="tabPanes">
			{$panes|raw}
		</ul>
	<xf:else />
		{$panes|raw}
	</xf:if>
</xf:macro>]]></template>
  <template type="admin" title="thmonetize_keyword_edit" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:if is="$keyword.isInsert()">
	<xf:title>{{ phrase('thmonetize_add_keyword') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('thmonetize_edit_keyword:') }} {$keyword.title}</xf:title>
</xf:if>

<xf:pageaction if="$keyword.isUpdate()">
	<xf:button href="{{ link('thmonetize-keywords/delete', $keyword) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:form action="{{ link('thmonetize-keywords/save', $keyword) }}" ajax="true" class="block">
	<div class="block-container">
		<h2 class="block-tabHeader tabs hScroller" data-xf-init="tabs h-scroller" role="tablist">
			<span class="hScroller-scroll">
				<a class="tabs-tab is-active" role="tab" tabindex="0" aria-controls="general-options">
					{{ phrase('general_options') }}
				</a>
				<xf:macro template="helper_criteria" name="user_tabs" />
			</span>
		</h2>

		<ul class="tabPanes block-body">
			<li class="is-active" role="tabpanel" id="general-options">
				<xf:textboxrow name="title" value="{$keyword.title}" maxlength="{{ max_length($keyword, 'title') }}"
					label="{{ phrase('title') }}" />
				
				<hr class="formRowSep" />

				<xf:textboxrow name="keyword" value="{$keyword.keyword}" maxlength="{{ max_length($keyword, 'keyword') }}"
					label="{{ phrase('thmonetize_word_or_phrase') }}" />
				
				<xf:checkboxrow label="{{ phrase('thmonetize_keyword_options') }}">
					<xf:option checked="{$keyword.replace_case_insensitive}"
							   name="keyword_options[case_insensitive]" value="1"
							   hint="{{ phrase('th_monetize_match_case_insensitize_hint') }}">
						{{ phrase('th_monetize_match_case_insensitize') }}
					</xf:option>
					<xf:option checked="{$keyword.replace_romanized}"
							   name="keyword_options[romanized]" value="1"
							   hint="{{ phrase('thmonetize_match_romanized_hint') }}">
						{{ phrase('thmonetize_match_romanized') }}
					</xf:option>
					<xf:option checked="{$keyword.replace_in_word}"
							   name="keyword_options[in_word]" value="1"
							   hint="{{ phrase('thmonetize_match_in_word_hint') }}">
						{{ phrase('thmonetize_match_in_word') }}
					</xf:option>
				</xf:checkboxrow>

				<xf:formrow label="{{ phrase('thmonetize_replacement') }}">
					<xf:radio name="replace_type" value="{$keyword.replace_type}">
						<xf:option value="url" label="{{ phrase('thmonetize_replace_with_link_to_url:') }}">
							<xf:textbox name="replacement"
										value="{{ $keyword.replace_type === 'url' ? $keyword.replacement : '' }}" />
						</xf:option>
						<xf:option value="html" label="{{ phrase('thmonetize_replace_with_text:') }}"
								hint="{{ phrase('thmonetize_you_may_use_html_here') }}">
							<xf:textarea name="replacement" rows="2"
										 value="{{ $keyword.replace_type === 'html' ? $keyword.replacement : '' }}" />
						</xf:option>
					</xf:radio>
				</xf:formrow>

				<hr class="formRowSep" />

				<xf:numberboxrow label="{{ phrase('thmonetize_limit') }}" name="limit" min="0" value="{$keyword.limit}" />

				<xf:checkboxrow label="{{ phrase('options') }}">
					<xf:option name="active" selected="$keyword.active"
						label="{{ phrase('thmonetize_active') }}" />
				</xf:checkboxrow>
			</li>

			<xf:macro template="helper_criteria" name="user_panes"
				arg-criteria="{{ $userCriteria.getCriteriaForTemplate() }}"
				arg-data="{{ $userCriteria.getExtraTemplateData() }}" />

		</ul>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="thmonetize_keyword_list" version_id="1010570" version_string="1.1.5"><![CDATA[<xf:title>{{ phrase('thmonetize_keywords') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('thmonetize-keywords/add') }}" icon="add">{{ phrase('thmonetize_add_keyword') }}</xf:button>
</xf:pageaction>

<xf:if is="$keywords is not empty">
	<xf:form action="{{ link('thmonetize-keywords/toggle') }}" class="block" ajax="true">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter" arg-key="keywords" arg-class="block-outer-opposite" />
		</div>
		<div class="block-container">
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="{$keywords}" value="$keyword">
						<xf:datarow
									label="{$keyword.title}"
									href="{{ link('thmonetize-keywords/edit', $keyword) }}"
									delete="{{ link('thmonetize-keywords/delete', $keyword) }}">
							<xf:toggle name="active[{$keyword.keyword_id}]" selected="$keyword.active"
									   class="dataList-cell--separated" submit="true"
									   tooltip="{{ phrase('enable_disable_x', {'title': $keyword.title}) }}" />
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
				<div class="block-footer">
					<span class="block-footer-counter">{{ display_totals($totalKeywords) }}</span>
				</div>
			</div>
		</div>
	</xf:form>
<xf:else />
	<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
</xf:if>

<xf:macro template="option_macros" name="option_form_block" arg-options="{$options}" />]]></template>
  <template type="admin" title="thmonetize_log_communication_list" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('thmonetize_communication_log') }}</xf:title>

<xf:form action="{{ link('logs/thmonetize') }}" class="block">
	<div class="block-container">
		<div class="block-body block-row">
			<span>
				{{ phrase('filter_by_user:') }}
				<xf:select name="user_id" value="{$userId}" class="input--inline">
					<xf:option value="0">{{ phrase('any') }}</xf:option>
					<xf:options source="$logUsers" />
				</xf:select>
				
				{{ phrase('thmonetize_filter_by_type:') }}
				<xf:select name="content_type" value="{$contentType}" class="input--inline">
					<xf:option value="">{{ phrase('any') }}</xf:option>
					<xf:option value="alert">{{ phrase('alert') }}</xf:option>
					<xf:option value="email">{{ phrase('email') }}</xf:option>
					<xf:option value="message">{{ phrase('message') }}</xf:option>
				</xf:select>
			</span>

			<xf:button type="submit">{{ phrase('filter') }}</xf:button>
		</div>
	</div>
</xf:form>

<xf:if is="$entries is not empty">
	<div class="block">
		<div class="block-container">
			<div class="block-body">
				<xf:datalist data-xf-init="responsive-data-list">
					<xf:datarow rowtype="header">
						<xf:cell>{{ phrase('date') }}</xf:cell>
						<xf:cell>{{ phrase('user') }}</xf:cell>
						<xf:cell>{{ phrase('thmonetize_communication') }}</xf:cell>
					</xf:datarow>
					<xf:foreach loop="$entries" value="$entry">
						<xf:datarow>
							<xf:cell>
								<a href="{{ link('logs/thmonetize', $entry) }}" data-xf-click="overlay">
									<xf:date time="{$entry.log_date}" />
								</a>
							</xf:cell>
							<xf:cell><xf:username user="$entry.User" href="{{ link('users/edit', $entry.User) }}" /></xf:cell>
							<xf:cell>
								<a href="{{ link('thmonetize-communications', $entry.Communication) }}">{$entry.Communication.title}</a>
							</xf:cell>
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
			</div>
			<div class="block-footer">
				<span class="block-footer-counter">{{ display_totals($entries, $total) }}</span>
			</div>
		</div>
		<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
			link="logs/thmonetize" params="{$linkFilters}"
			wrapperclass="block-outer block-outer--after" />
	</div>
<xf:else />
	<div class="blockMessage">{{ phrase('no_entries_have_been_logged') }}</div>
</xf:if>]]></template>
  <template type="admin" title="thmonetize_log_communication_view" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('thmonetize_communication_log_entry') }}</xf:title>

<div class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:formrow label="{{ phrase('user') }}">
				<a href="{{ link('users/edit', $entry.User) }}">{$entry.User.username}</a>
			</xf:formrow>
			<xf:formrow label="{{ phrase('date') }}">
				<xf:date time="{$entry.log_date}" />
			</xf:formrow>
			<xf:formrow label="{{ phrase('thmonetize_communication') }}">
				<a href="{{ link('thmonetize-communications', $entry.Communication) }}">{$entry.Communication.title}</a>
			</xf:formrow>
		</div>
	</div>
</div>]]></template>
  <template type="admin" title="thmonetize_monetize" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('admin_navigation.thMonetize') }}</xf:title>

<xf:macro template="section_nav_macros" name="section_nav" arg-section="thMonetize" />]]></template>
  <template type="admin" title="thmonetize_node_edit_macros" version_id="1000012" version_string="1.0.0 Alpha 2"><![CDATA[<xf:macro name="sponsor" arg-node="!" arg-sponsors="!">
	<xf:if is="$sponsors is not empty">
		<hr class="formRowSep" />
		<xf:selectrow name="node[th_sponsor_id]" value="{$node.th_sponsor_id}"
			label="{{ phrase('thmonetize_sponsor') }}">

			<xf:option value="0">{{ phrase('none') }}</xf:option>
			<xf:foreach loop="$sponsors" key="$sponsorId" value="$sponsorTitle">
				<xf:option value="{$sponsorId}" >{$sponsorTitle}</xf:option>
			</xf:foreach>
		</xf:selectrow>
	</xf:if>
</xf:macro>]]></template>
  <template type="admin" title="thmonetize_option_macros" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:macro name="option_form_block" arg-group="" arg-options="!" arg-containerBeforeHtml="" arg-tabs="">
	<xf:if is="$options is not empty">
		<xf:form action="{{ link('options/update') }}" ajax="true" class="block">
			<div class="block-container">
				{$containerBeforeHtml|raw}
				<h2 class="block-tabHeader tabs hScroller"
					data-xf-init="tabs h-scroller"
					role="tablist">
					<span class="hScroller-scroll">
						<xf:foreach loop="$tabs" key="$tabIndex" value="$title">
							<a class="tabs-tab"
							   role="tab"
							   tabindex="{$tabIndex}"
							   aria-controls="options{$tabIndex}">
								{$title}
							</a>
						</xf:foreach>
					</span>
				</h2>
				<ul class="tabPanes">
					<xf:foreach loop="$tabs" key="$tabIndex" value="$title">
						<li role="tabpanel" id="options{$tabIndex}">
							<div class="block-body">
								<xf:foreach loop="{$options.{$tabIndex}}" value="$option">

									<xf:if is="$group">
										<xf:set var="$curHundred" value="{{ floor($option.Relations.{$group.group_id}.display_order / 100) }}" />
										<xf:if is="{{ $curHundred > $hundred }}">
											<xf:set var="$hundred" value="{$curHundred}" />
											<hr class="formRowSep" />
										</xf:if>
									</xf:if>

									<xf:macro name="option_row" template="option_macros" arg-group="{$group}" arg-option="{$option}" />
								</xf:foreach>
							</div>
						</li>
					</xf:foreach>
				</ul>
				<xf:submitrow sticky="true" icon="save" />
			</div>
		</xf:form>
	</xf:if>
</xf:macro>]]></template>
  <template type="admin" title="thmonetize_option_template_limit" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:formrow rowtype="input"
	label="{$option.title}"
	hint="{$hintHtml}"
	explain="{$explainHtml}"
	html="{$listedHtml}">

	<div class="inputGroup inputGroup--numbers">
		<xf:numberbox name="{$inputName}[{$formatParams.entity}]" value="{$option.option_value.{$formatParams.entity}}"
					  placeholder="{$formatParams.placeholder}" min="0" />
		<span class="inputGroup-text">{{ phrase('thmonetize_per') }}</span>
		<xf:numberbox name="{$inputName}[days]" value="{$option.option_value.days}"
					  placeholder="{{ phrase('units_days') }}" min="0" max="{{ $formatParams.max ?: '' }}" />
		<span class="inputGroup-text">{{ phrase('units_days') }}</span>
	</div>
</xf:formrow>]]></template>
  <template type="admin" title="thmonetize_sponsor_edit" version_id="1010670" version_string="1.1.6"><![CDATA[<xf:if is="$sponsor.isInsert()">
	<xf:title>{{ phrase('thmonetize_add_sponsor') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('thmonetize_edit_sponsor:') }} {$sponsor.title}</xf:title>
</xf:if>

<xf:pageaction if="$sponsor.isUpdate()">
	<xf:button href="{{ link('thmonetize-sponsors/delete', $sponsor) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:form action="{{ link('thmonetize-sponsors/save', $sponsor) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:textboxrow name="title" value="{$sponsor.title}" maxlength="{{ max_length($sponsor, 'title') }}"
				label="{{ phrase('title') }}" />

			<hr class="formRowSep" />

			<xf:textboxrow name="url" value="{$sponsor.url}" maxlength="{{ max_length($sponsor, 'url') }}"
				label="{{ phrase('url') }}" />

			<hr class="formRowSep" />

			<xf:textboxrow name="image" value="{$sponsor.image}" maxlength="{{ max_length($sponsor, 'image') }}"
				label="{{ phrase('image') }}" />

			<xf:numberboxrow label="{{ phrase('width') }}" name="width" min="0" value="{$sponsor.width}" />

			<xf:numberboxrow label="{{ phrase('height') }}" name="height" min="0" value="{$sponsor.height}" />

			<hr class="formRowSep" />

			<xf:checkboxrow label="{{ phrase('options') }}">
				<xf:option name="active" selected="$sponsor.active"
					label="{{ phrase('thmonetize_active') }}" />
				<xf:option name="featured" selected="$sponsor.featured"
					label="{{ phrase('thmonetize_featured') }}" />
				<xf:option name="directory" selected="$sponsor.directory"
					label="{{ phrase('thmonetize_show_in_directory') }}" />
			</xf:checkboxrow>
			
			<xf:textarearow label="{{ phrase('notes') }}" name="notes" rows="5" value="{$sponsor.notes}" />
		</div>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="thmonetize_sponsor_list" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('thmonetize_sponsors') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('thmonetize-sponsors/add') }}" icon="add">{{ phrase('thmonetize_add_sponsor') }}</xf:button>
</xf:pageaction>

<xf:if is="$sponsors is not empty">
	<xf:form action="{{ link('thmonetize-sponsors/toggle') }}" class="block" ajax="true">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter" arg-key="sponsors" arg-class="block-outer-opposite" />
		</div>
		<div class="block-container">
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="{$sponsors}" value="$sponsor">
						<xf:datarow
									label="{$sponsor.title}"
									href="{{ link('thmonetize-sponsors/edit', $sponsor) }}"
									delete="{{ link('thmonetize-sponsors/delete', $sponsor) }}">
							<xf:toggle name="active[{$sponsor.th_sponsor_id}]" selected="$sponsor.active"
									   class="dataList-cell--separated" submit="true"
									   tooltip="{{ phrase('enable_disable_x', {'title': $sponsor.title}) }}" />
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
				<div class="block-footer">
					<span class="block-footer-counter">{{ display_totals($totalSponsors) }}</span>
				</div>
			</div>
		</div>
	</xf:form>
<xf:else />
	<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
</xf:if>

<xf:macro template="option_macros" name="option_form_block" arg-options="{$options}" />]]></template>
  <template type="admin" title="thmonetize_upgrade_page_edit" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:if is="$upgradePage.isInsert()">
	<xf:title>{{ phrase('thmonetize_add_upgrade_page') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('thmonetize_edit_upgrade_page:') }} {$upgradePage.title}</xf:title>
</xf:if>

<xf:pageaction if="$upgradePage.isUpdate()">
	<xf:button href="{{ link('thmonetize-upgrade-pages/delete', $upgradePage) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:form action="{{ link('thmonetize-upgrade-pages/save', $upgradePage) }}" ajax="true" class="block">
	<div class="block-container">
		<h2 class="block-tabHeader tabs hScroller" data-xf-init="tabs h-scroller" role="tablist">
			<span class="hScroller-scroll">
				<a class="tabs-tab is-active" role="tab" tabindex="0" aria-controls="general-options">
					{{ phrase('general_options') }}
				</a>
				<xf:macro template="helper_criteria" name="user_tabs" />
				<xf:macro template="helper_criteria" name="page_tabs" />
			</span>
		</h2>

		<ul class="tabPanes block-body">
			<li class="is-active" role="tabpanel" id="general-options">
				<xf:textboxrow name="title" value="{$upgradePage.title}"
							   maxlength="{{ max_length($upgradePage, 'title') }}"
					label="{{ phrase('title') }}" />

				<hr class="formRowSep" />

				<xf:numberboxrow label="{{ phrase('display_order') }}"
					name="display_order" min="0" value="{$upgradePage.display_order}"
					explain="{{ phrase('thmonetize_upgrade_page_display_order_explain') }}" />

				<hr class="formRowSep" />

				<xf:checkboxrow label="{{ phrase('options') }}">
					<xf:option name="active" selected="$upgradePage.active"
						label="{{ phrase('thmonetize_active') }}" />
					<xf:option name="accounts_page" selected="$upgradePage.accounts_page"
						label="{{ phrase('thmonetize_show_as_accounts_page') }}"
						hint="{{ phrase('thmonetize_show_as_accounts_page_hint') }}" />
					<xf:option name="error_message" selected="$upgradePage.error_message"
						label="{{ phrase('thmonetize_show_as_error_message') }}"
						hint="{{ phrase('thmonetize_show_as_error_message_hint') }}" />
					<xf:option name="overlay" selected="$upgradePage.overlay"
						label="{{ phrase('thmonetize_show_as_overlay') }}"
						hint="{{ phrase('thmonetize_show_as_overlay_hint') }}">
						<xf:checkbox>
							<xf:option name="overlay_dismissible" selected="$upgradePage.overlay_dismissible"
								label="{{ phrase('thmonetize_overlay_can_be_dismissed') }}"
								hint="{{ phrase('thmonetize_overlay_can_be_dismissed_hint') }}"/>
						</xf:checkbox>
					</xf:option>
				</xf:checkboxrow>

				<hr class="formRowSep" />

				<xf:radiorow name="show_all" value="{$upgradePage.show_all}" label="{{ phrase('user_upgrades') }}">
					<xf:option value="1"
						label="{{ phrase('thmonetize_show_all_user_upgrades') }}"
						hint="{{ phrase('thmonetize_show_all_user_upgrades_explain') }}" />
					<xf:option value="0"
						label="{{ phrase('thmonetize_show_selected_user_upgrades') }}"
						hint="{{ phrase('thmonetize_show_selected_user_upgrades_explain') }}">
						<xf:checkbox listclass="listColumns">
							<xf:foreach loop="$upgrades" value="$userUpgrade">
								<xf:option name="relations[{$userUpgrade.user_upgrade_id}][selected]" selected="{$relations.{$userUpgrade.user_upgrade_id}} !== null"
									label="{$userUpgrade.title} ({$userUpgrade.cost_phrase})" data-hide="true">
									<xf:macro template="display_order_macros" name="input"
										arg-name="relations[{$userUpgrade.user_upgrade_id}][display_order]"
										arg-value="{$relations.{$userUpgrade.user_upgrade_id}.display_order|default(1)}" />
									<xf:checkbox>
										<xf:option name="relations[{$userUpgrade.user_upgrade_id}][featured]" checked="{$relations.{$userUpgrade.user_upgrade_id}.featured}" label="{{ phrase('thmonetize_display_as_featured') }}" />
									</xf:checkbox>
								</xf:option>
							</xf:foreach>
						</xf:checkbox>
					</xf:option>
				</xf:radiorow>

				<hr class="formRowSep" />

				<xf:checkboxrow label="{{ phrase('thmonetize_links') }}">
					<xf:option name="accounts_page_link" selected="$upgradePage.accounts_page_link"
						label="{{ phrase('thmonetize_link_to_accounts_page') }}"
						hint="{{ phrase('thmonetize_link_to_accounts_page_hint') }}" />
					<xf:if is="$upgradePages is not empty">
						<xf:option selected="$upgradePage.upgrade_page_links"
								label="{{ phrase('thmonetize_link_to_other_upgrade_pages') }}"
								hint="{{ phrase('thmonetize_link_to_other_upgrade_pages_hint') }}">
							<xf:checkbox listclass="listColumns">
								<xf:foreach loop="$upgradePages" key="$upgradePageId" value="$_upgradePage">
									<xf:option name="upgrade_page_links[]" value="{$upgradePageId}"
										selected="in_array($upgradePageId, $upgradePage.upgrade_page_links)"
										label="{$_upgradePage.title}" />
								</xf:foreach>
							</xf:checkbox>
						</xf:option>
					</xf:if>
				</xf:checkboxrow>

				<hr class="formRowSep" />

				<xf:checkboxrow label="{{ phrase('thmonetize_advanced_options') }}">
					<xf:option name="page_criteria_overlay_only" selected="$upgradePage.page_criteria_overlay_only"
						label="{{ phrase('thmonetize_apply_page_criteria_to_overlays_only') }}"
						hint="{{ phrase('thmonetize_apply_page_criteria_to_overlays_only_hint') }}" />
				</xf:checkboxrow>
			</li>

			<xf:macro template="helper_criteria" name="user_panes"
				arg-criteria="{{ $userCriteria.getCriteriaForTemplate() }}"
				arg-data="{{ $userCriteria.getExtraTemplateData() }}" />

			<xf:macro template="helper_criteria" name="page_panes"
				arg-criteria="{{ $pageCriteria.getCriteriaForTemplate() }}"
				arg-data="{{ $pageCriteria.getExtraTemplateData() }}" />
			
		</ul>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="thmonetize_upgrade_page_list" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('thmonetize_upgrade_pages') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('thmonetize-upgrade-pages/add') }}" icon="add">{{ phrase('thmonetize_add_upgrade_page') }}</xf:button>
</xf:pageaction>

<xf:if is="$upgradePages is not empty">
	<xf:form action="{{ link('thmonetize-upgrade-pages/toggle') }}" class="block" ajax="true">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter" arg-key="upgrade-pages"
					  arg-class="block-outer-opposite" />
		</div>
		<div class="block-container">
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="{$upgradePages}" value="$upgradePage">
						<xf:datarow
									label="{$upgradePage.title}"
									href="{{ link('thmonetize-upgrade-pages/edit', $upgradePage) }}"
									delete="{{ link('thmonetize-upgrade-pages/delete', $upgradePage) }}">
							<xf:toggle name="active[{$upgradePage.upgrade_page_id}]" selected="$upgradePage.active"
									   class="dataList-cell--separated" submit="true"
									   tooltip="{{ phrase('enable_disable_x', {'title': $upgradePage.title}) }}" />
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
				<div class="block-footer">
					<span class="block-footer-counter">{{ display_totals($totalUpgradePages) }}</span>
				</div>
			</div>
		</div>
	</xf:form>
<xf:else />
	<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
</xf:if>

<xf:macro template="option_macros" name="option_form_block" arg-options="{$options}" />]]></template>
  <template type="admin" title="thmonetize_user_upgrade_edit_macros" version_id="1010111" version_string="1.1.1 Alpha 1"><![CDATA[<xf:macro name="after_can_purchase" arg-upgrade="!">
	<xf:checkboxrow label="">
		<xf:option name="thmonetize_allow_multiple"
				   selected="{$upgrade.thmonetize_allow_multiple}"
				   label="{{ phrase('thmonetize_can_be_purchased_multiple_times') }}"
				   hint="{{ phrase('thmonetize_can_be_purchased_multiple_times_hint') }}" />
	</xf:checkboxrow>
</xf:macro>

<xf:macro name="after_cost" arg-upgrade="!">
	<xf:checkboxrow label="{{ phrase('thmonetize_cost_options') }}">
		<xf:option name="thmonetize_custom_amount"
				   selected="{$upgrade.thmonetize_custom_amount}"
				   label="{{ phrase('thmonetize_allow_custom_amount') }}"
				   hint="{{ phrase('thmonetize_allow_custom_amount_hint') }}" />
	</xf:checkboxrow>
</xf:macro>

<xf:macro name="form_bottom" arg-upgrade="!" arg-upgradePageRelations="!" arg-upgradePages="!">
	<xf:textboxrow name="thmonetize_redirect_url" label="{{ phrase('thmonetize_redirect_url') }}"
				   value="{$upgrade.thmonetize_redirect_url}" type="url" />
	
	<xf:js src="xf/sort.js, vendor/dragula/dragula.js"/>
	<xf:css src="public:dragula.less"/>

	<h3 class="block-formSectionHeader">
		<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
			<span class="block-formSectionHeader-aligner">{{ phrase('thmonetize_style_properties') }}</span>
		</span>
	</h3>
	<div class="block-body block-body--collapsible{{ $upgrade.thmonetize_style_properties ? ' is-active' : '' }}">
		<xf:checkboxrow label="{{ phrase('thmonetize_style_properties') }}">
			<xf:option selected="{$upgrade.thmonetize_style_properties.color}"
					label="{{ phrase('thmonetize_background_color:') }}" data-hide="true">
				<xf:macro template="public:color_picker_macros" name="color_picker"
						arg-name="thmonetize_style_properties[color]"
						arg-value="{$upgrade.thmonetize_style_properties.color}"
						arg-allowPalette="{{ true }}"
						arg-row="{{ false }}" />
			</xf:option>
			<xf:option selected="{$upgrade.thmonetize_style_properties.shape}"
					label="{{ phrase('thmonetize_shape:') }}" data-hide="true">
				<xf:radio listclass="listColumns"
						value="{{ $upgrade.thmonetize_style_properties.shape ?: 'circle' }}"
						name="thmonetize_style_properties[shape]">
					<xf:option value="circle" label="{{ phrase('thmonetize_circle') }}" />
					<xf:option value="square" label="{{ phrase('thmonetize_square') }}" />
					<xf:option value="star" label="{{ phrase('thmonetize_star') }}" />
					<xf:option value="certificate" label="{{ phrase('thmonetize_certificate') }}" />
					<xf:option value="cloud" label="{{ phrase('thmonetize_cloud') }}" />
					<xf:option value="comment-alt" label="{{ phrase('thmonetize_comment') }}" />
					<xf:option value="folder" label="{{ phrase('thmonetize_folder') }}" />
					<xf:option value="heart" label="{{ phrase('thmonetize_heart') }}" />
					<xf:option value="hexagon" label="{{ phrase('thmonetize_hexagon') }}" />
					<xf:option value="poop" label="{{ phrase('thmonetize_poop') }}" />
					<xf:option value="shield" label="{{ phrase('thmonetize_shield') }}" />
					<xf:option value="weight-hanging" label="{{ phrase('thmonetize_weight') }}" />
				</xf:radio>
			</xf:option>
			<xf:option selected="{$upgrade.thmonetize_style_properties.icon}"
					label="{{ phrase('thmonetize_feature_list_icon_class:') }}" data-hide="true">
				<xf:textbox name="thmonetize_style_properties[icon]"
					value="{$upgrade.thmonetize_style_properties.icon}" />
			</xf:option>
		</xf:checkboxrow>
	</div>

	<h3 class="block-formSectionHeader">
		<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
			<span class="block-formSectionHeader-aligner">{{ phrase('thmonetize_features') }}</span>
		</span>
	</h3>
	<div class="block-body block-body--collapsible{{ $upgrade.thmonetize_features ? ' is-active' : '' }}">
		<xf:formrow rowtype="input"
					label="{{ phrase('thmonetize_features') }}"
					explain="{{ phrase('thmonetize_features_explain') }}">

			<div class="inputGroup-container" data-xf-init="list-sorter" data-drag-handle=".dragHandle">
				<xf:foreach loop="$upgrade.thmonetize_features" value="$feature">
					<div class="inputGroup">
						<span class="inputGroup-text dragHandle"
							  aria-label="{{ phrase('drag_handle')|for_attr }}"></span>
						<xf:textbox name="thmonetize_features[text][]" value="{$feature.text}"
									placeholder="{{ phrase('text') }}" />
						<xf:textbox name="thmonetize_features[description][]" value="{$feature.description}"
									placeholder="{{ phrase('description') }}" />
					</div>
				</xf:foreach>
				<div class="inputGroup is-undraggable js-blockDragafter" data-xf-init="field-adder"
					 data-remove-class="is-undraggable js-blockDragafter">
					<span class="inputGroup-text dragHandle"
						aria-label="{{ phrase('drag_handle')|for_attr }}"></span>
					<xf:textbox name="thmonetize_features[text][]"
						placeholder="{{ phrase('text') }}"
						data-i="0" />
					<xf:textbox name="thmonetize_features[description][]"
						placeholder="{{ phrase('description') }}"
						data-i="0" />
				</div>
			</div>
		</xf:formrow>
	</div>

	<xf:if is="$upgradePages is not empty">
		<h3 class="block-formSectionHeader">
			<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
				<span class="block-formSectionHeader-aligner">{{ phrase('thmonetize_upgrade_pages') }}</span>
			</span>
		</h3>
		<div class="block-body block-body--collapsible{{ $upgradePageRelations ? ' is-active' : '' }}">
			<xf:checkboxrow listclass="listColumns" label="{{ phrase('thmonetize_upgrade_pages') }}">
				<xf:foreach loop="$upgradePages" value="$upgradePage">
					<xf:option name="upgrade_page_relations[{$upgradePage.upgrade_page_id}][selected]" selected="{$upgradePageRelations.{$upgradePage.upgrade_page_id}} !== null"
						label="{$upgradePage.title}" data-hide="true">
						<xf:macro template="display_order_macros" name="input"
							arg-name="upgrade_page_relations[{$upgradePage.upgrade_page_id}][display_order]"
							arg-value="{$upgradePageRelations.{$upgradePage.upgrade_page_id}.display_order|default(1)}" />
						<xf:checkbox>
							<xf:option name="upgrade_page_relations[{$upgradePage.upgrade_page_id}][featured]" checked="{$upgradePageRelations.{$upgradePage.upgrade_page_id}.featured}" label="{{ phrase('thmonetize_display_as_featured') }}" />
						</xf:checkbox>
					</xf:option>
				</xf:foreach>
			</xf:checkboxrow>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="admin" title="thmonetize_user_upgrade_list_macros" version_id="1010196" version_string="1.1.1 Patch Level 6"><![CDATA[<xf:macro name="actions_bottom" arg-upgrade="!">
	<a href="{{ link('user-upgrades/share', $upgrade) }}" data-xf-click="overlay" class="menu-linkRow">
		{{ phrase('thmonetize_share_upgrade_link') }}
	</a>
</xf:macro>]]></template>
  <template type="admin" title="thmonetize_user_upgrade_share" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('thmonetize_share_upgrade_link') }}</xf:title>

<xf:if is="$profiles is not empty">
	<div class="block">
		<div class="block-container">
			<xf:foreach loop="$upgrade.payment_profile_ids" value="$profileId">
				<h3 class="block-header">
					{$profiles.{$profileId}.title}
				</h3>
				<xf:if contentcheck="true">
					<div class="block-body block-row block-row--separated block-row--separated--mergePrev">
						<xf:contentcheck>
							<xf:macro template="public:share_page_macros" name="buttons"
								arg-iconic="{{ true }}"
								arg-hideLink="{{ true }}"
								arg-pageUrl="{$upgrade.getThMonetizeUpgradeCanonicalLink($profileId)}"
								arg-pageTitle="{$upgrade.title}"
								arg-pageDesc="{$upgrade.description}" />
						</xf:contentcheck>
					</div>
				</xf:if>
				<div class="block-body block-row block-row--separated">
					<xf:macro template="public:share_page_macros" name="share_clipboard_input"
						arg-label=""
						arg-text="{$upgrade.getThMonetizeUpgradeCanonicalLink($profileId)}"
						arg-successText="{{ phrase('link_copied_to_clipboard') }}" />
				</div>
			</xf:foreach>
		</div>
	</div>
</xf:if>]]></template>
  <template type="public" title="alert_user_thmonetize_alert" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[{$extra.alert_text|raw}]]></template>
  <template type="public" title="push_user_thmonetize_alert" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[{$extra.alert_text|strip_tags}
<xf:if is="$extra.link_url">
	<push:url>{$extra.link_url}</push:url>
</xf:if>]]></template>
  <template type="public" title="thmonetize_account_upgrade_free" version_id="1000037" version_string="1.0.0 Beta 7"><![CDATA[<xf:title>{{ phrase('thmonetize_upgrade_complete') }}</xf:title>

<xf:wrap template="account_wrapper" />

<div class="blockMessage">{{ phrase('thmonetize_your_account_has_been_upgraded') }}</div>]]></template>
  <template type="public" title="thmonetize_features" version_id="1010091" version_string="1.1.0 Patch Level 1"><![CDATA[<xf:macro template="thmonetize_upgrade_page_macros" name="features"
	arg-features="{$upgrade.thmonetize_features}"
	arg-upgrade="{$upgrade}"
	arg-styleProperties="{$upgrade.thmonetize_style_properties}" />]]></template>
  <template type="public" title="thmonetize_free_account_confirm" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>
	{{ phrase('thmonetize_free_account_confirm') }}
</xf:title>

<xf:form action="{{ link('thmonetize-free-account') }}" class="block">
	<div class="block-container">
		<div class="block-body">
			<div class="block-row">
				{{ phrase('thmonetize_free_account_confirm_explain') }}
			</div>
		</div>
		<xf:hiddenval name="confirm" value="1" />
		<xf:submitrow icon="confirm" />
	</div>
</xf:form>]]></template>
  <template type="public" title="thmonetize_node_list_macros" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:macro name="sponsor_below" arg-node="!">
	<xf:if is="$node.Sponsor.active && $node.Sponsor.title">
		<xf:css src="thmonetize_sponsor.less" />
		<dl class="node-thMonetizeSponsorBlock pairs pairs--justified">
			<dt>{{ phrase('thmonetize_sponsored_by')}}</dt>
			<dd><a href="{$node.Sponsor.url}">{$node.Sponsor.title}</a></dd>
		</dl>
	</xf:if>
</xf:macro>

<xf:macro name="sponsor_image" arg-node="!">
	<xf:if is="$node.Sponsor.active && $node.Sponsor.image">
		<xf:css src="thmonetize_sponsor.less" />
		<div class="node-thMonetizeSponsorImage" style="width: {$node.Sponsor.width}px;">
			<a target="_blank" href="{$node.Sponsor.url}"><img src="{$node.Sponsor.image}" width="{$node.Sponsor.width}" height="{$node.Sponsor.height}"></a>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="thmonetize_notice_upgrade" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[{{ phrase('thmonetize_an_account_upgrade_purchase_is_required_to_complete_your_registration') }}<br />
<a href="{{ link('account/upgrades') }}">{{ phrase('account_upgrades') }}</a>]]></template>
  <template type="public" title="thmonetize_page_container_extra_output" version_id="1010017" version_string="1.1.0 Alpha 7"><![CDATA[<xf:if is="$thmonetize_upgradePage && $thmonetize_upgrades && $thmonetize_profiles">
	<xf:macro name="upgrade_page"
		arg-upgradePage="{$thmonetize_upgradePage}"
		arg-upgrades="{$thmonetize_upgrades}"
		arg-profiles="{$thmonetize_profiles}"
		/>
</xf:if>

<xf:macro name="upgrade_page" arg-upgradePage="!" arg-upgrades="!" arg-profiles="!">
	<xf:css src="thmonetize_upgrade_page.less" />
	<xf:js src="themehouse/monetize/structure.js" min="themehouse/monetize/structure.min.js" addon="ThemeHouse/Monetize" />
	<div style="display: none">
		<div class="block"
			data-xf-init="thmonetize_notice-overlay"
			data-dismissible="{{ $upgradePage.overlay_dismissible ? 'true' : 'false' }}"
			>
			<div class="overlay-title">{$upgradePage.title}</div>
			<xf:macro template="thmonetize_upgrade_page_macros"
				name="upgrade_options"
				arg-upgradePage="{$upgradePage}"
				arg-upgrades="{$upgrades}"
				arg-profiles="{$profiles}"
				/>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="thmonetize_register_form_above_username" version_id="1000038" version_string="1.0.0 Beta 8"><![CDATA[<xf:if is="$thmonetize_upgrade">
	<xf:hiddenval name="thmonetize_user_upgrade_id" value="{$fields.thmonetize_user_upgrade_id}" />
	<xf:formrow label="{{ phrase('thmonetize_account_upgrade') }}"
		explain="{$thmonetize_upgrade.description}">
		{$thmonetize_upgrade.title} ({$thmonetize_upgrade.cost_phrase})
	</xf:formrow>
	<xf:if is="{{ count($thmonetize_upgrade.payment_profile_ids) > 1 }}">
		<xf:selectrow label="{{ phrase('thmonetize_payment_method') }}" hint="{{ phrase('required') }}"
			name="thmonetize_payment_profile_id" value="{$fields.thmonetize_payment_profile_id}">
			<xf:option>{{ phrase('(choose_payment_method)') }}</xf:option>
			<xf:foreach loop="$thmonetize_upgrade.payment_profile_ids" value="$profileId">
				<xf:option value="{$profileId}">{$thmonetize_profiles.{$profileId}}</xf:option>
			</xf:foreach>
		</xf:selectrow>
	<xf:else />
		<xf:hiddenval name="thmonetize_payment_profile_id">{$thmonetize_upgrade.payment_profile_ids|first}</xf:hiddenval>
	</xf:if>
</xf:if>]]></template>
  <template type="public" title="thmonetize_sponsor.less" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[.node-thMonetizeSponsorBlock
{
	padding: @xf-blockPaddingV @xf-blockPaddingH;
	.xf-blockFooter();
	.m-clearFix();
	&.pairs.pairs--justified {
		display: block;
	}
}

.node-thMonetizeSponsorImage
{
	float: right;
    display: table-cell;
    vertical-align: middle;
    text-align: center;
	padding: 10px 0;
    margin-left: 20px;
}

@media (max-width: @xf-responsiveMedium)
{
	.node-thMonetizeSponsorImage
	{
		display: none;
	}
}

.thmonetize_SponsorsList
{
	display: flex;
	flex-wrap: wrap;
	margin-right: -@xf-paddingMedium;

	.thmonetize_Sponsor {
		flex-basis: 250px;
		flex-grow: 1;
		padding-right: @xf-paddingMedium;
		display: flex;
		flex-direction: column;
		justify-content: center;
	}
}]]></template>
  <template type="public" title="thmonetize_sponsors" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:title>{{ phrase('thmonetize_sponsors') }}</xf:title>

<xf:macro name="sponsors_list" arg-sponsors="{$sponsors}" />

<xf:macro name="sponsor" arg-sponsor="!">
    <xf:if contentcheck="true">
        <xf:css src="thmonetize_sponsor.less" />
        <div class="thmonetize_Sponsor">
            <div class="block-container">
                <xf:contentcheck>
                    <xf:if is="$sponsor.title">
                        <h2 class="block-header"><a href="{$sponsor.url}">{$sponsor.title}</a></h2>
                    </xf:if>
                    <xf:if is="$sponsor.image">
                        <div class="block-body">
                            <div class="block-row">
                                <a target="_blank" href="{$sponsor.url}"><img src="{$sponsor.image}" width="{$sponsor.width}" height="{$sponsor.height}"></a>
                            </div>
                        </div>
                    </xf:if>
                </xf:contentcheck>
            </div>
        </div>
    </xf:if>
</xf:macro>

<xf:macro name="sponsors_list" arg-sponsors="!">
	<xf:css src="thmonetize_sponsor.less" />
	<div class="thmonetize_SponsorsList">
		<xf:foreach loop="$sponsors" value="$sponsor">
			<xf:macro name="sponsor" arg-sponsor="{$sponsor}" />
		</xf:foreach>
	</div>
</xf:macro>]]></template>
  <template type="public" title="thmonetize_upgrade_custom" version_id="1010193" version_string="1.1.1 Patch Level 3"><![CDATA[<xf:title>{{ phrase('account_upgrades') }}</xf:title>

<div class="block">
	<xf:form action="{{ link('purchase', $upgrade, {'user_upgrade_id': $upgrade.user_upgrade_id}) }}" ajax="true" data-xf-init="payment-provider-container">

		<div class="block-container">
			<h2 class="block-header">{$upgrade.title}</h2>

			<xf:if contentcheck="true">
				<div class="block-body">
					<xf:contentcheck>
						<xf:if is="$upgrade.thmonetize_custom_amount">
							<xf:formrow rowtype="input" label="{{ phrase('thmonetize_custom_amount') }}"
										explain="{{ phrase('thmonetize_you_may_enter_any_amount_for_this_upgrade', {
												 'min': $upgrade.cost_phrase
												 }) }}">
								<div class="inputGroup">
									<xf:if is="$xf.language.currency_format === '{symbol}{value}' || $xf.language.currency_format === '{symbol} {value}'">
										<span class="inputGroup-text">{{ $upgrade.getThMonetizeCostCurrencySymbol(false) }}</span>
									</xf:if>
									<xf:textbox name="thmonetize_cost_amount" value="{$upgrade.cost_amount}" min="{$upgrade.cost_amount}" style="width: 120px" />
									<xf:if is="!($xf.language.currency_format === '{symbol}{value}' || $xf.language.currency_format === '{symbol} {value}')">
										<span class="inputGroup-text">{{ $upgrade.getThMonetizeCostCurrencySymbol(false) }}</span>
									</xf:if>
									<span class="inputGroup-text">{{ $upgrade.getThMonetizeLengthPhraseLong(false) }}</span>
								</div>
							</xf:formrow>
						</xf:if>
					</xf:contentcheck>
				</div>
			</xf:if>

			<xf:hiddenval name="payment_profile_id">{$paymentProfile.payment_profile_id}</xf:hiddenval>
			<xf:hiddenval name="_xfRedirect">{$redirect}</xf:hiddenval>

			<xf:submitrow icon="purchase" sticky="true" />
		</div>
	</xf:form>
</div>]]></template>
  <template type="public" title="thmonetize_upgrade_page.less" version_id="1010570" version_string="1.1.5"><![CDATA[@thmonetize-var-padding-top: ((@xf-thmonetize_userUpgradeShapeWidth - @xf-thmonetize_userUpgradeShapeBorderWidth - 60px) / 2);

.thmonetize_upgrade {
	&--hasShape .formRow {
		dt {
			position: relative;
			overflow: hidden;
		}
		.formRow-labelWrapper:after {
			.m-faBase();
			font-weight: 900;
			font-size: 100px;
			line-height: 100px;
			position: absolute;
			left: -50px;
			opacity: 0.3;
		}
	}

	&--circle {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-circle);
		}
	}
	&--square {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-square);
		}
	}
	&--star {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-star);
		}
	}
	&--certificate {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-certificate);
		}
	}
	&--weight-hanging {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-weight-hanging);
		}
	}
	&--shield {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-shield);
		}
	}
	&--hexagon {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-hexagon);
		}
	}
	&--heart {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-heart);
		}
	}
	&--folder {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-folder);
		}
	}
	&--comment-alt {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-comment-alt);
		}
	}
	&--cloud {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-cloud);
		}
	}
	&--poop {
		.formRow-labelWrapper:after {
			.m-faContent(@fa-var-poop);
		}
	}
	.block-body {
		padding-top: @xf-paddingLarge;
		padding-bottom: @xf-paddingLarge;
	}
	.block-row:first-child {
		padding-top: 0;
	}
	.block-row:last-child {
		padding-top: 0;
		padding-bottom: 0;
	}
	
	.user-upgrade-feature {
		display: flex;
		// align-items: center;
		&:not(:last-child) {
			margin-bottom: @xf-paddingMedium;			
		}

		// line-height: 1;
	}
	i {
		color: @xf-linkColor;
		display: inline-block;
		padding-right: @xf-paddingSmall * 2;
		padding-top: @xf-paddingSmall;
	}
}

.overlay .thmonetize_UpgradeOptionsList {
	padding: @xf-paddingMedium;
}

.thmonetize_UpgradeOptionsList {
	display: flex;
	flex-wrap: wrap;
	margin-right: -@xf-paddingMedium;
	margin-bottom: @xf-paddingMedium;
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
	margin: 0;
	grid-gap: @xf-paddingMedium;

	.thmonetize_upgradeHeader, .block-footer {padding: @xf-paddingLarge;}

	.thmonetize_upgradeTitle {
		margin: 0;
		margin-bottom: .5em;
		font-size: @xf-fontSizeLarger;
		font-weight: @xf-fontWeightHeavy;
	}

	.thmonetize_upgrade {
		overflow: hidden;
	}

	.thmonetize_upgrade--hasColor .block-header {
		border-bottom: 0;
	}

	.thmonetize_upgradeHeader {
		background: @xf-contentBg;

		&.thmonetize_upgradeHeader--shape {
			//margin-bottom: (@xf-thmonetize_userUpgradeShapeWidth / 2);

			.thmonetize_upgradeHeader__price {
				width: @xf-thmonetize_userUpgradeShapeWidth;
				height: @xf-thmonetize_userUpgradeShapeWidth;
				// margin-bottom: -(@xf-thmonetize_userUpgradeShapeWidth / 2);
				margin: 0 auto;
				text-align: center;
			}
		}

		&--circle, &--square {
			.thmonetize_upgradeHeader__price {
				background-color: @xf-contentBg;
				border: @xf-thmonetize_userUpgradeShapeBorderWidth solid @xf-contentAltBg;
				padding-top: @thmonetize-var-padding-top;
			}
		}
		&--circle {
			.thmonetize_upgradeHeader__price {
				border-radius: 50%;
			}
		}
		&--star, &--certificate, &--poop, &--bread, &--cloud, &--comment-alt, &--folder, &--heart, &--hexagon, &--shield, &--weight-hanging {
			.thmonetize_upgradeHeader__price {
				position: relative;
				padding-top: (@thmonetize-var-padding-top + @xf-thmonetize_userUpgradeShapeBorderWidth);
				padding-bottom: @xf-thmonetize_userUpgradeShapeBorderWidth;
				&:before {
					.m-faBase();
					position: absolute;
					display: inline-block;
					font-size: (@xf-thmonetize_userUpgradeShapeWidth - @xf-thmonetize_userUpgradeShapeBorderWidth);
					line-height: (@xf-thmonetize_userUpgradeShapeWidth - @xf-thmonetize_userUpgradeShapeBorderWidth);
					font-weight: 900;
					top: (@xf-thmonetize_userUpgradeShapeBorderWidth / 2);
					color: @xf-contentBg;
					-webkit-text-stroke: @xf-thmonetize_userUpgradeShapeBorderWidth @xf-contentAltBg;
				}
			}
		}
		&--star {
			.thmonetize_upgrade__length {
				max-width: (@xf-thmonetize_userUpgradeShapeWidth / 2);
			}
			.thmonetize_upgradeHeader__price {
				&:before {
					.m-faContent(@fa-var-star);
				}
			}
		}
		&--certificate {
			.thmonetize_upgradeHeader__price {
				&:before {
					.m-faContent(@fa-var-certificate);
				}
			}
		}
		&--weight-hanging {
			.thmonetize_upgradeHeader__price {
				padding-top: (@thmonetize-var-padding-top + @xf-thmonetize_userUpgradeShapeBorderWidth + @xf-thmonetize_userUpgradeShapeWidth / 10);
				&:before {
					.m-faContent(@fa-var-weight-hanging);
				}
			}
		}
		&--shield {
			.thmonetize_upgradeHeader__price {
				padding-top: (@thmonetize-var-padding-top + @xf-thmonetize_userUpgradeShapeBorderWidth - @xf-thmonetize_userUpgradeShapeWidth / 10);
				&:before {
					.m-faContent(@fa-var-shield);
				}
			}
		}
		&--hexagon {
			.thmonetize_upgradeHeader__price {
				&:before {
					.m-faContent(@fa-var-hexagon);
				}
			}
		}
		&--heart {
			.thmonetize_upgrade__length {
				max-width: (@xf-thmonetize_userUpgradeShapeWidth / 2);
			}
			.thmonetize_upgradeHeader__price {
				padding-top: (@thmonetize-var-padding-top + @xf-thmonetize_userUpgradeShapeBorderWidth - @xf-thmonetize_userUpgradeShapeWidth / 10);
				&:before  {
					.m-faContent(@fa-var-heart);
				}
			}
		}
		&--folder {
			.thmonetize_upgradeHeader__price {
				&:before {
					.m-faContent(@fa-var-folder);
				}
			}
		}
		&--comment-alt {
			.thmonetize_upgradeHeader__price {
				padding-top: (@thmonetize-var-padding-top + @xf-thmonetize_userUpgradeShapeBorderWidth - @xf-thmonetize_userUpgradeShapeWidth / 8);
				&:before {
					.m-faContent(@fa-var-comment-alt);
				}
			}
		}
		&--cloud {
			.thmonetize_upgradeHeader__price {
				padding-top: (@thmonetize-var-padding-top + @xf-thmonetize_userUpgradeShapeBorderWidth + @xf-thmonetize_userUpgradeShapeWidth / 10);
				&:before {
					.m-faContent(@fa-var-cloud);
				}
			}
		}
		&--poop {
			.thmonetize_upgradeHeader__price {
				padding-top: (@thmonetize-var-padding-top + @xf-thmonetize_userUpgradeShapeBorderWidth + @xf-thmonetize_userUpgradeShapeWidth / 6);
				&:before {
					.m-faContent(@fa-var-poop);
				}
			}
		}
	}

	.block-container {
		background: @xf-contentAltBg;
		margin: 0;
	}

	.thmonetize_UpgradeOption {
		flex-basis: 250px;
		flex-grow: 1;
		// padding-right: @xf-paddingMedium;
		display: flex;
		flex-direction: column;
		justify-content: center;

		&--featured {
			.block-container {
				border: 2px solid @xf-linkColor;
			}
		}
	}

	.block-container {
		display: flex;
		flex-direction: column;
		flex-grow: 1;
	}

	.thmonetize_upgradeHeader__priceRow {
	}

	.thmonetize_upgrade__price {
		.xf-thmonetize_userUpgradePrice();
		line-height: 1;
	}

	.thmonetize_upgrade__currency {
		.xf-thmonetize_userUpgradeCurrency();
		z-index: 1;
		vertical-align: top;
	}

	.thmonetize_upgrade__occurrence {
		.xf-thmonetize_userUpgradeOccurrence();
		align-self: flex-end;
		z-index: 1;
	}

	.thmonetize_upgrade__length {
		.xf-thmonetize_userUpgradeLength();
		z-index: 1;
		text-align: center;
		line-height: 1em;
		padding-top: 10px;
	}

	.block-body {
		flex-grow: 1;
		// padding-top: 10px;
		// padding-bottom: 20px;
	}

	.thmonetize_purchase .button {
		margin-top: @xf-paddingMedium;
	}
}

.user-upgrade-toggle-open, .user-upgrade-toggle-close {
	padding-left: 5px;
}

.user-upgrade-feature {
	.user-upgrade-toggle-close {
		display: none;
	}

	&.is-active {
		.user-upgrade-toggle-open {
			display: none;
		}
		.user-upgrade-toggle-close {
			display: inline;
		}
	}
}

.user-upgrade-description {
	display: none !important;

	&.is-active {
		display: flex !important;
	}
}

.thmonetize_UpgradeOptionsList, .thmonetize_UpgradeButtons {
	.block-footer {
		text-align: center;

		form {display: inline-block;}
	}
}

.thmonetize_UpgradePageLinks {
	padding: @xf-paddingMedium;
	.thmonetize_UpgradePageLinks-more {
		float: right;
	}
	a {
		padding: @xf-paddingMedium;
		&:hover {
			text-decoration: none;
		}
	}
}

@media (max-width: @xf-formResponsive) {
	.thmonetize_upgrade--hasShape .formRow {
		.formRow-labelWrapper:after {
			right: @xf-paddingMedium;
			left: unset;
			font-size: 15px;
			line-height: 15px;
		}
	}
}

//Monetize filters header
.block--monetizeOptions {
	display: flex;
	flex-flow: row wrap;
	justify-content: flex-end;
	
	.buttonGroup {
		margin-right: @xf-paddingMedium;
	}
	
	.u-pullRight { float: none !important; }
}]]></template>
  <template type="public" title="thmonetize_upgrade_page_macros" version_id="1010770" version_string="1.1.7"><![CDATA[<xf:macro name="upgrade_option" arg-upgrade="!" arg-profiles="!" arg-featured="" arg-redirect="" arg-coupon="">
	<xf:css src="thmonetize_upgrade_page.less" />
	<xf:css src="thmonetize_user_upgrade_cache.less" />
	<div class="thmonetize_UpgradeOption {{$featured ? 'thmonetize_UpgradeOption--featured' : ''}}">
		<div class="block-container thmonetize_upgrade thmonetize_upgrade--{$upgrade.user_upgrade_id}{{ $upgrade.thmonetize_style_properties.color ? ' thmonetize_upgrade--hasColor' : '' }}">
			<div class="block-header thmonetize_upgradeHeader{{ $upgrade.thmonetize_style_properties.shape ? ' thmonetize_upgradeHeader--shape thmonetize_upgradeHeader--' . $upgrade.thmonetize_style_properties.shape : '' }}">
				<h2 class="thmonetize_upgradeTitle">{$upgrade.title}</h2>
				<div class="thmonetize_upgradeHeader__price">
					<span class="thmonetize_upgradeHeader__priceRow">
						<xf:if is="$xf.language.currency_format === '{symbol}{value}' || $xf.language.currency_format === '{symbol} {value}'">
							<span class="thmonetize_upgrade__currency">{$upgrade.thmonetize_cost_currency_symbol}</span>
						</xf:if>
						<span class="thmonetize_upgrade__price">{$upgrade.thmonetize_cost_amount_formatted}</span>
						<xf:if is="!($xf.language.currency_format === '{symbol}{value}' || $xf.language.currency_format === '{symbol} {value}')">
							<span class="thmonetize_upgrade__currency">{$upgrade.thmonetize_cost_currency_symbol}</span>
						</xf:if>
						<xf:if contentcheck="true">
							<span class="thmonetize_upgrade__occurrence">/<xf:contentcheck>{$upgrade.thmonetize_length_phrase_short}</xf:contentcheck></span>
						</xf:if>
					</span>
					<span class="thmonetize_upgrade__length">{$upgrade.thmonetize_length_phrase_long}</span>
				</div>
				<div class="thmonetize_purchase">
					<xf:if is="!$upgrade.canPurchase()">
						<xf:set var="$active" value="{$upgrade.Active.{$xf.visitor.user_id}}" />
						<xf:if is="$upgrade.length_unit && $upgrade.recurring && $active.PurchaseRequest">
							<xf:set var="$provider" value="{$active.PurchaseRequest.PaymentProfile.Provider}" />
							{{ $provider.renderCancellation($active)|raw }}
						</xf:if>
						<xf:else />
						<xf:form action="{{ link('purchase', $upgrade, {'user_upgrade_id': $upgrade.user_upgrade_id}) }}" ajax="true" data-xf-init="payment-provider-container">
							<xf:hiddenval name="_xfRedirect">{$redirect}</xf:hiddenval>
							<xf:if is="{{ count($upgrade.payment_profile_ids) > 1 }}">
								<xf:select name="payment_profile_id">
									<xf:option>{{ phrase('(choose_payment_method)') }}</xf:option>
									<xf:foreach loop="$upgrade.payment_profile_ids" value="$profileId">
										<xf:option value="{$profileId}">{$profiles.{$profileId}}</xf:option>
									</xf:foreach>
								</xf:select>

								<span class="inputGroup-splitter"></span>
								<xf:else />
								<xf:hiddenval name="payment_profile_id">{$upgrade.payment_profile_ids|first}</xf:hiddenval>
							</xf:if>

							<xf:if is="$upgrade.cost_amount == 0 && !$xf.options.thmonetize_requireUserUpgradeOnRegistration">
								<a href="{{ link('account') }}" class="button button--fullWidth">{{ phrase('thmonetize_free_account') }}</a>
							<xf:elseif is="$coupon" />
								<xf:button type="submit" button="{{ phrase('thmonetize_purchase_with_coupon_x', {'coupon': $coupon.code}) }}" icon="purchase" class="button--cta button--fullWidth" />
							<xf:else />
								<xf:button type="submit" icon="purchase" class="button--cta button--fullWidth" />
							</xf:if>
							<xf:if is="is_addon_active('NF/GiftUpgrades')">
								<xf:if is="{{ $upgrade.canGift() }}">
									<xf:if is="{{ $upgrade.canPurchase() }}"><span class="inputGroup-splitter"></span></xf:if>
									<xf:button class="button--cta button--fullWidth" type="submit" name="gift" value="1" icon="nfgift">{{ phrase('nf_giftupgrades_gift') }}</xf:button>
								</xf:if>
							</xf:if>
						</xf:form>
					</xf:if>
				</div>
			</div>
			<div class="block-body">
				<xf:if is="$upgrade.description">
					<div class="block-row">
						<span>{$upgrade.description|raw}</span>
					</div>
				</xf:if>
				<div class="block-row">
					<xf:macro name="features" arg-features="{$upgrade.thmonetize_features}" arg-upgrade="{$upgrade}" arg-styleProperties="{$upgrade.thmonetize_style_properties}" />
				</div>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="upgrade_options" arg-upgradePage="!" arg-upgrades="!" arg-profiles="!" arg-showFree="{{ false }}" arg-filter="" arg-showFilters="" arg-redirect="" arg-coupons="" arg-coupon="">
	<xf:css src="thmonetize_upgrade_page.less" />

	<xf:if is="$xf.options.thmonetize_allowFreeUpgrade && $showFree && $xf.visitor.user_id && $xf.visitor.user_state == 'thmonetize_upgrade'">
		<div class="block u-clearFix">	
			<div class="u-pullRight">
				<a class="button button--primary" href="{{ link('thmonetize-free-account') }}" data-xf-click="overlay">{{ phrase('thmonetize_skip_step') }}</a>
			</div>
		</div>
	</xf:if>
	
	<div class="block u-clearFix block--monetizeOptions">
		<div class="buttonGroup u-pullRight">
			<xf:if is="$showFilters">
				<a href="{{ link('account/upgrades', $upgradePage, { 'filter': 'monthly' }) }}" class="button {{ $filter != 'monthly' ? 'button--alt' : '' }}">{{ phrase('thmonetize_monthly') }}</a>
				<a href="{{ link('account/upgrades', $upgradePage, { 'filter': 'annual' }) }}" class="button {{ $filter != 'annual' ? 'button--alt' : '' }}">{{ phrase('thmonetize_annual') }}</a>
				<a href="{{ link('account/upgrades', $upgradePage, { 'filter': 'all' }) }}" class="button {{ $filter != 'all' ? 'button--alt' : '' }}">{{ phrase('thmonetize_all') }}</a>
			</xf:if>
		</div>
		<span class="thmonetize_UpgradePageLinks-more">
			<xf:if is="$xf.options.thmonetize_allowFreeUpgrade && $showFree && $xf.visitor.user_id && $xf.visitor.user_state == 'thmonetize_upgrade'">
				<a class="button button--primary" href="{{ link('thmonetize-free-account') }}" data-xf-click="overlay">{{ phrase('thmonetize_free_account') }}</a>
			</xf:if>
			<xf:if is="$upgradePage.accounts_page_link">
				<a class="button" href="{{ link('account/upgrades', null, { 'show_all': 1 }) }}">{{ phrase('thmonetize_more...') }}</a>
			</xf:if>
		</span>
	</div>

	<xf:macro name="coupon_form" arg-coupons="{$coupons}" arg-coupon="{$coupon}" />

	<div class="block thmonetize_UpgradeOptionsList">
		<xf:foreach loop="$upgrades" value="$userUpgrade">
			<xf:macro name="upgrade_option" arg-upgrade="{$userUpgrade}" arg-profiles="{$profiles}" arg-featured="{$upgradePage.Relations.{$userUpgrade.user_upgrade_id}.featured}" arg-redirect="{$redirect}" arg-coupon="{$coupon}" />
		</xf:foreach>
	</div>

	<xf:if contentcheck="true">
		<div class="thmonetize_UpgradePageLinks">
			<xf:contentcheck>
				<xf:foreach loop="$upgradePage.UpgradePageLinks" value="{$upgradePageLink}">
					<a class="button button--primary" href="{{ link('account/upgrades', null, { 'upgrade_page_id': $upgradePageLink.upgrade_page_id }) }}">{$upgradePageLink.title}</a>
				</xf:foreach>
			</xf:contentcheck>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="features" arg-features="!" arg-upgrade="!" arg-styleProperties="!">
	<xf:css src="thmonetize_upgrade_page.less" />
	<xf:foreach loop="$features" value="$feature" key="$key">
		<div class="user-upgrade-feature {{ $feature.description ? 'has-description' : '' }}" data-xf-click="toggle" data-target=".user-upgrade-description-{{$upgrade->user_upgrade_id}}-{{$key}}">
			<xf:if is="$styleProperties.icon">
				<i class="fa {$styleProperties.icon} fa-{$styleProperties.icon}"></i>
				<xf:elseif is="$styleProperties.shape" />
				<i class="fa fa-{$styleProperties.shape}"></i>
				<xf:else />
				<i class="fa fa-check-circle"></i>
			</xf:if>
			<span>{$feature.text}</span>
			<xf:if is="$feature.description">
				<i class="user-upgrade-toggle-open fa fa-chevron-down"></i>
				<i class="user-upgrade-toggle-close fa fa-chevron-up"></i>
			</xf:if>
		</div>
		<xf:if is="$feature.description">
			<div class="block-row user-upgrade-description user-upgrade-description-{{$upgrade->user_upgrade_id}}-{{$key}}">
				<span>{$feature.description}</span>
			</div>
		</xf:if>
	</xf:foreach>
</xf:macro>

<xf:macro name="coupon_form" arg-coupons="" arg-coupon="">
	<xf:if is="$coupons is not empty || $xf.options.thmonetize_force_show_coupon_form">
		<xf:form action="{{ link('account/upgrade-coupon') }}" class="block" ajax="true" data-force-flash-message="true">
			<div class="block-container">
				<h2 class="block-header">{{ phrase('thmonetize_redeem_coupon') }}</h2>

				<div class="block-body">
					<xf:textboxrow name="coupon" label="{{ phrase('thmonetize_coupon_code') }}" />
					
					<xf:if is="$coupon">
						<xf:formrow label="{{ phrase('thmonetize_redeemed_coupon') }}" explain="{{ phrase('thmonetize_redeemed_coupon_explain') }}">
							<strong>{{ $coupon.code }} - {{ $coupon.title }}</strong>
							&nbsp;
							<xf:button type="submit" class="button--alt button--small" name="remove" value="1">Remove</xf:button>
						</xf:formrow>
					</xf:if>
				</div>

				<xf:submitrow submit="{{ phrase('thmonetize_redeem') }}" />
			</div>
		</xf:form>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="thmonetize_upgrade_page_view" version_id="1010770" version_string="1.1.7"><![CDATA[<xf:title>{$upgradePage.title}</xf:title>

<xf:css src="thmonetize_upgrade_page.less" />

<xf:macro template="thmonetize_upgrade_page_macros"
		  name="upgrade_options"
		  arg-upgradePage="{$upgradePage}"
		  arg-upgrades="{$upgrades}"
		  arg-profiles="{$profiles}"
		  arg-showFree="{{ true }}"
		  arg-filter="{{$filter}}"
		  arg-showFilters="{{$showFilters}}"
		  arg-redirect="{{$redirect}}"
		  arg-coupons="{{$coupons}}"
		  arg-coupon="{{$coupon}}"
		  />]]></template>
  <template type="public" title="thmonetize_upgrade_required" version_id="1010011" version_string="1.1.0 Alpha 1"><![CDATA[<xf:title>{{ phrase('thmonetize_upgrade_required') }}</xf:title>

<xf:css src="thmonetize_upgrade_page.less" />

<xf:head option="robots"><meta name="robots" content="noindex" /></xf:head>

<xf:if contentcheck="true">
	<div class="blockMessage blockMessage--error blockMessage--iconic">
		<xf:contentcheck>{$error}</xf:contentcheck>
	</div>
</xf:if>

<div class="blocks">
	<xf:if is="$upgradePage">
		<xf:macro template="thmonetize_upgrade_page_macros"
			name="upgrade_options"
			arg-upgradePage="{$upgradePage}"
			arg-upgrades="{$upgrades}"
			arg-profiles="{$profiles}"
			/>
	<xf:elseif is="$xf.visitor.user_id || $xf.options.thmonetize_allowGuestsToViewUserUpgrades" />
		<div class="thmonetize_UpgradeButtons">
			<div class="block-container">
				<div class="block-footer">
					<xf:button href="{{ link('account/upgrades') }}" class="button--cta">
						{{ phrase('thmonetize_show_all_available_upgrades') }}
					</xf:button>
				</div>
			</div>
		</div>
	<xf:else />
		<div class="thmonetize_UpgradeButtons">
			<div class="block-container">
				<div class="block-footer">
					<xf:button href="{{ link('register') }}" class="button--cta" xf-click="overlay">
						{{ phrase('thmonetize_show_all_available_upgrades') }}
					</xf:button>
				</div>
			</div>
		</div>
	</xf:if>
	<xf:if is="!$xf.visitor.user_id">
		<div class="block-outer block-outer--after">
			<div class="block-outer-middle">
				{{ phrase('thmonetize_already_have_account_question') }}
				<xf:button href="{{ link('login') }}" icon="login" />
			</div>
		</div>
	</xf:if>

	<xf:if is="$providers is not empty">
		<div class="blocks-textJoiner"><span></span><em>{{ phrase('or_separator') }}</em><span></span></div>

		<div class="block">
			<div class="block-container">
				<div class="block-body">
					<xf:formrow rowtype="button"
						label="{{ phrase('log_in_using') }}">

						<ul class="listHeap">
							<xf:foreach loop="$providers" value="$provider">
								<li>
									<xf:macro template="connected_account_macros" name="button"
										arg-provider="{$provider}" />
								</li>
							</xf:foreach>
						</ul>
					</xf:formrow>
				</div>
			</div>
		</div>
	</xf:if>
</div>]]></template>
  <template type="public" title="thmonetize_user_upgrade_generator_macros" version_id="1010015" version_string="1.1.0 Alpha 5"><![CDATA[<xf:macro name="generator" arg-upgrade="!" arg-isLight="!" arg-color="!" arg-shape="!">
	.thmonetize_upgrade--{$upgrade.user_upgrade_id} {
		--upgrade-backgroundColor: {$color|raw};
		--upgrade-textColor: {{ $isLight ? '#fff' : '#000' }};

		i {
			color: {$color|raw};
		}

		.block-header, .formRow > dt {
			background: {$color|raw};
			color: {{ $isLight ? '#fff' : '#000' }};
		}

		.formRow .formRow-hint {
			color: {{ $isLight ? '#fff' : '#000' }};
		}

		.thmonetize_upgradeHeader__priceRow {
			text-shadow: 0 0 2px {$color|raw};
		}

		<xf:if is="$shape === 'circle' || $shape === 'square'">
			.thmonetize_upgradeHeader--shape {
				background: xf-diminish({$color|raw}, 14%);
				.thmonetize_upgradeHeader__price {
					background: {$color|raw};
					color: {{ $isLight ? '#fff' : '#000' }};
				}
			}
		<xf:elseif is="$shape" />
			.thmonetize_upgradeHeader--shape {
				background: xf-diminish({$color|raw}, 14%);
				.thmonetize_upgradeHeader__price {
					color: {{ $isLight ? '#fff' : '#000' }};
					&:before {
						color: {$color|raw};
					}
				}
			}
		</xf:if>
	}
</xf:macro>]]></template>
</templates>
